(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3185],{42480:function(){},8384:function(e,t,n){Promise.resolve().then(n.t.bind(n,58877,23)),Promise.resolve().then(n.bind(n,77043)),Promise.resolve().then(n.t.bind(n,38173,23)),Promise.resolve().then(n.bind(n,10912)),Promise.resolve().then(n.bind(n,61481)),Promise.resolve().then(n.t.bind(n,46435,23)),Promise.resolve().then(n.bind(n,71180)),Promise.resolve().then(n.bind(n,23118)),Promise.resolve().then(n.bind(n,49503)),Promise.resolve().then(n.bind(n,37130))},71275:function(e,t,n){"use strict";let a=n(2265).createContext({});t.Z=a},42005:function(e,t,n){"use strict";var a=n(38472),r=n(62737),s=n.n(r),o=n(51470),i=n.n(o),l=n(9109).lW;s().extend(i()),t.Z=(e,t)=>{let n=a.Z.create({baseURL:"http://devbackend-psolrtjabodebek.kai.id/api/v1/",headers:e||{Accept:"application/json","Content-Type":"application/json"},...t});n.interceptors.request.use(e=>{let t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e.headers["request-startTime"]=new Date().getTime(),e.headers["request-date"]=s()(),e},e=>Promise.reject(e)),n.interceptors.response.use(e=>{let t=new Date().getTime(),n=e.config.headers["request-startTime"];return e.headers["request-duration"]=t-n,e});let r=()=>{var e,t;let n=!!(e=localStorage.getItem("accessToken"))&&JSON.parse(new l((null==e?void 0:null===(t=e.split("."))||void 0===t?void 0:t[1]).replace(/-/g,"+").replace(/_/g,"/"),"base64").toString("ascii"));return!!n&&n.token_id},o=async()=>n.get("/user/".concat(r())).then(e=>{let t=e.data.data.role_id;return n.post("/menu/list/",{role_id:t}).then(e=>e.data)}).catch(e=>e);return{idUser:r,login:async e=>n.post("/auth/login",e).then(e=>{let{data:t}=e;return localStorage.setItem("accessToken",t.data.accessToken),localStorage.setItem("refreshToken",t.data.refreshToken),sessionStorage.setItem("auth",JSON.stringify(t.data.user)),t}).catch(e=>{var t,n;return null!==(n=null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.data)&&void 0!==n?n:e}),get:async(e,t)=>n.get(e).then(e=>t?e:e.data).catch(e=>e),post:async(e,t,a)=>n.post(e,t,a).then(e=>e.data).catch(e=>e),menuUsers:o,menuApp:async()=>n.post("/menu/list/").then(e=>e.data).catch(e=>e),refresh_Token:async()=>{let e=localStorage.getItem("refreshToken");return!!e&&(n.interceptors.request.use(t=>(t.headers["refresh-token"]=e,t),e=>Promise.reject(e)),n.get("/auth/refresh-token").then(e=>{let{data:t}=e;return localStorage.setItem("accessToken",t.data.accessToken),localStorage.setItem("refreshToken",t.data.refreshToken),t}).catch(e=>!1))},cekPermission:(e,t)=>{let n=!1,a="",r=e=>{e.submenuItems.map(e=>{e.submenuItems?(""!==a&&(a=e.submenuItems[0].path),r(e)):e.path==t.replace("/admin","")&&(n=!0)})};return null==e||e.map(s=>{s.submenuItems?(""!==a&&(a=s.submenuItems[0].path),s.submenuItems.map(e=>{e.submenuItems?(""!==a&&(a=e.submenuItems[0].path),r(e)):e.path==t.replace("/admin","")&&(n=!0)})):(""==s.path?n=!0:""!==a&&e[0].path,s.path==t.replace("/admin","")&&(n=!0))}),!!n},put:async(e,t)=>n.put(e,t).then(e=>e.data).catch(e=>e),del:async(e,t)=>(console.log("data delete",t),n.delete(e,{data:t}).then(e=>e).catch(e=>e)),menuPso:async e=>n.post("/pso/",{start:e[0],end:e[1]}).then(e=>e.data).catch(e=>e)}}},13498:function(e,t,n){"use strict";n.d(t,{cn:function(){return s}});var a=n(44839),r=n(96164);function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.m6)((0,a.W)(t))}},77043:function(e,t,n){"use strict";n.d(t,{default:function(){return d}});var a=n(57437),r=n(42005),s=n(2265),o=n(16463),i=n(13498),l=n(66648),c=e=>{let{title:t,className:n,style:r,loading:s}=e;return(0,a.jsx)(a.Fragment,{children:s?(0,a.jsxs)("div",{style:{...r,fontFamily:"Madimi"},className:(0,i.cn)("absolute inset-0 w-full h-full bg-soft dark:bg-zinc-950 rounded-2xl z-50 flex justify-center items-center flex-col space-y-1",n),children:[(0,a.jsx)(l.default,{alt:"anim",width:150,height:150,loading:"lazy",src:"/logo.png",className:"w-12 h-12 md:w-16 md:h-16 2xl:w-20 2xl:h-20 animate-pulse"}),(0,a.jsx)("span",{className:"animate-pulse text-sm md:text-base 2xl:text-lg  text-muted-foreground",children:t||"Please Wait"})]}):null})},u=n(71275),d=e=>{let{children:t}=e,[n,i]=(0,s.useState)((0,s.useContext)(u.Z)),[l,d]=(0,s.useState)(!1),m=(0,o.usePathname)(),h=(0,o.useRouter)();(0,s.useEffect)(()=>{let e=()=>{try{window.top&&window!==window.top&&(window.top.location.href=window.location.href)}catch(e){console.error("Error while attempting to break out of frames:",e)}};return e(),window.addEventListener("load",e),()=>{window.removeEventListener("load",e)}},[]);let p=e=>{let t=[];if(e){let n=e=>{e.submenuItems.find(e=>{e.submenuItems?n(e):e.path===m.replace("/admin","")&&(t=e.permission)})};e.find(e=>{e.submenuItems?n(e):e.path===m.replace("/admin","")&&(t=e.permission)})}return t};return(0,s.useEffect)(()=>{d(!0),(async()=>{let e=await (0,r.Z)().get("/auth/menu-list"),t=localStorage.getItem("rememberMe");if("00"!=e.code||t){if("true"!=t){let e=await (0,r.Z)().refresh_Token();"00"==e.code?(i({dataUser:e.data,permission:p(e.data.menuList)}),(0,r.Z)().cekPermission(e.data.menuList,m)||"/auth"!=m||h.push("/")):h.push("/auth")}}else i({dataUser:e.data,permission:p(e.data.menuList)}),(0,r.Z)().cekPermission(e.data.menuList,m)||"/auth"!=m||h.push("/");setTimeout(()=>{localStorage.removeItem("rememberMe"),d(!1)},800)})()},[]),(0,s.useEffect)(()=>{var e;p&&i({...n,permission:p(null==n?void 0:null===(e=n.dataUser)||void 0===e?void 0:e.menuList)})},[m]),(0,a.jsxs)(u.Z.Provider,{value:n,children:[(0,a.jsx)(c,{style:{zIndex:999},loading:l}),t]})}},71180:function(e,t,n){"use strict";n.r(t);var a=n(57437),r=n(25057),s=n(62586),o=n(68348),i=n(85169);let l="Calibri";t.default=e=>{let{children:t}=e,{systemTheme:n,theme:c}=(0,i.F)(),{defaultAlgorithm:u,darkAlgorithm:d}=r.default;return document.body.style.fontFamily=l,(0,a.jsx)(s.ZP,{theme:{algorithm:"dark"===c?d:"system"===c&&"dark"===n?d:u,token:{colorPrimary:"rgb(113 113 122)",colorBgContainer:"dark"===c?"rgb(9, 9, 11)":"system"===c&&"dark"===n?"rgb(9, 9, 11)":"#ffffff",colorTextPlaceholder:"rgb(161, 161, 170)",colorBorder:"dark"===c?"rgb(39 39 42)":"system"===c&&"dark"===n?"rgb(39 39 42)":"rgb(212 212 216)",borderRadius:5,fontFamily:l}},componentSize:"large",children:(0,a.jsx)(o.Z,{children:t})})}},23118:function(e,t,n){"use strict";var a=n(57437),r=n(64746),s=n.n(r);n(2265);var o=n(58110),i=n.n(o);s().register("locale","id",{delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"rb",million:"jt",billion:"m",trillion:"t"},ordinal:function(e){return"."},currency:{symbol:"Rp "}}),s().locale("id"),window.makeUrl=e=>"http://devbackend-psolrtjabodebek.kai.id/file/"+((e,t)=>{let n="".concat(e,",").concat(e+6e4*t);return String(i().AES.encrypt(n,i().enc.Hex.parse("0123456789abcdef0123456789abcdef"),{iv:i().enc.Hex.parse("abcdef9876543210abcdef9876543210")})).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})(Date.now(),.1)+"/"+e,window.convertImageToBase64=e=>new Promise((t,n)=>{let a=new Image;a.crossOrigin="Anonymous",a.onload=()=>{let e=document.createElement("canvas");e.width=a.width,e.height=a.height,e.getContext("2d").drawImage(a,0,0),t(e.toDataURL("image/png"))},a.onerror=e=>n(e),a.src=e}),t.default=()=>(0,a.jsx)(a.Fragment,{})},49503:function(e,t,n){"use strict";n.d(t,{ThemeProvider:function(){return s}});var a=n(57437),r=n(85169);function s(e){let{children:t,...n}=e;return(0,a.jsx)(r.f,{...n,children:t})}},58877:function(){},37130:function(e,t,n){"use strict";n.r(t),t.default={src:"/_next/static/media/logo.27046e21.png",height:820,width:820,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAALVBMVEVMaXHcFAveEQrZFAnaEwjfEQbZEwrhEgXWGArgEgbWFwvlEgXiEwXsEwbtEwX7azahAAAADnRSTlMABBMzX2ohjE7RWN6tpwAV1AwAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAA0SURBVHicNYvJCQAxEICcO3f/5S4biOBP4SEqV2xEujdo4j1xw8Kq0EAUnSv2n5P91Fv5ABjxAMoWTj7IAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}}},function(e){e.O(0,[2459,8173,9141,2470,8348,4746,6799,2971,7023,1744],function(){return e(e.s=8384)}),_N_E=e.O()}]);