(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5664,1105],{23664:function(e,t,l){Promise.resolve().then(l.bind(l,20859))},20859:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return N}});var a=l(57437),n=l(71275),r=l(2265),o=l(16463),s=l(68348),i=l(72100),c=l(77733),d=l(95381),m=l(38378),u=l(62737),f=l.n(u),p=l(42005),h=l(38797),g=l(41105),x=l(30939),v=l(65188),y=l(61438),b=l.n(y);let Y=(e,t,l,a,n)=>{if(!e||0===e.length)return;let r=new(b()).Workbook;r.creator="NUTECH",r.lastModifiedBy="LRT",r.created=new Date,r.modified=new Date,r.lastPrinted=new Date;let o="calibri";a[0][0],a[0][1],a[0][2];let s=i(a[1][0],a[1][1],a[1][2],"total");function i(e,t,l,a){return"column"==a?"FF"+(e<<16|t<<8|l).toString(16).toUpperCase().padStart(6,"0"):"total"==a?"FF"+(e<<16|t<<8|l).toString(16).toUpperCase().padStart(6,"0"):void 0}let c=i(a[2][0],a[2][1],a[2][2],"total"),d=r.addWorksheet();d.getCell("A1").value=n.headerColumn,d.mergeCells("A1:F1"),d.getCell("A1").font={size:11,bold:!0,name:o},d.getCell("A2").value=n.reportColumn,d.mergeCells("A2:F2"),d.getCell("A2").font={size:11,bold:!0,name:o},d.getCell("A3").value=n.periodeColumn+""+t.toUpperCase(),d.getCell("A3").font={size:11,bold:!0,name:o};let m=["A","B","C","D"];for(let e=0;e<m.length;e++){let t=m[e]+"5";d.getCell(t).alignment={horizontal:"center",vertical:"middle"},d.getCell(t).font={size:10,name:o,bold:!0,color:{argb:a[3][0]}},d.getCell(t).fill={type:"pattern",pattern:"solid",fgColor:{argb:c}}}let u=["D","E","F"];for(let e=0;e<u.length;e++){let t=u[e]+"6";d.getCell(t).alignment={horizontal:"center",vertical:"middle"},d.getCell(t).font={size:10,name:o,bold:!0,color:{argb:a[3][0]}},d.getCell(t).fill={type:"pattern",pattern:"solid",fgColor:{argb:c}}}d.getCell("A5").value="NO",d.mergeCells("A5:A6"),d.getCell("B5").value="NAMA KERETA",d.mergeCells("B5:B6"),d.getCell("C5").value="LINTAS PELAYANAN",d.mergeCells("C5:C6"),d.getCell("D5").value="FREKUENSI",d.mergeCells("D5:F5"),d.getCell("D6").value="KONTRAK",d.getCell("E6").value="REALISASI",d.getCell("F6").value="SELISIH";let f={};for(let e of m){f[e]=0;for(let t=5;t<=6;t++){let l=d.getCell("".concat(e).concat(t)).value;l&&l.toString().length>f[e]&&(f[e]=l.toString().length)}}for(let e of m)d.getColumn(e).width=f[e]+2;let p=e=>{let t=1,l="";for(let a=e.length-1;a>=0;a--){let n=e.toUpperCase().charCodeAt(a);if((n+=t)>90?(n=66,t=1):t=0,l=String.fromCharCode(n)+l,!t){l=e.substring(0,a)+l;break}}return t&&(l="A"+l),l},g=7,x=6;null==e||e.map((e,t)=>{var l,a;null===(l=e.data_rows)||void 0===l||l.map((e,t)=>{let l=[t+1,(0,h.TM)(e.train_name),(0,h.TM)(e.train_route),(0,h.TM)(e.program),(0,h.TM)(e.realization),(0,h.TM)(e.difference)],a="A";x+=1,l.map(e=>{let t=a+x;d.getCell(t).value=e,d.getCell(t).font={size:9,name:o},d.getCell(t).alignment={horizontal:"center",vertical:"middle"},d.getCell(t).numFmt="#,##0_);(#,##0)",a=p(a)})}),null===(a=e.summary)||void 0===a||a.map((e,t)=>{let l=["","","TOTAL",(0,h.TM)(parseInt(e.program)),(0,h.TM)(parseInt(e.realization)),(0,h.TM)(parseInt(e.difference))],a="A";x+=1,d.mergeCells("A"+x+":C"+x),l.map(e=>{let t=a+x;d.getCell(t).value=e,d.getCell(t).font={size:9,name:o,bold:!0},d.getCell(t).alignment={horizontal:"center",vertical:"middle"},d.getCell(t).fill={type:"pattern",pattern:"solid",fgColor:{argb:s}},d.getCell(t).numFmt="#,##0_);(#,##0)",a=p(a)})}),g+=1});var v={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}};return d.eachRow({includeEmpty:!0},function(e){e._number>3&&e.eachCell({includeEmpty:!0},function(e){e.border=v})}),d.getCell("D".concat(x+3)).value=null==l?void 0:l.n_position_1,d.getCell("D".concat(x+7)).value=null==l?void 0:l.n_name_1,d.getCell("D".concat(x+8)).value="Nipp. "+(null==l?void 0:l.i_nipp_1),d.getCell("D".concat(x+3)).font={size:10,name:o,bold:!0},d.getCell("D".concat(x+7)).font={size:10,name:o,bold:!0,underline:!0},d.getCell("D".concat(x+8)).font={size:10,name:o,bold:!0},d.getCell("D".concat(x+3)).alignment={horizontal:"center",vertical:"middle"},d.getCell("D".concat(x+7)).alignment={horizontal:"center",vertical:"middle"},d.getCell("D".concat(x+8)).alignment={horizontal:"center",vertical:"middle"},d.mergeCells("D".concat(x+3," : F").concat(x+3)),d.mergeCells("D".concat(x+7," : F").concat(x+7)),d.mergeCells("D".concat(x+8," : F").concat(x+8)),r.xlsx.writeBuffer().then(e=>{let l=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),a=window.URL.createObjectURL(l),n=document.createElement("a");document.body.appendChild(n),n.setAttribute("style","display: none"),n.href=a,n.download="FREKUENSI KA "+t.toUpperCase()+".xlsx",n.click(),window.URL.revokeObjectURL(a),n.remove()})};var w=l(97501);let C=(e,t,l,a,n,r,o)=>{if(!e||0===e.length)return;new w.default({format:"legal",orientation:"landscape"}).internal.pageSize.width,t.split("-"),n.headerColumn,n.reportColumn,n.periodeColumn,t.toUpperCase();let s=[];null==e||e.map((e,t)=>{var l,n;null===(l=e.data_rows)||void 0===l||l.map((e,t)=>{let l=[{content:t+1,styles:{halign:"center"}},{content:(0,h.TM)(e.train_name),styles:{halign:"center"}},{content:(0,h.TM)(e.train_route),styles:{halign:"center"}},{content:(0,h.TM)(e.program,(0,h.uf)(e.program)),styles:{halign:"center"}},{content:(0,h.TM)(e.realization,(0,h.uf)(e.realization)),styles:{halign:"center"}},{content:(0,h.TM)(e.difference,(0,h.uf)(e.difference)),styles:{halign:"center"}}];s.push(l)}),null===(n=e.summary)||void 0===n||n.map((e,t)=>{let l=[{content:"TOTAL",colSpan:3,styles:{halign:"center",fillColor:a[1],fontStyle:"bold"}},{content:(0,h.TM)(e.program,(0,h.uf)(e.program)),styles:{halign:"center",fillColor:a[1],fontStyle:"bold"}},{content:(0,h.TM)(e.realization,(0,h.uf)(e.realization)),styles:{halign:"center",fillColor:a[1],fontStyle:"bold"}},{content:(0,h.TM)(e.difference,(0,h.uf)(e.difference)),styles:{halign:"center",fillColor:a[1],fontStyle:"bold"}}];s.push(l)})}),h.x4.pdf({globalState:o,reportType:l,date:n.periodeColumn+t.toUpperCase(),positionSignature:{column:2,underlinePadding:-2,paddingTop:-1,marginLeft:-10,fontSize:8},headStyle:{cellPadding:1,marginLeft:45,marginRight:0,cellWidth:20},dataHead:[[{content:"NO",rowSpan:2,styles:{halign:"center",cellWidth:10}},{content:"NAMA KERETA",rowSpan:2,styles:{halign:"center",cellWidth:28}},{content:"LINTAS PELAYANAN",rowSpan:2,styles:{halign:"center",cellWidth:30}},{content:"FREKUENSI",colSpan:3,styles:{halign:"center"}}],[{content:"KONTRAK",styles:{halign:"center"}},{content:"REALISASI",styles:{halign:"center"}},{content:"SELISIH",styles:{halign:"center"}}]],dataBody:s,nameFile:"FREKUENSI KA  "+t.toUpperCase(),landscape:!1,pageSize:{width:215.9,height:355.6}})};function N(){var e,t,l,u;let y=(0,r.useContext)(n.Z),b=(0,o.usePathname)(),w=s.Z.useApp(),[N,j]=(0,r.useState)([]),[M,S]=(0,r.useState)(0),[D,I]=(0,r.useState)(null),[k,A]=(0,r.useState)(),[E,O]=(0,r.useState)(null),[T,Z]=(0,r.useState)(!1),[z,_]=(0,r.useState)([1,"month"]),F=null==y?void 0:null===(t=y.dataUser)||void 0===t?void 0:null===(e=t.user)||void 0===e?void 0:e.username,R=[[254,249,195],[255,255,255],[121,193,235],["000000"]],U={headerColumn:null==k?void 0:k.n_line_1,reportColumn:null==k?void 0:k.n_line_2,periodeColumn:null==k?void 0:k.n_line_4,periodeColumn2:"Tahun  ",dateColumn:D};(0,r.useEffect)(()=>{if(null!=N){let a="",n="";if(1==z[0])a=N,n=N;else if(2==z[0]){if(N){a=N;var e=new Date(N);e.setMonth(e.getMonth()+2);var t=f()(e).format("DD"),l=f()(e).format("MM");n=f()(e).format("YYYY")+"-"+l+"-"+t}}else 3==z[0]?N&&(a=N[0],n=N[1]):4==z[0]&&N&&(a=f()(N).format("YYYY"),n=f()(N).endOf("year").format());let r="",o="",s="",i="";3==z[0]?(s=f()(a).format("DD MMMM YYYY"),i=f()(n).format("DD MMMM YYYY")):(r=a,o=n,s=f()(r).format("MMMM YYYY"),i=f()(o).format("MMMM YYYY"));I((4==z[0]?" TAHUN "+f()(r).format("YYYY"):2==z[0]?s+" S/D "+i:3==z[0]?s+" S/D "+i:s).toUpperCase())}let a=async()=>{let e,t="",l="",a="",n="";if(1==z[0])t=f()(N).format("MM"),l=f()(N).format("YYYY"),a=f()(N).format("MM"),n=f()(N).format("YYYY"),e=null;else if(2==z[0]){if(N){t=f()(N).format("MM"),l=f()(N).format("YYYY");var r=new Date(N);r.setMonth(r.getMonth()+2),a=f()(r).format("MM"),n=f()(r).format("YYYY"),e=null}}else 3==z[0]?N&&(e=(null==N?void 0:N[0])+"_"+(null==N?void 0:N[1]),t=f()(N[0]).format("MM"),l=f()(N[0]).format("YYYY"),a=f()(N[1]).format("MM"),n=f()(N[1]).format("YYYY")):4==z[0]&&N&&(t="01",a="12",l=f()(N).format("YYYY"),n=f()(N).format("YYYY"),e=null);let o=t+"_"+a,s=l+"_"+n,i=e,c=await (0,p.Z)().get("report-type/TR_FREQUENCY"),d=await (0,p.Z)().get("report/train-frequency?period_date="+i+"&period_month="+o+"&period_year="+s);(0,x.Z)({res:d,app:w})&&O(d.data),(0,x.Z)({res:c,app:w})&&A(null==c?void 0:c.data),Z(!1)};3==z[0]&&(null==N?void 0:N[0])&&(null==N?void 0:N[1])?N[0]&&"Invalid Date"!==f()(N[0]).format("YYYY-MM-DD")&&N[1]&&"Invalid Date"!==f()(N[1]).format("YYYY-MM-DD")?(Z(!0),a()):O(null):N&&"Invalid Date"!==f()(N).format("YYYY-MM-DD")?(Z(!0),a()):O(null)},[N,z,w]);let P=(e,t,l,a)=>{if("pdf"==e)C(t,l,a,R,U,F,y);else{if("excel"!=e)return"";Y(t,l,a,R,U)}},{message:L,notification:B,modal:K}=w,[H,W]=(0,r.useState)(!1),G=async e=>{W(!0);let t=async()=>{try{return"pdf"==e?P("pdf",E,D,k):P("excel",E,D,k),!0}catch(e){return console.log(e),!1}};setTimeout(async()=>{await t()?setTimeout(()=>{L.open({type:"success",content:(0,a.jsx)("span",{className:" capitalize",children:"Export Success"})}),W(!1)},1e3):setTimeout(()=>{L.open({type:"error",content:(0,a.jsx)("span",{className:" capitalize",children:"Export Invalid"})}),W(!1)},1e3)},500)};return(0,a.jsx)(v.Z,{pathname:b,globalState:y,children:(0,a.jsx)(g.Z,{type:z[1],loadingExport:H,childrenInput:(0,a.jsxs)("div",{className:"flex flex-col ml-2",children:[(0,a.jsx)("span",{id:"subject",className:"mb-5 mt-3  text-[14px]",children:"Tipe"}),(0,a.jsx)(i.default,{disabled:H,placeholder:"Select Filter",onChange:e=>{S(M+1),j(null);let t="",l=0;"month"==e?(t="month",l=1):"triwulan"==e?(t="triwulan",l=2):"rangepicker"==e?(t="rangepicker",l=3):(t="year",l=4),_([l,t])},defaultValue:"Per Bulan",className:"max-md:w-full",options:[{value:"month",label:"Per Bulan"},{value:"triwulan",label:"Per Triwulan"},{value:"year",label:"Per Tahun"},{value:"rangepicker",label:"Per Hari"}]})]}),codeDelete:1==z[0]?"":"TRAIN_FREQUENCY",onDelete:()=>O(void 0),downloadPdf:()=>G("pdf"),downloadExcel:()=>G("excel"),onChangeTri:M,data:E,loading:T,dateChange:e=>j(e),children:(0,a.jsx)(c.Z,{children:(0,a.jsxs)(d.Z,{span:28,offset:4,children:[h.x4.web.header(k,"".concat(U.periodeColumn+D)),(0,a.jsx)(m.Z,{bordered:!0,rowClassName:h.x4.web.striped,pagination:!1,columns:[{title:"NO",dataIndex:"no",key:"no",align:"center",width:"3%"},{title:"NAMA KERETA",dataIndex:"train_name",key:"train_name",align:"center",width:"150px"},{title:"LINTAS PELAYANAN",dataIndex:"train_route",key:"train_route",align:"center",width:"200px"},{title:"FREKUENSI",children:[{title:"KONTRAK",dataIndex:"program",key:"program",align:"center",width:"100px"},{title:"REALISASI",dataIndex:"realization",key:"realization",align:"center",width:"100px"},{title:"SELISIH",dataIndex:"difference",key:"difference",align:"center",width:"100px"}]}],dataSource:E&&(null===(l=E[0])||void 0===l?void 0:l.data_rows)?null===(u=E[0])||void 0===u?void 0:u.data_rows.map((e,t)=>{let l=(0,h.TM)(e.train_name),a=(0,h.TM)(e.train_route),n=(0,h.TM)(e.program,(0,h.uf)(e.program)),r=(0,h.TM)(e.realization,(0,h.uf)(e.realization)),o=(0,h.TM)(e.difference,(0,h.uf)(e.difference)),s={...e};return s.no=t+1,s.train_name=l,s.train_route=a,s.program=n,s.realization=r,s.difference=o,s}):[],summary:()=>{var e,t;let l=[];return E&&(null===(e=E[0])||void 0===e?void 0:e.summary)&&(null===(t=E[0])||void 0===t||t.summary.map((e,t)=>{let a=(0,h.TM)(e.program,(0,h.uf)(e.program)),n=(0,h.TM)(e.realization,(0,h.uf)(e.realization)),r=(0,h.TM)(e.difference,(0,h.uf)(e.difference)),o={...e};o.no=t+1,o.program=a,o.realization=n,o.difference=r;let s={program:o.program,realization:o.realization,difference:o.difference};l.push(s)})),(0,a.jsxs)(m.Z.Summary.Row,{className:"dark:bg-black bg-tbl-footer",style:h.wF.web.bodyTotal,children:[(0,a.jsx)(m.Z.Summary.Cell,{colSpan:3,index:0,className:"text-center uppercase font-bold",children:"Total"}),(0,a.jsx)(m.Z.Summary.Cell,{index:2,className:"text-center",children:l[0].program}),(0,a.jsx)(m.Z.Summary.Cell,{index:3,className:"text-center",children:l[0].realization}),(0,a.jsx)(m.Z.Summary.Cell,{index:4,className:"text-center",children:l[0].difference})]})}})]})})})})}},57608:function(e,t,l){"use strict";l.d(t,{Ol:function(){return s},SZ:function(){return c},Zb:function(){return o},aY:function(){return d},ll:function(){return i}});var a=l(57437),n=l(2265),r=l(13498);let o=n.forwardRef((e,t)=>{let{className:l,classNameFalse:n,...o}=e;return(0,a.jsx)("div",{ref:t,className:n?l:(0,r.cn)("rounded-2xl my-2 border border-zinc-200 bg-white text-zinc-950 shadow dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",l),...o})});o.displayName="Card",n.forwardRef((e,t)=>{let{className:l,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("rounded-2xl border border-zinc-200 bg-white text-zinc-950 shadow dark:border-zinc-800 dark:bg-zinc-900 dark:text-zinc-50",l),...n})}).displayName="Card900";let s=n.forwardRef((e,t)=>{let{className:l,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 px-6 py-3  rounded-t-2xl  bg-white dark:bg-black",l),...n})});s.displayName="CardHeader";let i=n.forwardRef((e,t)=>{let{className:l,...n}=e;return(0,a.jsx)("h3",{ref:t,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",l),...n})});i.displayName="CardTitle";let c=n.forwardRef((e,t)=>{let{className:l,...n}=e;return(0,a.jsx)("p",{ref:t,className:(0,r.cn)("text-sm text-zinc-500 dark:text-zinc-400 ",l),...n})});c.displayName="CardDescription";let d=n.forwardRef((e,t)=>{let{className:l,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("p-6 pt-5 bg-white dark:bg-black rounded-b-2xl",l),...n})});d.displayName="CardContent",n.forwardRef((e,t)=>{let{className:l,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",l),...n})}).displayName="CardFooter"},41105:function(e,t,l){"use strict";l.d(t,{Z:function(){return O}});var a=l(57437),n=l(2265),r=l(16463),o=l(68348),s=l(62586),i=l(46682),c=l(62575),d=l(85169),m=l(62737),u=l.n(m);l(65799);var f=l(71275),p=l(57608),h=l(16584),g=l(32034),x=l(23288),v=l(85313),y=l(90696),b=l(9707),Y=l(66407),w=l(63843),C=l(99945),N=l(73717),j=e=>{let{downloadFalse:t,loadingExport:l,trueApprave:r,downloadPdf:s,downloadExcel:c,title:d,onDelete:m,falseDelete:u,date:p,approve:h,onApprove:j,onUnapprove:M,loadingDisable:S}=e,D=(0,n.useContext)(f.Z),[I,k]=(0,n.useState)([]),[A,E]=(0,n.useState)([]),{message:O,notification:T,modal:Z}=o.Z.useApp(),{confirm:z}=Z;return(0,n.useEffect)(()=>{var e,l,n,o,i;let f=[],g=[];(null==D?void 0:null===(e=D.permission)||void 0===e?void 0:e.indexOf("export excel"))!==-1&&c&&!t&&f.push({key:"excel",label:(0,a.jsx)("a",{className:"w-full text-left",onClick:c,children:"Excel"}),icon:(0,a.jsx)(v.Z,{style:{color:"green"}}),className:"h-10"}),(null==D?void 0:null===(l=D.permission)||void 0===l?void 0:l.indexOf("export pdf"))!==-1&&s&&!t&&f.push({key:"pdf",label:(0,a.jsx)("a",{className:"w-full text-left",onClick:s,children:"PDF"}),icon:(0,a.jsx)(y.Z,{style:{color:"red"}}),className:"h-10"}),(null==D?void 0:null===(n=D.permission)||void 0===n?void 0:n.indexOf("delete"))===-1||u||g.push({key:"delete",label:(0,a.jsx)("a",{className:"w-full text-left",onClick:()=>{z({title:"Delete data?",icon:(0,a.jsx)(b.Z,{}),content:"Are you sure want to delete this ".concat(d," data in ").concat(p," ?"),okText:"Yes",okType:"danger",cancelText:"No",onOk(){m(!0)}})},children:"Delete"}),icon:(0,a.jsx)(b.Z,{style:{color:"red"}}),className:"h-10"}),p&&(h?(null==D?void 0:null===(i=D.permission)||void 0===i?void 0:i.indexOf("unapprove"))!==-1&&r&&g.push({key:"unapprove",label:(0,a.jsx)("a",{className:"w-full text-left",onClick:()=>{z({title:"Unapprove data?",icon:(0,a.jsx)(w.Z,{}),content:"Are you sure want to Unapprove this ".concat(d," data in ").concat(p," ?"),okText:"Yes",okType:"danger",cancelText:"No",onOk(){M(!0)}})},children:"Unapprove"}),icon:(0,a.jsx)(w.Z,{style:{color:"red"}}),className:"h-10"}):(null==D?void 0:null===(o=D.permission)||void 0===o?void 0:o.indexOf("approve"))!==-1&&r&&g.push({key:"approve",label:(0,a.jsx)("a",{className:"w-full text-left",onClick:()=>{z({title:"Approve data?",icon:(0,a.jsx)(Y.Z,{style:{color:"green"}}),content:"Are you sure want to Approve this ".concat(d," data in ").concat(p," ?"),okText:"Yes",cancelText:"No",onOk(){j(!0)}})},children:"Approve"}),icon:(0,a.jsx)(Y.Z,{style:{color:"green"}}),className:"h-10"})),k(f),E(g)},[z,t,r,u,D,d,p,m,s,c,h,j,M]),(0,a.jsxs)(a.Fragment,{children:[A.length?(0,a.jsx)("div",{className:"",children:(0,a.jsx)(g.Z,{className:"md:mt-12 float-right mr-4",disabled:l,menu:{items:A},children:(0,a.jsx)(i.ZP,{children:(0,a.jsxs)(x.Z,{children:[(0,a.jsx)(C.Z,{})," Opsi"]})})})}):null,I.length?(0,a.jsx)("div",{className:"",children:(0,a.jsx)(g.Z,{className:"md:mt-12 float-right",disabled:!!l||!!S,menu:{items:I},children:(0,a.jsx)(i.ZP,{loading:l,children:(0,a.jsxs)(x.Z,{children:[l?"":(0,a.jsx)(N.Z,{})," Export"]})})})}):null]})},M=l(42005),S=l(30939),D=l(95053),I=l(72100);let{RangePicker:k}=D.default;var A=e=>{let{disabled:t,className:l,onDateSelect:r,widthDate:o,enableSelect:s,onDistanceSelect:i,typeDatePicker:c,showTime:d,loadingDisable:m,allowClear:f,onChangeTri:p,disabledDate:h}=e,[g,x]=(0,n.useState)([]),[v,y]=(0,n.useState)(""),[b,Y]=(0,n.useState)(""),[w,C]=(0,n.useState)(0),[N,j]=(0,n.useState)(null),[S,A]=(0,n.useState)(0),[E,O]=(0,n.useState)(null),[T,Z]=(0,n.useState)(null),[z,_]=(0,n.useState)([null,null]);(0,n.useEffect)(()=>{r(v)},[v]),(0,n.useEffect)(()=>{Z(null),O(null),j(null)},[p]),(0,n.useEffect)(()=>{(async()=>{let e=await (0,M.Z)().get("/distance/"),t=null==e?void 0:e.data;if(void 0!==t){let e=[];e.push({value:"",label:"All Data"}),t.map((t,l)=>e.push({value:t.distance,label:t.distance})),x(e)}})()},[]);let F=(e,t)=>{if(null==e?void 0:e[0]){let l=parseInt(u()(e[0]).format("DD")),a=parseInt(u()(e[0]).format("MM")),n=parseInt(u()(e[0]).format("YYYY")),o=parseInt(u()(e[0]).format("HH")),s=parseInt(u()(e[0]).format("mm")),i=parseInt(u()(e[0]).format("ss")),c=parseInt(u()(e[1]).format("DD")),d=parseInt(u()(e[1]).format("MM")),m=parseInt(u()(e[1]).format("YYYY")),f=parseInt(u()(e[1]).format("hh")),p=parseInt(u()(e[1]).format("mm")),h=parseInt(u()(e[1]).format("ss"));y({...v,dateFrom:l,monthFrom:a,yearFrom:n,hourFrom:o,minuteFrom:s,secondFrom:i,dateUntil:c,monthUntil:d,yearUntil:m,hourUntil:f,minuteUntil:p,secondUntil:h,dateStrings:t}),r(v,b,w,N,S)}else r(void 0)};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex flex-col border-none mb-7 mt-2 ml-1",children:[(0,a.jsx)("span",{id:"subject",className:"mb-5 mt-1 text-[14px] font-bold",children:"Periode"}),(0,a.jsxs)("div",{className:"flex flex-wrap",children:[""===c?(0,a.jsx)(k,{allowClear:f,disabled:!!t||!!m,allowEmpty:[!0,!1],className:"".concat(l," mb-3 lg:mr-3"),showTime:d,onChange:F,disabledDate:h}):"rangemonth"===c?(0,a.jsx)(k,{picker:"month",disabled:!!t||!!m,className:"".concat(l," mb-3 lg:mr-3 sm:w-32"),onChange:F,disabledDate:h}):"triwulan"===c?(0,a.jsx)(k,{picker:"month",placeholder:["Start month","End month"],allowEmpty:[!0,!0],allowClear:!0,value:[T?u()(T,"YYYY-MM"):null,E?u()(E,"YYYY-MM"):null],disabled:[!!t||!!m,!0],onChange:(e,t)=>{if(null==e?void 0:e[0]){let l=parseInt(u()(e[0]).format("DD")),a=parseInt(u()(e[0]).format("MM")),n=parseInt(u()(e[0]).format("YYYY")),o=parseInt(u()(e[0]).format("HH")),s=parseInt(u()(e[0]).format("mm")),i=parseInt(u()(e[0]).format("ss")),c=parseInt(u()(e[0]).add(2,"month").format("DD")),d=parseInt(u()(e[0]).add(2,"month").format("MM")),m=parseInt(u()(e[0]).add(2,"month").format("YYYY")),f=parseInt(u()(e[0]).add(2,"month").format("hh")),p=parseInt(u()(e[0]).add(2,"month").format("mm")),h=parseInt(u()(e[0]).add(2,"month").format("ss")),g=u()(e[0]).locale("id").format("MMMM"),x=parseInt(u()(e[0]).format("M")),M=parseInt(u()(e[0]).format("YYYY")),D=parseInt(u()(e[0]).format("DD"));Z(u()(null==e?void 0:e[0]).format("YYYY-MM-DD")),O(u()(null==e?void 0:e[0]).add(2,"month").format("YYYY-MM-DD")),Y(g),C(x),j(M),A(D),y({...v,dateFrom:l,monthFrom:a,yearFrom:n,hourFrom:o,minuteFrom:s,secondFrom:i,dateUntil:c,monthUntil:d,yearUntil:m,hourUntil:f,minuteUntil:p,secondUntil:h,month:x,monthNumber:x,year:M,day:D,dateStrings:t}),r(v,b,w,N,S)}else Z(null),O(null),r(void 0)},disabledDate:h}):"rangepicker"===c?(0,a.jsx)(k,{allowClear:f,disabled:!!t||!!m,allowEmpty:[!0,!1],className:"".concat(l," mb-3 lg:mr-3"),showTime:d,onChange:F,disabledDate:h}):"year"===c?(0,a.jsx)(D.default,{disabled:!!t||!!m,className:"".concat(l," mb-3 lg:mr-3 sm:w-[500px] w-96"),value:N?u()(N,"YYYY"):null,onChange:(e,t)=>{if(null===e)j(null),r(N);else{let l=u()(e).locale("id").format("MMMM"),a=parseInt(u()(e).format("M")),n=parseInt(u()(e).format("YYYY")),o=parseInt(u()(e).format("DD"));Y(l),C(a),j(t),A(o),y({...v,month:l,monthNumber:a,year:n,day:o}),r(v,b,w,N,S)}},allowClear:!0,format:"YYYY",picker:"year",disabledDate:h}):(0,a.jsx)(D.default,{disabled:!!t||!!m,className:"".concat(l," mb-3 lg:mr-3 sm:w-[500px] w-96"),onChange:(e,t)=>{let l=u()(e).locale("id").format("MMMM"),a=parseInt(u()(e).format("M")),n=parseInt(u()(e).format("YYYY")),o=parseInt(u()(e).format("DD"));Y(l),C(a),j(n),A(o),y({...v,month:l,monthNumber:a,year:n,day:o}),r(v,b,w,N,S)},picker:c||"month",disabledDate:h}),(0,a.jsx)(I.default,{disabled:!!t||!!m,showSearch:!0,defaultValue:"",className:"".concat(null!=s?s:"hidden"," sm:ml-2 md:w-32 sm-w-32 "),onChange:e=>{i&&i(e)},placeholder:"Select Distance",filterOption:(e,t)=>((null==t?void 0:t.label)||"").toLowerCase().includes((null!=e?e:"").toLowerCase()),options:g.map((e,t)=>({value:e.value,label:"".concat(e.label)}))})]})]})})},E=l(86658);function O(e){let{className:t,loadingBottom:l,loadingExport:m,childrenInput:g,enableSelect:x,onDistanceSelect:v,typeLoading:y,type:b,codeDelete:Y,onDelete:w,downloadPdf:C,downloadExcel:N,loading:D,dateChange:I,children:k,data:O,loadingDisable:T,showTime:Z,allowClear:z,warning:_,showModalWarn:F,onApprove:R,onChangeTri:U,disabledDate:P,downloadFalse:L,emptyFalse:B,noTheme:K,codeMenu:H}=e;(0,n.useContext)(f.Z);let[W,G]=(0,n.useState)(),[V,X]=(0,n.useState)(),[$,Q]=(0,n.useState)(),q=o.Z.useApp(),{message:J}=q;(0,r.usePathname)(),(0,n.useEffect)(()=>{var e,t;Q((null==O?void 0:null===(e=O[0])||void 0===e?void 0:e.approved_at)=="-"?null:null==O?void 0:null===(t=O[0])||void 0===t?void 0:t.approved_at)},[O]),(0,n.useEffect)(()=>{G(m)},[m,J]),(0,n.useEffect)(()=>{X(void 0)},[U]);let ee=async()=>{J.open({key:"approve_report",type:"loading",content:"Approveing...",duration:0});let e=await (0,M.Z)().post("report/approve",{code:Y,codeMenu:null!=H?H:null,month:2==V.length?Number(u()(V[0]).format("MM")):Number(u()(V).format("MM")),year:2==V.length?Number(u()(V[0]).format("YYYY")):Number(u()(V).format("YYYY"))});(0,S.Z)({res:e,app:q,msgTrue:!0,key:"approve_report"})&&(Q(new Date),R(!0))},et=async()=>{J.open({key:"unapprove_report",type:"loading",content:"Unapproveing...",duration:0});let e=await (0,M.Z)().post("report/unapprove",{code:Y,codeMenu:null!=H?H:null,month:2==V.length?Number(u()(V[0]).format("MM")):Number(u()(V).format("MM")),year:2==V.length?Number(u()(V[0]).format("YYYY")):Number(u()(V).format("YYYY"))});(0,S.Z)({res:e,app:q,msgTrue:!0,key:"unapprove_report"})&&(Q(null),R(!1))},el=async()=>{J.open({key:"delete_report",type:"loading",content:"Deleting...",duration:0});let e=await (0,M.Z)().post("report/delete",{code:Y,codeMenu:null!=H?H:null,month:2==V.length?Number(u()(V[0]).format("MM")):Number(u()(V).format("MM")),year:2==V.length?Number(u()(V[0]).format("YYYY")):Number(u()(V).format("YYYY"))});(0,S.Z)({res:e,app:q,msgTrue:!0,key:"delete_report"})&&w(!0)},{systemTheme:ea,theme:en}=(0,d.F)();return(0,a.jsx)(s.ZP,{theme:K?void 0:{components:{Table:"dark"===en?{borderColor:"#fff",headerBorderRadius:0,cellPaddingBlock:5}:"system"===en&&"dark"===ea?{borderColor:"#fff",headerBorderRadius:0,cellPaddingBlock:5}:{headerBg:"#79c1eb",borderColor:"#000",headerBorderRadius:0,cellPaddingBlock:5}}},componentSize:"large",children:(0,a.jsxs)(p.Zb,{className:"border-none p-7 w-full shadow-md",children:[(0,a.jsxs)("div",{className:g?"flex flex-wrap mb-6":"flex flex-wrap mb-6 justify-between",children:[(0,a.jsx)(A,{allowClear:z,onDistanceSelect:null!=v?v:void 0,enableSelect:x,disabled:y?D:null!=W&&W,typeDatePicker:"rangepicker"===b?"":"triwulan"===b?"triwulan":void 0===b?"month":b,disabledDate:P,className:g?"":"rangepicker"==b?"w-full lg:w-2/3 xl:w-3/4":"w-full md:w-3/4 lg:w-2/4",onDateSelect:e=>{""===e||isNaN(null==e?void 0:e.monthNumber)?(null==e?void 0:e.dateStrings)?(I(e.dateStrings),X(e.dateStrings)):(I(void 0),X(void 0)):"rangepicker"===b?(null==e?void 0:e.dateStrings)&&(I(e.dateStrings),X(e.dateStrings)):(I(u()(e.year+"-"+e.monthNumber+"-01").format("YYYY-MM-DD")),X(u()(e.year+"-"+e.monthNumber+"-01").format("YYYY-MM-DD")))},loadingDisable:T,showTime:Z,onChangeTri:U}),g,null!=O&&!!O.length&&V&&!D&&(0,a.jsxs)("div",{className:g?"flex flex-row md:justify-end w-full sm:justify-start md:-mt-32 mt-3 ml-1":"flex flex-row",children:[_&&(0,a.jsx)(i.ZP,{className:"w-6 md:my-12 mr-2",onClick:()=>{F(!0)},icon:(0,a.jsx)(E.Z,{style:{fontSize:"25px",color:"#ebde34"}})}),(0,a.jsx)(j,{loadingExport:W,trueApprave:Y,approve:$,onApprove:ee,onUnapprove:et,onDelete:el,falseDelete:!Y,title:null==Y?void 0:Y.toLowerCase().replaceAll("_"," "),downloadFalse:L,date:"rangemonth"==b?(null==V?void 0:V[0])===(null==V?void 0:V[1])&&"".concat(u()(V[0]).format("YYYY MMMM")):"".concat(u()(V).format("YYYY MMMM")),downloadPdf:C,downloadExcel:N,loadingDisable:T})]})]}),V&&(0,a.jsx)(a.Fragment,{children:D?(0,a.jsx)(h.Z,{className:"-mt-6"}):(0,a.jsx)("div",{className:" md:-mt-6 overflow-auto w-full",children:(null==O?void 0:O.length)||B?(0,a.jsx)("div",{className:t,children:k}):(0,a.jsx)(c.Z,{})})}),l]})})}u().locale("id")},5454:function(e,t,l){"use strict";l.d(t,{O:function(){return r}});var a=l(57437),n=l(13498);function r(e){let{className:t,...l}=e;return(0,a.jsx)("div",{className:(0,n.cn)("animate-pulse rounded-lg bg-zinc-300 dark:bg-zinc-800",t),...l})}},16584:function(e,t,l){"use strict";var a=l(57437),n=l(5454);t.Z=e=>{let{className:t}=e;return(0,a.jsx)("div",{className:"flex flex-col w-full  ".concat(t),children:(0,a.jsxs)("div",{className:"bg-white dark:bg-zinc-950 p-6 rounded-2xl",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.O,{className:"h-8 md:w-40"}),(0,a.jsx)(n.O,{className:"h-6 md:w-96"})]}),(0,a.jsx)(n.O,{className:"h-10 w-36 rounded-2xl"})]}),(0,a.jsxs)("div",{className:"flex flex-col w-full",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center w-full mt-6 mb-4",children:[(0,a.jsxs)("div",{className:"space-x-2 flex",children:[(0,a.jsx)(n.O,{className:"h-6 md:w-64"}),(0,a.jsx)(n.O,{className:"h-6 w-28"})]}),(0,a.jsx)(n.O,{className:"h-6 w-28 rounded-2xl"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(n.O,{className:"h-6 w-full"}),(0,a.jsx)(n.O,{className:"h-6 w-full"}),(0,a.jsx)(n.O,{className:"h-6 w-full"}),(0,a.jsx)(n.O,{className:"h-6 w-full"}),(0,a.jsx)(n.O,{className:"h-6 w-full"}),(0,a.jsx)(n.O,{className:"h-6 w-full"}),(0,a.jsx)(n.O,{className:"h-6 w-full"}),(0,a.jsx)(n.O,{className:"h-6 w-full"})]})]})]})})}},95381:function(e,t,l){"use strict";var a=l(90265);t.Z=a.Z},13413:function(e,t,l){"use strict";let a=(0,l(2265).createContext)({});t.Z=a},90265:function(e,t,l){"use strict";var a=l(2265),n=l(56800),r=l.n(n),o=l(38750),s=l(13413),i=l(38669),c=function(e,t){var l={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(l[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)0>t.indexOf(a[n])&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(l[a[n]]=e[a[n]]);return l};function d(e){return"number"==typeof e?"".concat(e," ").concat(e," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?"0 0 ".concat(e):e}let m=["xs","sm","md","lg","xl","xxl"],u=a.forwardRef((e,t)=>{let{getPrefixCls:l,direction:n}=a.useContext(o.E_),{gutter:u,wrap:f}=a.useContext(s.Z),{prefixCls:p,span:h,order:g,offset:x,push:v,pull:y,className:b,children:Y,flex:w,style:C}=e,N=c(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),j=l("col",p),[M,S,D]=(0,i.cG)(j),I={},k={};m.forEach(t=>{let l={},a=e[t];"number"==typeof a?l.span=a:"object"==typeof a&&(l=a||{}),delete N[t],k=Object.assign(Object.assign({},k),{["".concat(j,"-").concat(t,"-").concat(l.span)]:void 0!==l.span,["".concat(j,"-").concat(t,"-order-").concat(l.order)]:l.order||0===l.order,["".concat(j,"-").concat(t,"-offset-").concat(l.offset)]:l.offset||0===l.offset,["".concat(j,"-").concat(t,"-push-").concat(l.push)]:l.push||0===l.push,["".concat(j,"-").concat(t,"-pull-").concat(l.pull)]:l.pull||0===l.pull,["".concat(j,"-rtl")]:"rtl"===n}),l.flex&&(k["".concat(j,"-").concat(t,"-flex")]=!0,I["--".concat(j,"-").concat(t,"-flex")]=d(l.flex))});let A=r()(j,{["".concat(j,"-").concat(h)]:void 0!==h,["".concat(j,"-order-").concat(g)]:g,["".concat(j,"-offset-").concat(x)]:x,["".concat(j,"-push-").concat(v)]:v,["".concat(j,"-pull-").concat(y)]:y},b,k,S,D),E={};if(u&&u[0]>0){let e=u[0]/2;E.paddingLeft=e,E.paddingRight=e}return w&&(E.flex=d(w),!1!==f||E.minWidth||(E.minWidth=0)),M(a.createElement("div",Object.assign({},N,{style:Object.assign(Object.assign(Object.assign({},E),C),I),className:A,ref:t}),Y))});t.Z=u},43134:function(e,t,l){"use strict";var a=l(2265),n=l(56800),r=l.n(n),o=l(6987),s=l(38750),i=l(13413),c=l(38669),d=function(e,t){var l={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(l[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)0>t.indexOf(a[n])&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(l[a[n]]=e[a[n]]);return l};function m(e,t){let[l,n]=a.useState("string"==typeof e?e:""),r=()=>{if("string"==typeof e&&n(e),"object"==typeof e)for(let l=0;l<o.c4.length;l++){let a=o.c4[l];if(!t[a])continue;let r=e[a];if(void 0!==r){n(r);return}}};return a.useEffect(()=>{r()},[JSON.stringify(e),t]),l}let u=a.forwardRef((e,t)=>{let{prefixCls:l,justify:n,align:u,className:f,style:p,children:h,gutter:g=0,wrap:x}=e,v=d(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:y,direction:b}=a.useContext(s.E_),[Y,w]=a.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),[C,N]=a.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),j=m(u,C),M=m(n,C),S=a.useRef(g),D=(0,o.ZP)();a.useEffect(()=>{let e=D.subscribe(e=>{N(e);let t=S.current||0;(!Array.isArray(t)&&"object"==typeof t||Array.isArray(t)&&("object"==typeof t[0]||"object"==typeof t[1]))&&w(e)});return()=>D.unsubscribe(e)},[]);let I=y("row",l),[k,A,E]=(0,c.VM)(I),O=(()=>{let e=[void 0,void 0];return(Array.isArray(g)?g:[g,void 0]).forEach((t,l)=>{if("object"==typeof t)for(let a=0;a<o.c4.length;a++){let n=o.c4[a];if(Y[n]&&void 0!==t[n]){e[l]=t[n];break}}else e[l]=t}),e})(),T=r()(I,{["".concat(I,"-no-wrap")]:!1===x,["".concat(I,"-").concat(M)]:M,["".concat(I,"-").concat(j)]:j,["".concat(I,"-rtl")]:"rtl"===b},f,A,E),Z={},z=null!=O[0]&&O[0]>0?-(O[0]/2):void 0;z&&(Z.marginLeft=z,Z.marginRight=z);let[_,F]=O;Z.rowGap=F;let R=a.useMemo(()=>({gutter:[_,F],wrap:x}),[_,F,x]);return k(a.createElement(i.Z.Provider,{value:R},a.createElement("div",Object.assign({},v,{className:T,style:Object.assign(Object.assign({},Z),p),ref:t}),h)))});t.Z=u},38669:function(e,t,l){"use strict";l.d(t,{VM:function(){return d},cG:function(){return m}});var a=l(37540),n=l(2330),r=l(35413);let o=e=>{let{componentCls:t}=e;return{[t]:{position:"relative",maxWidth:"100%",minHeight:1}}},s=(e,t)=>{let{prefixCls:l,componentCls:a,gridColumns:n}=e,r={};for(let e=n;e>=0;e--)0===e?(r["".concat(a).concat(t,"-").concat(e)]={display:"none"},r["".concat(a,"-push-").concat(e)]={insetInlineStart:"auto"},r["".concat(a,"-pull-").concat(e)]={insetInlineEnd:"auto"},r["".concat(a).concat(t,"-push-").concat(e)]={insetInlineStart:"auto"},r["".concat(a).concat(t,"-pull-").concat(e)]={insetInlineEnd:"auto"},r["".concat(a).concat(t,"-offset-").concat(e)]={marginInlineStart:0},r["".concat(a).concat(t,"-order-").concat(e)]={order:0}):(r["".concat(a).concat(t,"-").concat(e)]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:"0 0 ".concat(e/n*100,"%"),maxWidth:"".concat(e/n*100,"%")}],r["".concat(a).concat(t,"-push-").concat(e)]={insetInlineStart:"".concat(e/n*100,"%")},r["".concat(a).concat(t,"-pull-").concat(e)]={insetInlineEnd:"".concat(e/n*100,"%")},r["".concat(a).concat(t,"-offset-").concat(e)]={marginInlineStart:"".concat(e/n*100,"%")},r["".concat(a).concat(t,"-order-").concat(e)]={order:e});return r["".concat(a).concat(t,"-flex")]={flex:"var(--".concat(l).concat(t,"-flex)")},r},i=(e,t)=>s(e,t),c=(e,t,l)=>({["@media (min-width: ".concat((0,a.bf)(t),")")]:Object.assign({},i(e,l))}),d=(0,n.I$)("Grid",e=>{let{componentCls:t}=e;return{[t]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},()=>({})),m=(0,n.I$)("Grid",e=>{let t=(0,r.IX)(e,{gridColumns:24}),l={"-sm":t.screenSMMin,"-md":t.screenMDMin,"-lg":t.screenLGMin,"-xl":t.screenXLMin,"-xxl":t.screenXXLMin};return[o(t),i(t,""),i(t,"-xs"),Object.keys(l).map(e=>c(t,l[e],e)).reduce((e,t)=>Object.assign(Object.assign({},e),t),{})]},()=>({}))},77733:function(e,t,l){"use strict";var a=l(43134);t.Z=a.Z}},function(e){e.O(0,[2505,3113,8173,9141,2470,3919,8348,2100,4309,5053,5458,2034,9155,7824,428,8421,8028,4052,5325,6487,8378,4746,5141,7642,2971,7023,1744],function(){return e(e.s=23664)}),_N_E=e.O()}]);