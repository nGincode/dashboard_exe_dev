(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5066,4527],{27627:function(e,l,n){Promise.resolve().then(n.bind(n,77490))},77490:function(e,l,n){"use strict";n.r(l),n.d(l,{default:function(){return ei}});var t=n(57437),a=n(2265),i=n(42005),s=n(16463),r=n(68348),o=n(30939),d=n(71275),c=n(65188),u=n(66910),m=n.n(u),p=n(85313),h=n(90696),v=n(10695),x=n(46622),f=n(57834),j=n(9707),w=n(71480),k=n(40117),y=n(44921),g=n(98169),b=n(73717),N=n(25325),_=n(93122),Z=n(88625),L=n(66311),C=n(52755),P=n(23288),I=n(46682),S=n(62476),M=n(9257),E=n(73454),z=n(38378),D=n(95053),O=n(30252),B=n(44052),A=n(18357),T=n(32034),F=n(62737),W=n.n(F),V=n(8782),q=n(98246),U=n(57929),H=n(18676),R=n(4756),Y=n(5454),$=n(17136),G=n(78644),K=n(99020),J=n(31405),Q=n(16584),X=n(75149),ee=n(95565),el=n(85392),en=n(15554);let{TextArea:et}=N.default;var ea=e=>{var l,n,c,u,F,ea,ei,es,er,eo,ed,ec;let{columnData:eu,fetch:em,type:ep,modalTitle:eh,loadFirst:ev,load:ex,urlData:ef,updateFetch:ej}=e,ew=(0,s.usePathname)(),ek=(0,a.useContext)(d.Z),ey=r.Z.useApp(),[eg,eb]=(0,a.useState)([]),[eN,e_]=(0,a.useState)(!1),[eZ,eL]=(0,a.useState)([]),[eC,eP]=(0,a.useState)([]),[eI,eS]=_.ZP.useMessage(),[eM,eE]=(0,a.useState)([]),[ez,eD]=(0,a.useState)({});(0,a.useEffect)(()=>{e_(ex),"Role"===eh&&(async()=>{let e=await (0,i.Z)().get("menu"),l=await (0,i.Z)().get("action");if("00"==e.code&&"00"==l.code){var n,t,a;let i=[];(null===(n=l.data)||void 0===n?void 0:n.edges)?null===(a=l.data)||void 0===a||null===(t=a.edges)||void 0===t||t.reverse().map(e=>{i.push(e.node)}):i=l.data,eP(i),eL(e.data)}})()},[ex,eh]);let eO=e=>null==e?void 0:e.map((e,l)=>{let n={};n.key=l+1,eu.map(l=>{n[l.key]=e[l.key]});let t=e=>e.sub_menu.map((e,l)=>{let n={};return eu.map(l=>{n[l.key]=e[l.key],n.key=e.id}),e.sub_menu&&(n.children=t(e)),n});return e.sub_menu&&(n.children=t(e)),n}).map((e,l)=>{var n,a,i,s,r;let o={};Array.isArray(e.permission)&&(o.permission=(0,t.jsx)("div",{className:"flex flex-wrap",children:null===(n=e.permission)||void 0===n?void 0:n.map((e,l)=>(0,t.jsxs)("div",{className:"sm:flex w-full mb-2",children:[(0,t.jsx)("div",{children:e.name}),(0,t.jsxs)("div",{className:"flex sm:absolute right-2",children:[-1!==e.data.indexOf("view")&&(0,t.jsx)(Z.Z,{title:"View",children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),-1!==e.data.indexOf("create")&&(0,t.jsx)(Z.Z,{title:"Create",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})}),-1!==e.data.indexOf("update")&&(0,t.jsx)(Z.Z,{title:"Update",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})})}),-1!==e.data.indexOf("delete")&&(0,t.jsx)(Z.Z,{title:"Delete",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}),-1!==e.data.indexOf("export")&&(0,t.jsx)(Z.Z,{title:"Export",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})})}),-1!==e.data.indexOf("export excel")&&(0,t.jsx)(Z.Z,{title:"Export Excel",children:(0,t.jsx)(p.Z,{className:"ml-2"})}),-1!==e.data.indexOf("export pdf")&&(0,t.jsx)(Z.Z,{title:"Export PDF",children:(0,t.jsx)(h.Z,{className:"ml-2"})}),-1!==e.data.indexOf("export pdf")&&(0,t.jsx)(Z.Z,{title:"Export PDF",children:(0,t.jsx)(h.Z,{className:"ml-2"})}),-1!==e.data.indexOf("approve")&&(0,t.jsx)(Z.Z,{title:"Approve",children:(0,t.jsx)(v.Z,{className:"ml-2"})}),-1!==e.data.indexOf("unapprove")&&(0,t.jsx)(Z.Z,{title:"Unapprove",children:(0,t.jsx)(x.Z,{className:"ml-2"})})]})]},l))},l)),(e.avatar||null===e.avatar)&&((null==e?void 0:e.avatar)==null?(o.avatar_input=e.avatar,o.avatar=(0,t.jsx)(L.C,{style:{backgroundColor:"#"+Math.floor(16777215*Math.random()).toString(16)},children:null===(a=null!==(s=null!==(i=e.name)&&void 0!==i?i:e.username)&&void 0!==s?s:e.fullName)||void 0===a?void 0:a.substring(0,2)})):(o.avatar_input="http://devbackend-psolrtjabodebek.kai.id"+e.avatar,o.avatar=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(L.C,{style:{cursor:"pointer"},src:"http://devbackend-psolrtjabodebek.kai.id"+e.avatar,onClick:()=>{document.getElementById(e.key+l).click()}}),(0,t.jsx)(C.Z,{id:e.key+l,style:{display:"none"},alt:e.title,src:"http://devbackend-psolrtjabodebek.kai.id"+e.avatar})]}))),e.icon&&(o.icon=(0,t.jsxs)("div",{className:"flex items-center",children:[(0,G.s)(e.icon),"\xa0",e.icon]})),e.action&&(o.action_input=e.action.map(e=>null==e?void 0:e.id).filter(e=>e),o.action=(0,t.jsx)("div",{className:"flex flex-wrap",children:null===(r=e.action)||void 0===r?void 0:r.map((e,l)=>(0,t.jsxs)("div",{className:"mb-2",children:[(null==e?void 0:e.name)=="view"&&(0,t.jsx)(Z.Z,{title:"View",children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(null==e?void 0:e.name)=="create"&&(0,t.jsx)(Z.Z,{title:"Create",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})}),(null==e?void 0:e.name)=="update"&&(0,t.jsx)(Z.Z,{title:"Update",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})})}),(null==e?void 0:e.name)=="delete"&&(0,t.jsx)(Z.Z,{title:"Delete",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}),(null==e?void 0:e.name)=="import"&&(0,t.jsx)(Z.Z,{title:"Import",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})})}),(null==e?void 0:e.name)=="export"&&(0,t.jsx)(Z.Z,{title:"Export",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})})}),(null==e?void 0:e.name)=="export excel"&&(0,t.jsx)(Z.Z,{title:"Export Excel",children:(0,t.jsx)(p.Z,{className:"ml-2"})}),(null==e?void 0:e.name)=="export pdf"&&(0,t.jsx)(Z.Z,{title:"Export PDF",children:(0,t.jsx)(h.Z,{className:"ml-2"})})]},l))},l));let d=e=>{if(e.children)return e.children.map(e=>{var n;let a={icon:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,G.s)(e.icon),"\xa0",e.icon]}),action_input:e.action.map(e=>null==e?void 0:e.id).filter(e=>e),action:(0,t.jsx)("div",{className:"flex flex-wrap",children:null===(n=e.action)||void 0===n?void 0:n.map((e,l)=>(0,t.jsxs)("div",{className:"mb-2",children:[(null==e?void 0:e.name)=="view"&&(0,t.jsx)(Z.Z,{title:"View",children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(null==e?void 0:e.name)=="create"&&(0,t.jsx)(Z.Z,{title:"Create",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})}),(null==e?void 0:e.name)=="update"&&(0,t.jsx)(Z.Z,{title:"Update",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})})}),(null==e?void 0:e.name)=="delete"&&(0,t.jsx)(Z.Z,{title:"Delete",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}),(null==e?void 0:e.name)=="import"&&(0,t.jsx)(Z.Z,{title:"Import",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})})}),(null==e?void 0:e.name)=="export"&&(0,t.jsx)(Z.Z,{title:"Export",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})})}),(null==e?void 0:e.name)=="export excel"&&(0,t.jsx)(Z.Z,{title:"Export Excel",children:(0,t.jsx)(p.Z,{className:"ml-2"})}),(null==e?void 0:e.name)=="export pdf"&&(0,t.jsx)(Z.Z,{title:"Export PDF",children:(0,t.jsx)(h.Z,{className:"ml-2"})}),(null==e?void 0:e.name)=="approve"&&(0,t.jsx)(Z.Z,{title:"Approve",children:(0,t.jsx)(v.Z,{className:"ml-2"})}),(null==e?void 0:e.name)=="unapprove"&&(0,t.jsx)(Z.Z,{title:"Unapprove",children:(0,t.jsx)(x.Z,{className:"ml-2"})})]},l))},l)};return(null==e?void 0:e.children)?{...e,...a,children:d(e)}:{...e,...a}})};return e.children&&(o.children=d(e)),{...e,...o}});(0,a.useEffect)(()=>{if(em.length){let e=null==em?void 0:em.map((e,l)=>{let n={};n.key=l+1,eu.map(l=>{n[l.key]=e[l.key]});let t=e=>e.sub_menu.map((e,l)=>{let n={};return eu.map(l=>{n[l.key]=e[l.key],n.key=e.id}),e.sub_menu&&(n.children=t(e)),n});return e.sub_menu&&(n.children=t(e)),n}).map((e,l)=>{var n,a,i,s,r;let o={};Array.isArray(e.permission)&&(o.permission=(0,t.jsx)("div",{className:"flex flex-wrap",children:null===(n=e.permission)||void 0===n?void 0:n.map((e,l)=>(0,t.jsxs)("div",{className:"flex items-center w-full mb-2 border-b border-gray-300 px-1 pb-1",children:[(0,t.jsx)("div",{className:"flex-1",children:e.name}),(0,t.jsxs)("div",{className:"flex",children:[-1!==e.data.indexOf("view")&&(0,t.jsx)(Z.Z,{title:"View",children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),-1!==e.data.indexOf("create")&&(0,t.jsx)(Z.Z,{title:"Create",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})}),-1!==e.data.indexOf("update")&&(0,t.jsx)(Z.Z,{title:"Update",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})})}),-1!==e.data.indexOf("delete")&&(0,t.jsx)(Z.Z,{title:"Delete",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}),-1!==e.data.indexOf("import")&&(0,t.jsx)(Z.Z,{title:"Import",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})})}),-1!==e.data.indexOf("export")&&(0,t.jsx)(Z.Z,{title:"Export",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})})}),-1!==e.data.indexOf("export excel")&&(0,t.jsx)(Z.Z,{title:"Export Excel",children:(0,t.jsx)(p.Z,{className:"ml-2"})}),-1!==e.data.indexOf("export pdf")&&(0,t.jsx)(Z.Z,{title:"Export PDF",children:(0,t.jsx)(h.Z,{className:"ml-2"})}),-1!==e.data.indexOf("approve")&&(0,t.jsx)(Z.Z,{title:"Approve",children:(0,t.jsx)(v.Z,{className:"ml-2"})}),-1!==e.data.indexOf("unapprove")&&(0,t.jsx)(Z.Z,{title:"Unapprove",children:(0,t.jsx)(x.Z,{className:"ml-2"})})]})]},l))},l)),(e.avatar||null===e.avatar)&&((null==e?void 0:e.avatar)==null?(o.avatar_input=e.avatar,o.avatar=(0,t.jsx)(L.C,{style:{backgroundColor:"#"+Math.floor(16777215*Math.random()).toString(16)},children:null===(a=null!==(s=null!==(i=e.name)&&void 0!==i?i:e.username)&&void 0!==s?s:e.fullName)||void 0===a?void 0:a.substring(0,2)})):(o.avatar_input="http://devbackend-psolrtjabodebek.kai.id"+e.avatar,o.avatar=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(L.C,{style:{cursor:"pointer"},src:"http://devbackend-psolrtjabodebek.kai.id"+e.avatar,onClick:()=>{document.getElementById(e.key+l).click()}}),(0,t.jsx)(C.Z,{id:e.key+l,style:{display:"none"},alt:e.title,src:"http://devbackend-psolrtjabodebek.kai.id"+e.avatar})]}))),e.icon&&(o.icon=(0,t.jsxs)("div",{className:"flex items-center",children:[(0,G.s)(e.icon),"\xa0",e.icon]})),e.action&&(o.action_input=e.action.map(e=>null==e?void 0:e.id).filter(e=>e),o.action=(0,t.jsx)("div",{className:"flex flex-wrap",children:null===(r=e.action)||void 0===r?void 0:r.map((e,l)=>(0,t.jsxs)("div",{className:"mb-2",children:[(null==e?void 0:e.name)=="view"&&(0,t.jsx)(Z.Z,{title:"View",children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(null==e?void 0:e.name)=="create"&&(0,t.jsx)(Z.Z,{title:"Create",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})}),(null==e?void 0:e.name)=="update"&&(0,t.jsx)(Z.Z,{title:"Update",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})})}),(null==e?void 0:e.name)=="delete"&&(0,t.jsx)(Z.Z,{title:"Delete",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}),(null==e?void 0:e.name)=="import"&&(0,t.jsx)(Z.Z,{title:"Import",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})})}),(null==e?void 0:e.name)=="export"&&(0,t.jsx)(Z.Z,{title:"Export",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})})}),(null==e?void 0:e.name)=="export excel"&&(0,t.jsx)(Z.Z,{title:"Export Excel",children:(0,t.jsx)(p.Z,{className:"ml-2"})}),(null==e?void 0:e.name)=="export pdf"&&(0,t.jsx)(Z.Z,{title:"Export PDF",children:(0,t.jsx)(h.Z,{className:"ml-2"})})]},l))},l));let d=e=>{if(e.children)return e.children.map(e=>{var n;let a={icon:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,G.s)(e.icon),"\xa0",e.icon]}),action_input:e.action.map(e=>null==e?void 0:e.id).filter(e=>e),action:(0,t.jsx)("div",{className:"flex flex-wrap",children:null===(n=e.action)||void 0===n?void 0:n.map((e,l)=>(0,t.jsxs)("div",{className:"mb-2",children:[(null==e?void 0:e.name)=="view"&&(0,t.jsx)(Z.Z,{title:"View",children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(null==e?void 0:e.name)=="create"&&(0,t.jsx)(Z.Z,{title:"Create",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})}),(null==e?void 0:e.name)=="update"&&(0,t.jsx)(Z.Z,{title:"Update",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})})}),(null==e?void 0:e.name)=="delete"&&(0,t.jsx)(Z.Z,{title:"Delete",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}),(null==e?void 0:e.name)=="import"&&(0,t.jsx)(Z.Z,{title:"Import",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})})}),(null==e?void 0:e.name)=="export"&&(0,t.jsx)(Z.Z,{title:"Export",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})})}),(null==e?void 0:e.name)=="export excel"&&(0,t.jsx)(Z.Z,{title:"Export Excel",children:(0,t.jsx)(p.Z,{className:"ml-2"})}),(null==e?void 0:e.name)=="export pdf"&&(0,t.jsx)(Z.Z,{title:"Export PDF",children:(0,t.jsx)(h.Z,{className:"ml-2"})}),(null==e?void 0:e.name)=="approve"&&(0,t.jsx)(Z.Z,{title:"Approve",children:(0,t.jsx)(v.Z,{className:"ml-2"})}),(null==e?void 0:e.name)=="unapprove"&&(0,t.jsx)(Z.Z,{title:"Unapprove",children:(0,t.jsx)(x.Z,{className:"ml-2"})})]},l))},l)};return(null==e?void 0:e.children)?{...e,...a,children:d(e)}:{...e,...a}})};return e.children&&(o.children=d(e)),{...e,...o}});eb(e),eE(ep.filterDate?void(null==e||e.filter((e,l)=>{var n,t;e.key=l+1;let a=e.date;if((null===(n=ep.filterDate)||void 0===n?void 0:n.start_date)&&(null===(t=ep.filterDate)||void 0===t?void 0:t.end_date))return a>=ep.filterDate.start_date&&a<=ep.filterDate.end_date})):e)}},[em,eu,ep,eC]);let[eB,eA]=(0,a.useState)(),[eT,eF]=(0,a.useState)([null!==(eo=null===(l=ep.filterDate)||void 0===l?void 0:l.start_date)&&void 0!==eo?eo:null,null!==(ed=null===(n=ep.filterDate)||void 0===n?void 0:n.end_date)&&void 0!==ed?ed:null]),eW=(e,l)=>{var n;if(l)return null==eg?void 0:eg.filter(l=>{let n=l.date;if((null==e?void 0:e[0])&&(null==e?void 0:e[1]))return n>=e[0]&&n<=(null==e?void 0:e[1])});eF(e),(null===(n=ep.filterDate)||void 0===n?void 0:n.api)?(e_(!0),e_(!1)):eE(null==eg?void 0:eg.filter(l=>{let n=l.date;if((null==e?void 0:e[0])&&(null==e?void 0:e[1]))return n>=e[0]&&n<=(null==e?void 0:e[1])}))},eV=(e,l)=>{if("export"==l){let l=[];return e.map(e=>{let n={};if(eu.filter(e=>e.export).map(l=>{if(e[l.key]){if("icon"===l.key)n.icon=e.icon.props.children[2];else if("permission"===l.key){var t;let l="";null===(t=e.menu_list)||void 0===t||t.map(e=>{var n,t;l+=e.title+" ="+(null!==(t=null==e?void 0:null===(n=e.permission)||void 0===n?void 0:n.map(e=>" "+e))&&void 0!==t?t:"")+" \n",e.submenuItems&&e.submenuItems.map((e,n)=>{var t,a;l+=n+1+") "+e.title+" :"+(null!==(a=null==e?void 0:null===(t=e.permission)||void 0===t?void 0:t.map(e=>" "+e))&&void 0!==a?a:"")+" \n"})}),n.permission=l}else"menu_list"!==l.key&&(n[l.key]=e[l.key])}else n[l.key]=e[l.key]}),l.push({...n}),e.children){let n=[];e.children.map(l=>{let t={};eu.filter(e=>e.export).map(n=>{if(l[n.key]){if("icon"===n.key)t.icon=l.icon.props.children[2];else if("permission"===n.key){var a;let l="";null===(a=e.menu_list)||void 0===a||a.map(e=>{var n,t;l+=e.title+" ="+(null!==(t=null==e?void 0:null===(n=e.permission)||void 0===n?void 0:n.map(e=>" "+e))&&void 0!==t?t:"")+" \n",e.submenuItems&&e.submenuItems.map((e,n)=>{var t,a;l+=n+1+") "+e.title+" :"+(null!==(a=null==e?void 0:null===(t=e.permission)||void 0===t?void 0:t.map(e=>" "+e))&&void 0!==a?a:"")+" \n"})}),t.permission=l}else"menu_list"!==n.key&&(t[n.key]=l[n.key])}}),n.push(t)}),l.push(...n)}}),l}if("search"==l){let l=[];return e.map((e,n)=>{let t={};eu.filter(e=>e.export).map(l=>{if(e[l.key]){if("icon"===l.key)t.icon=e.icon.props.children[2];else if("permission"===l.key){var n;let l="";null===(n=e.menu_list)||void 0===n||n.map(e=>{var n,t;l+=e.title+" ="+(null!==(t=null==e?void 0:null===(n=e.permission)||void 0===n?void 0:n.map(e=>" "+e))&&void 0!==t?t:"")+" \n",e.submenuItems&&e.submenuItems.map((e,n)=>{var t,a;l+=n+1+") "+e.title+" :"+(null!==(a=null==e?void 0:null===(t=e.permission)||void 0===t?void 0:t.map(e=>" "+e))&&void 0!==a?a:"")+" \n"})}),t.permission=l}else"menu_list"!==l.key&&(t[l.key]=e[l.key])}}),l.push({key:n+1,...t})}),l}},eq=(e,l,n)=>void 0===l||""===l?e:e.filter(e=>{let t;for(let i in e){if(t=!1,null==n?void 0:n.find(e=>e!=i)){var a;t=(null===(a=e[i])||void 0===a?void 0:a.toString().toLowerCase().indexOf(l.toLowerCase()))>-1}if(t)break}return t}),[eU,eH]=(0,a.useState)(""),[eR,eY]=(0,a.useState)(""),e$=(0,a.useRef)(null),eG=e=>({filterDropdown:l=>{let{setSelectedKeys:n,selectedKeys:a,confirm:i,close:s}=l;return(0,t.jsxs)("div",{style:{padding:8},onKeyDown:e=>e.stopPropagation(),children:[(0,t.jsx)(N.default,{ref:e$,placeholder:"Search ".concat(e),value:a[0],onChange:e=>n(e.target.value?[e.target.value]:[]),onPressEnter:()=>eK(a,i,e),style:{marginBottom:8,display:"block"}}),(0,t.jsxs)(P.Z,{children:[(0,t.jsx)(I.ZP,{type:"primary",onClick:()=>eK(a,i,e),icon:(0,t.jsx)(f.Z,{}),size:"small",style:{width:90},children:"Search"}),(0,t.jsx)(I.ZP,{size:"small",style:{width:90},onClick:()=>{s()},children:"Close"})]})]})},filterIcon:e=>(0,t.jsx)(f.Z,{style:{color:e?"#1677ff":void 0}}),onFilter:(l,n)=>n[e].toString().toLowerCase().includes(l.toLowerCase()),onFilterDropdownOpenChange:e=>{e&&setTimeout(()=>{var e;return null===(e=e$.current)||void 0===e?void 0:e.select()},100)},render:l=>eR===e?(0,t.jsx)(m(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[eU],autoEscape:!0,textToHighlight:l?l.toString():""}):l}),eK=(e,l,n)=>{l(),eH(e[0]),eY(n)},eJ=[];ep.short&&eJ.push({key:"sort"}),eu.map((e,l)=>{let n,t,a,i;e.sort&&(n={sorter:{compare:(l,n)=>isNaN(l[e.key])?l[e.key].localeCompare(n[e.key]):l[e.key]-n[e.key],multiple:l+1}}),e.search&&(t={...eG(e.key)}),e.width&&(a={width:e.width}),e.ellipsis&&(i={ellipsis:{showTitle:!1}}),e.hidden||e.tableHidden||eJ.push({title:e.title,dataIndex:e.key,key:e.key,...n,...t,...a,...i})}),ep.action&&(ep.action.delete||ep.action.edit)&&eJ.push({title:"Action",dataIndex:"action",width:(null===(ec=ep.action)||void 0===ec?void 0:ec.change_password)?160:100,minWidth:ep.action.change_password?160:100,render:(e,l)=>eM.length>=1?(0,t.jsxs)("div",{className:" text-center",children:[ep.action.delete?(0,t.jsx)(S.Z,{title:"Sure to delete?",onConfirm:()=>e4(l),children:(0,t.jsx)("span",{children:(0,t.jsx)(Z.Z,{title:"Delete",placement:"left",color:"red",children:(0,t.jsx)(j.Z,{className:" cursor-pointer",style:{color:"red",fontSize:"18px"}})})})}):null,ep.action.edit?(0,t.jsx)("a",{className:"ml-4",onClick:()=>{eD(void 0),e8(l)},children:(0,t.jsx)(Z.Z,{title:"Edit",color:"orange",children:(0,t.jsx)(w.Z,{style:{color:"orange",fontSize:"18px"}})})}):null,ep.action.change_password?(0,t.jsx)("a",{className:"ml-4",onClick:()=>ll(l),children:(0,t.jsx)(Z.Z,{title:"Change Password",children:(0,t.jsx)(k.Z,{style:{color:"gray",fontSize:"18px"}})})}):null]}):null});let[eQ,eX]=(0,a.useState)(!1),[e0,e1]=(0,a.useState)(),[e2,e5]=M.Z.useModal(),e4=async e=>{var l,n;eI.open({key:e,type:"loading",content:"Deleting ".concat(null!==(l=e.name)&&void 0!==l?l:"","..."),duration:0});let t=await (0,i.Z)().post(ep.action.delete,{id:[e.id]});if((0,o.Z)({res:t,key:e,app:ey})){eI.destroy(e);let l=[];if(eM.map(n=>{n.key!==e.key&&(n.children?l.push({...n,children:n.children.filter(l=>{if(l.key!=e.key)return l})}):l.push(n))}),ej){let l=await (0,i.Z)().get(ef);(0,o.Z)({res:l,key:e,app:ey})&&ej(l.data)}else eE(l);eI.open({key:e,type:"success",content:"Delete ".concat(null!==(n=e.name)&&void 0!==n?n:""),duration:2}),setTimeout(()=>{eI.destroy(e)},3e3)}else eI.destroy(e)},e6=async()=>{let e="manyDelete",l=[],n=[];eM.map(e=>{-1==ls.indexOf(e.key)?e.children?n.push({...e,children:e.children.filter(e=>{if(-1==ls.indexOf(e.key))return e;l.push(e.id)})}):n.push(e):(e.children&&e.children.map(e=>{l.push(e.id)}),l.push(e.id))});let t=await (0,i.Z)().post(ep.action.delete,{id:l});if((0,o.Z)({res:t,key:e,app:ey})){if(ej){let l=await (0,i.Z)().get(ef);if((null==l?void 0:l.code)=="00")ej(l.data);else if((null==l?void 0:l.code)=="ERR_NETWORK")eI.open({key:e,type:"error",content:"Server Cannot be Reached",duration:10});else{var a,s,r,d;eI.open({key:e,type:"error",content:"Code:".concat(null==l?void 0:null===(s=l.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.code," | Message:").concat(null==l?void 0:null===(d=l.response)||void 0===d?void 0:null===(r=d.data)||void 0===r?void 0:r.message),duration:10})}}else eE(n);return eI.open({key:e,type:"success",content:"Delete",duration:2}),lr([]),!0}},[e3,e7]=(0,a.useState)(!1),e8=e=>{e7(!0),e1(e),lp(!0)},[e9]=E.Z.useForm(),[le,ll]=(0,a.useState)(),ln=async e=>{if(eX(!0),null==le?void 0:le.id){let l=await (0,i.Z)().get("/user/"+(null==le?void 0:le.id));if((0,o.Z)({res:l,app:ey,key:l.code})){e.username=l.data.username;let n=await (0,i.Z)().post("/user/reset-password/"+(null==le?void 0:le.id),e);(0,o.Z)({res:n,app:ey,key:n.code})?(eX(!1),eI.open({key:n.code,type:"success",content:"Password updated successfully",duration:2}),e9.resetFields(),ll(void 0)):eX(!1)}else eX(!1)}else eI.open({key:eM,type:"error",content:"ID Not Found",duration:10})},[lt,la]=(0,a.useState)(!1),li=()=>{la(!0),lp(!0)},[ls,lr]=(0,a.useState)([]);ep.rowSelection&&(ls.length&&(null===(c=ep.action)||void 0===c?void 0:c.delete)?(z.Z.SELECTION_ALL,(0,t.jsx)("a",{onClick:()=>{e2.confirm({title:"Do you want to delete selected items?",icon:(0,t.jsx)(y.Z,{}),content:"You will delete the selected data",okText:"Yes",cancelText:"No",onOk:()=>e6(),onCancel(){}})},children:"Delete"})):z.Z.SELECTION_ALL);let lo=(e,l,n,t)=>{eA(t.currentDataSource)},[ld,lc]=(0,a.useState)({menu_parent_id:"",path:""}),lu=[],[lm,lp]=(0,a.useState)(),[lh]=E.Z.useForm(),lv=e=>{var l;return(setTimeout(()=>{lp(!1)},300),lm)?(0,t.jsxs)(t.Fragment,{children:["Group Users"==eh?(0,t.jsx)("div",{className:"mt-6 grid ".concat(null!==(l=null==eu?void 0:eu.find(e=>"permission"==e.type))&&void 0!==l?l:"lg:grid-cols-2 lg:gap-2"," "),children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"w-1/2 text-center py-3",children:"Name"}),(0,t.jsx)("div",{className:"w-1/2 text-center py-3",children:"Permission"})]})}):null,(0,t.jsxs)("div",{className:"flex w-full ".concat("Group Users"!=eh?"mt-10":""),children:[(0,t.jsxs)("div",{className:"space-y-3 lg:w-1/2 w-full",children:[(0,t.jsx)(Y.O,{className:"h-6 w-full"}),(0,t.jsx)(Y.O,{className:"h-6 w-full"}),(0,t.jsx)(Y.O,{className:"h-6 w-full"}),(0,t.jsx)(Y.O,{className:"h-6 w-full"}),(0,t.jsx)(Y.O,{className:"h-6 w-full"}),(0,t.jsx)(Y.O,{className:"h-6 w-full"}),(0,t.jsx)(Y.O,{className:"h-6 w-full"}),(0,t.jsx)(Y.O,{className:"h-6 w-full"})]}),(0,t.jsxs)("div",{className:"ml-3 space-y-3 lg:w-1/2 w-full",children:[(0,t.jsx)(Y.O,{className:"h-6 w-full"}),(0,t.jsx)(Y.O,{className:"h-6 w-full"}),(0,t.jsx)(Y.O,{className:"h-6 w-full"}),(0,t.jsx)(Y.O,{className:"h-6 w-full"}),(0,t.jsx)(Y.O,{className:"h-6 w-full"}),(0,t.jsx)(Y.O,{className:"h-6 w-full"}),(0,t.jsx)(Y.O,{className:"h-6 w-full"}),(0,t.jsx)(Y.O,{className:"h-6 w-full"})]})]})]}):null==eu?void 0:eu.map((l,n)=>{if(!l.hidden&&!l.inputHidden&&(!l.editHidden&&e||!l.createHidden&&!e)){var a,i,s,r,o,d,c,u,m,p,h,v,x;if("text"==l.type||"number"==l.type||"email"==l.type)return"icon"==l.name?(lu.push({name:[l.name],value:null!==(r=null==e0?void 0:null===(s=e0[l.key])||void 0===s?void 0:null===(i=s.props)||void 0===i?void 0:null===(a=i.children)||void 0===a?void 0:a[2])&&void 0!==r?r:""}),(0,t.jsx)(U.Z,{disabled:eQ||(e?l.disabledEdit:l.disabledCreate),className:"lg:w-1/2 p-1",label:l.title,name:l.name,rules:l.rules,type:l.type,id:l.key+l.title,placeholder:l.placeholder},n)):"position_2"==l.name||"nipp_2"==l.name||"name_2"==l.name?(console.log("pppk => ",e0),lu.push({name:[l.name],value:null==e0?void 0:e0[l.key]}),(0,t.jsx)(U.Z,{disabled:null==e0?void 0:e0.data_sign,className:"lg:w-1/2 p-1",label:l.title,name:l.name,rules:l.rules,type:l.type,id:l.key+l.title,placeholder:l.placeholder},n)):l.change?(lu.push({name:[l.name],value:null==e0?void 0:e0[l.key]}),(0,t.jsx)(U.Z,{onChange:n=>{l.change.value==n.target.value?document.getElementById((e?"edit_":"create_")+l.change.type+l.change.key).style.display="none":document.getElementById((e?"edit_":"create_")+l.change.type+l.change.key).style.display="block"},disabled:eQ||(e?l.disabledEdit:l.disabledCreate),className:"lg:w-1/2 p-1",label:l.title,name:l.name,rules:l.rules,type:l.type,id:l.key+l.title,placeholder:l.placeholder},n)):(lu.push({name:[l.name],value:null==e0?void 0:e0[l.key]}),(0,t.jsx)(U.Z,{disabled:eQ||(e?l.disabledEdit:l.disabledCreate),className:"lg:w-1/2 p-1",label:l.title,name:l.name,rules:l.rules,type:l.type,id:l.key+l.title,placeholder:l.placeholder},n));if("date"==l.type)return lu.push({name:[l.name],value:W()(null==e0?void 0:e0[l.key],"YYYY-MM-DD")}),(0,t.jsx)(E.Z.Item,{name:l.name,rules:l.rules,label:l.title,className:"lg:w-1/2 p-1",children:(0,t.jsx)(D.default,{disabled:eQ,className:"w-full",name:l.name,id:l.key+l.title})},n);if("textarea"==l.type)return(0,t.jsx)("div",{className:"",children:(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsx)(O.default.Title,{level:5,children:l.title}),(0,t.jsx)(et,{disabled:eQ,rows:4})]})},n);if("permission"==l.type)return(0,t.jsxs)("div",{className:"w-full border-b",children:[(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"w-1/2 text-center py-3",children:"Name Menu"}),(0,t.jsx)("div",{className:"w-1/2 text-center py-3",children:"Permission"})]}),null==eZ?void 0:eZ.map((e,l)=>e.sub_menu_length?(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"flex border-t -mb-2",children:(0,t.jsxs)("div",{className:"py-2 w-1/2",children:[" ",e.name," "]})}),e.sub_menu.map((e,l)=>e.sub_menu_length?(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsxs)("div",{className:"w-1/2 ",children:["- ",e.name," "]}),(0,t.jsx)("div",{className:"w-1/2",children:e.action.map((l,n)=>{let a=null!=e0&&!!e0.menu_list.find(n=>{var t;return null===(t=n.submenuItems)||void 0===t?void 0:t.find(n=>n.permission.find(t=>{if(t+"|"+n.title+"|$"==l.name+"|"+e.name+"|"+e.path)return t}))});return(0,t.jsx)(R.Z,{checked:!lt&&a,className:"",id:l.name+"|"+e.name+"|"+e.path,name:e.id+"|"+l.id,label:l.name},n)})})]}),e.sub_menu.map((e,l)=>e.sub_menu_length?(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsxs)("div",{className:"w-1/2 ml-2",children:[" - ",e.name," "]}),(0,t.jsx)("div",{className:"w-1/2 -ml-2",children:e.action.map((l,n)=>{let a=null!=e0&&!!e0.menu_list.find(n=>{var t;return null===(t=n.submenuItems)||void 0===t?void 0:t.find(n=>{var t;return null===(t=n.submenuItems)||void 0===t?void 0:t.find(n=>n.permission.find(t=>{if(t+"|"+n.title+"|%"==l.name+"|"+e.name+"|"+e.path)return t}))})});return(0,t.jsx)(R.Z,{checked:!lt&&a,className:"",id:l.name+"|"+e.name+"|"+e.path,name:e.id+"|"+l.id,label:l.name},n)})})]}),e.sub_menu.map((e,l)=>e.sub_menu_length?(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsxs)("div",{className:"w-1/2 ml-4",children:[" - ",e.name," "]}),(0,t.jsx)("div",{className:"w-1/2 -ml-4",children:e.action.map((l,n)=>{let a=null!=e0&&!!e0.menu_list.find(n=>{var t;return null===(t=n.submenuItems)||void 0===t?void 0:t.find(n=>{var t;return null===(t=n.submenuItems)||void 0===t?void 0:t.find(n=>{var t;return null===(t=n.submenuItems)||void 0===t?void 0:t.find(n=>n.permission.find(t=>{if(t+"|"+n.title+"|&"==l.name+"|"+e.name+"|"+e.path)return t}))})})});return(0,t.jsx)(R.Z,{checked:!lt&&a,className:"",id:l.name+"|"+e.name+"|"+e.path,name:e.id+"|"+l.id,label:l.name},n)})})]}),e.sub_menu.map((e,l)=>(0,t.jsxs)("div",{className:"flex ",children:[(0,t.jsxs)("div",{className:"w-1/2 pl-6",children:[" - ",e.name]}),(0,t.jsx)("div",{className:"w-1/2",children:e.action.map((l,n)=>{let a=null!=e0&&!!e0.menu_list.find(n=>{var t;return null===(t=n.submenuItems)||void 0===t?void 0:t.find(n=>{var t;return null===(t=n.submenuItems)||void 0===t?void 0:t.find(n=>{var t;return null===(t=n.submenuItems)||void 0===t?void 0:t.find(n=>{var t;return null===(t=n.submenuItems)||void 0===t?void 0:t.find(n=>n.permission.find(t=>{if(t+"|"+n.title+"|"+n.path==l.name+"|"+e.name+"|"+e.path)return t}))})})})});return(0,t.jsx)(R.Z,{checked:!lt&&a,className:"",id:l.name+"|"+e.name+"|"+e.path,name:e.id+"|"+l.id,label:l.name},n)})})]},l))]},l):(0,t.jsxs)("div",{className:"flex ",children:[(0,t.jsxs)("div",{className:"w-1/2 pl-4",children:[" - ",e.name]}),(0,t.jsx)("div",{className:"w-1/2",children:e.action.map((l,n)=>{let a=null!=e0&&!!e0.menu_list.find(n=>{var t;return null===(t=n.submenuItems)||void 0===t?void 0:t.find(n=>{var t;return null===(t=n.submenuItems)||void 0===t?void 0:t.find(n=>{var t;return null===(t=n.submenuItems)||void 0===t?void 0:t.find(n=>n.permission.find(t=>{if(t+"|"+n.title+"|"+n.path==l.name+"|"+e.name+"|"+e.path)return t}))})})});return(0,t.jsx)(R.Z,{checked:!lt&&a,className:"",id:l.name+"|"+e.name+"|"+e.path,name:e.id+"|"+l.id,label:l.name},n)})})]},l))]},l):(0,t.jsxs)("div",{className:"flex ",children:[(0,t.jsxs)("div",{className:"w-1/2 pl-4",children:[" - ",e.name]}),(0,t.jsx)("div",{className:"w-1/2",children:e.action.map((l,n)=>{let a=null!=e0&&!!e0.menu_list.find(n=>{var t;return null===(t=n.submenuItems)||void 0===t?void 0:t.find(n=>{var t;return null===(t=n.submenuItems)||void 0===t?void 0:t.find(n=>n.permission.find(t=>{if(t+"|"+n.title+"|"+n.path==l.name+"|"+e.name+"|"+e.path)return t}))})});return(0,t.jsx)(R.Z,{checked:!lt&&a,className:"",id:l.name+"|"+e.name+"|"+e.path,name:e.id+"|"+l.id,label:l.name},n)})})]},l))]},l):(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsxs)("div",{className:"w-1/2",children:[" - ",e.name]}),(0,t.jsx)("div",{className:"w-1/2",children:e.action.map((l,n)=>{let a=null!=e0&&!!e0.menu_list.find(n=>{var t;return null===(t=n.submenuItems)||void 0===t?void 0:t.find(n=>n.permission.find(t=>{if(t+"|"+n.title+"|"+n.path==l.name+"|"+e.name+"|"+e.path)return t}))});return(0,t.jsx)(R.Z,{checked:!lt&&a,className:"",id:l.name+"|"+e.name+"|"+e.path,name:e.id+"|"+l.id,label:l.name},n)})})]},l))]},l):(0,t.jsxs)("div",{className:"flex border-t",children:[(0,t.jsxs)("div",{className:"py-3 w-1/2",children:[" ",e.name," "]}),(0,t.jsx)("div",{className:"py-3 w-1/2",children:e.action.map((l,n)=>{let a=null!=e0&&!!e0.menu_list.find(n=>{var t;return null===(t=n.permission)||void 0===t?void 0:t.find(t=>{if(t+"|"+n.title+"|"+n.path==l.name+"|"+e.name+"|"+e.path)return t})});return(0,t.jsx)(R.Z,{onChange:e=>{},checked:!lt&&a,id:l.name+"|"+e.name+"|"+e.path,name:e.id+"|"+l.id,label:l.name},n)})})]},l))]},n);else if("select"==l.type)return(null===(o=l.select)||void 0===o?void 0:o.type)?("icon"==l.key?lu.push({name:[l.name],value:null==e0?void 0:null===(u=e0[l.key])||void 0===u?void 0:null===(c=u.props)||void 0===c?void 0:null===(d=c.children)||void 0===d?void 0:d[2]}):"action"==l.key?lu.push({name:[l.name],value:null==e0?void 0:e0.action_input}):lu.push({name:[l.name],value:null==e0?void 0:e0[l.key]}),(0,t.jsx)("div",{id:(e?"edit_":"create_")+l.type+l.key,className:"lg:w-1/2 p-1",children:(0,t.jsx)(H.Z,{disabled:eQ,mode:l.mode,label:l.title,type:!0,id:l.name,name:l.name,placeholder:"Select..",className:"w-full",options:l.select.data,rules:l.rules})},n)):(0,t.jsx)("div",{id:l.type+l.key,className:"lg:w-1/2 p-1",children:(0,t.jsx)(H.Z,{disabled:eQ,placeholder:"Select..",className:"w-full",id:l.name,options:l.select,label:l.title})},n);else if("avatar"==l.type)return(0,t.jsx)($.Z,{label:l.title,rules:l.rules,name:l.name,id:e?"edit_"+l.key:"create_"+l.key,src:e?null==e0?void 0:e0[l.key+"_input"]:void 0,empty:e?(null==e0||!e0[l.key+"_input"])&&(null==e0?void 0:e0[l.key+"_input"]):void 0},n);else if("password"==l.type)return(0,t.jsxs)("div",{className:" w-full",children:[(0,t.jsx)(E.Z.Item,{hasFeedback:!0,label:"Password",name:"password",rules:[{required:!0},()=>({validator:(e,l)=>(null==l?void 0:l.length)>=8?Promise.resolve():Promise.reject(Error("Password min 8 characters!"))})],children:(0,t.jsx)(N.default,{disabled:eQ,type:"password",placeholder:"Password"})}),(0,t.jsx)(E.Z.Item,{label:"Confirm Password",name:"password_confirm",dependencies:["password"],hasFeedback:!0,rules:[{required:!0},e=>{let{getFieldValue:l}=e;return{validator:(e,n)=>n&&l("password")!==n?Promise.reject(Error("The new password that you entered do not match!")):Promise.resolve()}}],children:(0,t.jsx)(N.default,{disabled:eQ,type:"password",placeholder:"New Password"})})]},n);else if("path_menu_parent_id"==l.type)return ez?(null==ez?void 0:ez.menu_type)?(lu.push({name:["menu_type"],value:ez.menu_type}),(null==e0?void 0:e0.path)=="#"||(null==e0?void 0:e0.path)=="$"||(null==e0?void 0:e0.path)=="%"||(null==e0?void 0:e0.path)=="&"||(null==e0?void 0:e0.path)=="*"?lu.push({name:["menu_section"],value:null!==(v=null==e0?void 0:e0.menu_parent_id)&&void 0!==v?v:"primary"}):!(null==e0?void 0:e0.menu_parent_id)&&(null==e0?void 0:e0.path)?((null==e0?void 0:e0.path)&&lu.push({name:["path"],value:null==e0?void 0:e0.path}),lu.push({name:["menu_parent_id"],value:null==e0?void 0:e0.menu_parent_id})):(null==e0?void 0:e0.menu_parent_id)&&(null==e0?void 0:e0.path)&&((null==e0?void 0:e0.path)&&lu.push({name:["path"],value:null==e0?void 0:e0.path}),lu.push({name:["menu_parent_id"],value:null==e0?void 0:e0.menu_parent_id}))):(null==e0?void 0:e0.path)=="#"||(null==e0?void 0:e0.path)=="$"||(null==e0?void 0:e0.path)=="%"||(null==e0?void 0:e0.path)=="&"||(null==e0?void 0:e0.path)=="*"?(lu.push({name:["menu_section"],value:null!==(x=null==e0?void 0:e0.menu_parent_id)&&void 0!==x?x:"primary"}),lu.push({name:["menu_type"],value:"Primary_Sub"})):!(null==e0?void 0:e0.menu_parent_id)&&(null==e0?void 0:e0.path)?(lu.push({name:["menu_type"],value:"Primary"}),lu.push({name:["path"],value:null==e0?void 0:e0.path})):(null==e0?void 0:e0.menu_parent_id)&&(null==e0?void 0:e0.path)&&(lu.push({name:["menu_type"],value:"Sub"}),lu.push({name:["path"],value:null==e0?void 0:e0.path}),lu.push({name:["menu_parent_id"],value:null==e0?void 0:e0.menu_parent_id})):(null==e0?void 0:e0.path)=="#"||(null==e0?void 0:e0.path)=="$"||(null==e0?void 0:e0.path)=="%"||(null==e0?void 0:e0.path)=="&"||(null==e0?void 0:e0.path)=="*"?(lu.push({name:["menu_section"],value:null!==(h=null==e0?void 0:e0.menu_parent_id)&&void 0!==h?h:"primary"}),lu.push({name:["menu_type"],value:"Primary_Sub"}),eD({menu_type:"Primary_Sub"})):!(null==e0?void 0:e0.menu_parent_id)&&(null==e0?void 0:e0.path)?(lu.push({name:["menu_type"],value:"Primary"}),lu.push({name:["path"],value:null==e0?void 0:e0.path}),eD({menu_type:"Primary"})):(null==e0?void 0:e0.menu_parent_id)&&(null==e0?void 0:e0.path)&&(lu.push({name:["menu_type"],value:"Sub"}),lu.push({name:["menu_parent_id"],value:null==e0?void 0:e0.menu_parent_id}),lu.push({name:["path"],value:null==e0?void 0:e0.path}),eD({menu_type:"Sub"})),(0,t.jsxs)("div",{className:" w-full lg:flex lg:flex-wrap pl-2",children:[(0,t.jsx)(E.Z.Item,{label:"Menu Type",className:"lg:w-1/2",name:"menu_type",rules:[{required:!0}],children:(0,t.jsx)(B.ZP.Group,{options:[{label:"Primary",value:"Primary"},{label:"Primary Sub",value:"Primary_Sub"},{label:"Sub",value:"Sub"}],onChange:e=>{let{target:{value:l}}=e;lu.push({name:["menu_type"],value:l}),eD({menu_type:l})},optionType:"button",buttonStyle:"solid"})}),(null==ez?void 0:ez.menu_type)==="Sub"?(0,t.jsxs)("div",{className:"lg:w-1/2 lg:flex lg:flex-wrap",children:[(0,t.jsx)("div",{className:"lg:w-1/2 p-1",children:(0,t.jsx)(U.Z,{rules:[{required:!0},()=>({validator:(e,l)=>"#"==l||"$"==l||"%"==l||"&"==l||"*"==l?Promise.reject(Error("Value is not allowed!")):"/"!=l.slice(0,1)&&l?Promise.reject(Error('Value must begin with "/"')):Promise.resolve()})],label:"Path",name:"path",onChange:e=>{lu.push({name:["path"],value:e.target.value}),lc({...ld,path:e.target.value})},id:(e?"edit_":"create_")+"path",disabled:eQ||(e?l.disabledEdit:l.disabledCreate),type:"text",placeholder:"/path"})}),(0,t.jsx)("div",{id:(e?"edit_":"create_")+l.type+l.key,className:"lg:w-1/2 p-1",children:(0,t.jsx)(H.Z,{disabled:eQ,label:"Menu Primary",id:(e?"edit_":"create_")+"menu_parent_id",name:"menu_parent_id",placeholder:"Select..",className:"w-full",options:null===(m=eu.find(e=>"menu_parent_id"==e.key))||void 0===m?void 0:m.select.data,rules:[{required:!0}],onChange:e=>{lc({...ld,menu_parent_id:e})}})})]}):(null==ez?void 0:ez.menu_type)==="Primary_Sub"?(0,t.jsx)("div",{className:"lg:w-1/2 lg:flex lg:flex-wrap",children:(0,t.jsx)("div",{id:(e?"edit_":"create_")+l.type+l.key,className:"lg:w-full p-1",children:(0,t.jsx)(H.Z,{disabled:eQ,label:"Menu Section",name:"menu_section",id:(e?"edit_":"create_")+"menu_section",placeholder:"Select..",className:"w-full",options:[{label:"Primary Menu",type:0,value:"primary"},...null===(p=eu.find(e=>"menu_parent_id"==e.key))||void 0===p?void 0:p.select.data],rules:[{required:!0}]})})}):(null==ez?void 0:ez.menu_type)==="Primary"?(0,t.jsx)("div",{className:"lg:w-1/2 lg:flex lg:flex-wrap",children:(0,t.jsx)("div",{id:(e?"edit_":"create_")+l.type+l.key,className:"lg:w-full p-1",children:(0,t.jsx)(U.Z,{rules:[{required:!0},()=>({validator:(e,l)=>"#"==l||"$"==l||"%"==l||"&"==l||"*"==l?Promise.reject(Error("Value is not allowed!")):"/"!=l.slice(0,1)&&l?Promise.reject(Error('Value must begin with "/"')):Promise.resolve()})],label:"Path",name:"path",id:(e?"edit_":"create_")+"path",disabled:eQ||(e?l.disabledEdit:l.disabledCreate),type:"text",onChange:e=>{lu.push({name:["path"],value:e.target.value}),lc({...ld,path:e.target.value})},placeholder:"/path"})})}):null]},n)}})},lx=async(e,l)=>{let n=null,t=new FormData;for(let l in e)e[l]&&t.append(l,e[l]);let a=!1;if(eu.filter(l=>(null==l?void 0:l.hidden)?void 0:!e[l.key]).map(i=>{if("avatar"==i.type||"file"==i.type){var s;let a=document.getElementById("add"!==l?"edit_"+i.key:"create_"+i.key).files;(null==a?void 0:a[0])&&(t.append(i.key,a[0]),n={"Content-Type":"multipart/form-data"}),(null===(s=document.getElementById("imgDel_edit_".concat(i.key)))||void 0===s?void 0:s.value)&&(t.append(i.key,""),e[i.name]=null)}else if("permission"==i.type){let l=Array.from(new FormData(e3?document.getElementById("editModal"):document.getElementById("addModal")).entries()),n=[];l.map(e=>{let l=e[0].split("|");if(2==l.length){if(n.length){let e=n.find(e=>e.menu_id==l[0]);e?n=[...n.filter(e=>e.menu_id!=l[0]),{menu_id:l[0],action:[...e.action,l[1]]}]:n.push({menu_id:l[0],action:[l[1]]})}else n.push({menu_id:l[0],action:[l[1]]})}}),n.length||(eI.open({key:"menu_list",type:"info",content:"There are no menus checked, please check at least one menu",duration:2}),a=!0),e.menu_list=n,t.append("menu_list",n)}else!Array.from(t.entries()).find(e=>i.name==e[0])&&((e[i.name]||"password"!==i.name)&&(e[i.name]||"action"!==i.name)&&(e[i.name]||"path"!==i.name?e[i.name]||"menu_parent_id"!==i.name?(e[i.name]||"action"!==i.name)&&t.append(i.name,""):t.append(i.name,(null==ld?void 0:ld.menu_parent_id)==""?null:null==ld?void 0:ld.menu_parent_id):t.append(i.name,ld.path)),e[i.name]||"action"!=i.name?e[i.name]||"path"!=i.name?e[i.name]||"menu_parent_id"!=i.name?(e[i.name]||"password"!=i.name)&&(e[i.name]=""):e[i.name]=(null==ld?void 0:ld.menu_parent_id)==""?null:null==ld?void 0:ld.menu_parent_id:e[i.name]=ld.path:e[i.name]=[])}),eu.filter(l=>{"number"==l.type&&"nik"!==l.key&&(e[l.name]=e[l.name]?Number(e[l.name]):null)}),!a){if(eX(!0),"add"==l){eI.open({key:e,type:"loading",content:"Loading...",duration:0});let l=await (0,i.Z)(n).post(ep.action.create,n?t:e);if((0,o.Z)({res:l,app:ey,key:e})){let l=await (0,i.Z)().get(ef);(0,o.Z)({res:l,app:ey,key:e})&&(eX(!1),ej?ej(l.data):eE(eO(l.data)),la(!1),lh.resetFields(),eD(void 0),eI.open({key:e,type:"success",content:"Created Successfully",duration:2}))}else eX(!1)}else if("edit"==l){if(e0.id){eI.open({key:e,type:"loading",content:"Loading...",duration:0});let l=await (0,i.Z)(n).post(ep.action.edit+"/"+e0.id,n?t:e);if((0,o.Z)({res:l,app:ey,key:e})){let l=await (0,i.Z)().get(ef);(0,o.Z)({res:l,app:ey,key:e})&&(eX(!1),ej?ej(l.data):eE(eO(l.data)),e7(!1),eD(void 0),eI.open({key:e,type:"success",content:"Successfully Updated",duration:2}))}else eX(!1);let a=async()=>{let e=await (0,i.Z)().refresh_Token();if((0,o.Z)({res:e,app:ey})){ek.dataUser=e.data;let l=[];e.data.menuList.find(e=>{e.submenuItems?e.submenuItems.find(e=>{e.path===ew.replace("/admin","")&&(l=e.permission)}):e.path===ew.replace("/admin","")&&(l=e.permission)}),ek.permission=l}};("Role"===eh||"Menu"===eh)&&a()}else eX(!1),eI.open({key:ep.action.edit,type:"error",content:"Edit Data Not Found",duration:2})}else if("sort"==l){eX(!1);let l={};Object.keys(e).map(n=>{if("icon"==n){var t,a;l[n]=null===(a=e[n])||void 0===a?void 0:null===(t=a.props)||void 0===t?void 0:t.children[2]}else l[n]=e[n]});let n=await (0,i.Z)().post(ef+"/update/"+e.id,l);console.log("DATA => ",n),(0,o.Z)({res:n,app:ey,key:n})?(eD(void 0),eI.open({key:n,type:"success",content:"Sorting was successful",duration:2})):eE(eM)}}},lf=e=>{if("excel"==e.key){var l,n;lj(null!=eB?eB:eM,null===(n=ep.export)||void 0===n?void 0:null===(l=n.excel)||void 0===l?void 0:l.subject)}else"pdf"===e.key&&eI.info("Export PDF Not Running")},lj=(e,l)=>{(0,K.Z)(eV(e,"export"),l)},lw=()=>{var e,l;let n=[];return(null===(e=ep.export)||void 0===e?void 0:e.excel)&&n.push({key:"excel",label:(0,t.jsxs)(Z.Z,{placement:"left",title:"Download Excel",children:[(0,t.jsx)(p.Z,{})," Excel"]})}),(null===(l=ep.export)||void 0===l?void 0:l.pdf)&&n.push({key:"pdf",label:(0,t.jsxs)(Z.Z,{placement:"left",title:"Download PDF",children:[(0,t.jsx)(h.Z,{})," PDF"]})}),n};return(0,t.jsx)(t.Fragment,{children:ev?(0,t.jsx)(Q.Z,{}):(0,t.jsxs)(A.Z,{className:" rounded-2xl border-none shadow",children:[eS,e5,ep.filterDate&&(0,t.jsx)(V.Z,{onChange:eW,end_date:ep.filterDate.end_date,start_date:ep.filterDate.start_date,rangeDayPick:ep.filterDate.rangeDayPick,className:" w-full  xl:w-1/3 mb-2"}),(0,t.jsxs)("div",{className:"float-right w-full xl:w-1/2 mb-2 ",children:[(0,t.jsxs)("div",{className:"md:hidden",children:[ep.action.create?(0,t.jsx)(Z.Z,{title:"Create Data",color:"blue",children:(0,t.jsx)(I.ZP,{className:"mb-2 w-full",type:"primary",onClick:()=>{eD(void 0),lh.resetFields(),li()},children:"+ Add"})}):null,(null===(u=ep.export)||void 0===u?void 0:u.excel)||(null===(F=ep.export)||void 0===F?void 0:F.pdf)?(0,t.jsx)(T.Z,{className:"mb-2 w-full",menu:{items:lw(),onClick:lf},children:(0,t.jsx)(I.ZP,{children:(0,t.jsxs)(P.Z,{children:[(0,t.jsx)(b.Z,{})," Export"]})})}):null,ep.import?(0,t.jsx)(J.Z,{className:"mb-2 w-full",urlFormat:null===(ea=ep.import)||void 0===ea?void 0:ea.url}):null]}),(0,t.jsxs)("div",{className:"flex justify-end",children:[(0,t.jsx)(q.Z,{className:"w-full",directChange:()=>{e_(!0)},onChange:e=>{if(ep.filterApiSearch);else{if(ep.filterDate)""==e?eW(eT,!1):eE(eq(eW(eT,!0),e));else{let l=eq(eV(eg,"search"),e,["key"]);eE(eg.filter(e=>{if(l.find(l=>l.key==e.key))return e}))}eA(void 0)}e_(!1)}}),(0,t.jsxs)("div",{className:"flex max-md:hidden",children:[ep.action.create?(0,t.jsx)(Z.Z,{title:"Create Data",color:"blue",children:(0,t.jsx)(I.ZP,{className:"ml-2",type:"primary",onClick:()=>{eD(void 0),lh.resetFields(),li()},children:"+ Add"})}):null,(null===(ei=ep.export)||void 0===ei?void 0:ei.excel)||(null===(es=ep.export)||void 0===es?void 0:es.pdf)?(0,t.jsx)(T.Z,{className:"ml-2 w-full",menu:{items:lw(),onClick:lf},children:(0,t.jsx)(I.ZP,{children:(0,t.jsxs)(P.Z,{children:[(0,t.jsx)(b.Z,{}),"   Export"]})})}):null,ep.import?(0,t.jsx)(J.Z,{className:"ml-2",urlFormat:null===(er=ep.import)||void 0===er?void 0:er.url}):null]})]})]}),(0,t.jsx)(M.Z,{title:"Create ".concat(eh),open:lt,onOk:()=>{document.getElementById("addModalSubmit").click()},confirmLoading:eQ,onCancel:()=>{la(!1)},width:"80%",className:"z-50",children:(0,t.jsxs)(E.Z,{autoComplete:"off",layout:"vertical",id:"addModal",form:lh,fields:[],onFinish:e=>lx(e,"add"),className:"lg:flex lg:flex-wrap",children:[lv(),(0,t.jsx)("button",{type:"submit",id:"addModalSubmit"})]})}),(0,t.jsx)(M.Z,{className:"z-50",title:"".concat(eh),open:e3,onOk:()=>{document.getElementById("editModalSubmit").click()},confirmLoading:eQ,onCancel:()=>{e7(!1)},width:"80%",children:(0,t.jsxs)(E.Z,{layout:"vertical",onFinish:e=>lx(e,"edit"),autoComplete:"off",fields:lu,onFieldsChange:(e,l)=>{lu=l},id:"editModal",className:"lg:flex lg:flex-wrap",children:[lv("edit"),(0,t.jsx)("button",{type:"submit",id:"editModalSubmit"})]})}),(0,t.jsx)(M.Z,{className:"z-50",title:"Change Password",open:le,footer:"",confirmLoading:eQ,onCancel:()=>ll(!1),width:"80%",children:(0,t.jsxs)(E.Z,{autoComplete:"off",layout:"vertical",onFinish:ln,form:e9,children:[(0,t.jsxs)("div",{className:"lg:flex lg:flex-wrap",children:[(0,t.jsx)(E.Z.Item,{hasFeedback:!0,label:"New Password",className:"lg:w-1/2 p-1",name:"new_password",rules:[{required:!0},()=>({validator:(e,l)=>(null==l?void 0:l.length)>=8?Promise.resolve():Promise.reject(Error("Password min 8 characters!"))})],children:(0,t.jsx)(N.default,{type:"password",disabled:eQ,placeholder:"Password"})}),(0,t.jsx)(E.Z.Item,{label:"Confirm Password",name:"confim_password",className:"lg:w-1/2 p-1",dependencies:["new_password"],hasFeedback:!0,rules:[{required:!0},e=>{let{getFieldValue:l}=e;return{validator:(e,n)=>n&&l("new_password")!==n?Promise.reject(Error("The new password that you entered do not match!")):Promise.resolve()}}],children:(0,t.jsx)(N.default,{type:"password",disabled:eQ,placeholder:"New Password"})})]}),(0,t.jsx)(E.Z.Item,{children:(0,t.jsx)(I.ZP,{loading:eQ,type:"dashed",danger:!0,htmlType:"submit",className:"w-full p-1",children:"Change Password"})})]})}),ep.sort?(0,t.jsx)(X.LB,{modifiers:[ee.DL],onDragEnd:e=>{let{active:l,over:n}=e;if(l.id!==(null==n?void 0:n.id)){let e=eM.findIndex(e=>e.key===l.id);lx({sort:eM.findIndex(e=>e.key===(null==n?void 0:n.id))+1,...eM[e]},"sort"),eE(e=>{let t=e.findIndex(e=>e.key===l.id),a=e.findIndex(e=>e.key===(null==n?void 0:n.id));return(0,el.Rp)(e,t,a)})}},children:(0,t.jsx)(el.Fo,{items:eM.map(e=>e.key),strategy:el.qw,children:(0,t.jsx)(z.Z,{components:{body:{row:e=>{let{children:l,...n}=e,{attributes:i,listeners:s,setNodeRef:r,setActivatorNodeRef:o,transform:d,transition:c,isDragging:u}=(0,el.nB)({id:n["data-row-key"]}),m={...n.style,transform:en.ux.Transform.toString(d&&{...d,scaleY:1}),transition:c,...u?{position:"relative",zIndex:9999}:{}};return(0,t.jsx)("tr",{...n,ref:r,style:m,...i,children:a.Children.map(l,e=>"sort"===e.key&&ep.short?a.cloneElement(e,{children:(0,t.jsx)(g.Z,{ref:o,style:{touchAction:"none",cursor:"move"},...s})}):e)})}}},rowKey:"key",scroll:{x:800},loading:eN,columns:eJ,dataSource:eM,onChange:lo})})}):(0,t.jsx)(z.Z,{scroll:{x:800},loading:eN,columns:eJ,dataSource:eM,onChange:lo})]})})};function ei(){var e;let l="konfigurasi-ttd-all",n=r.Z.useApp(),u=(0,s.usePathname)(),m=(0,a.useContext)(d.Z),[p,h]=(0,a.useState)(!1),[v,x]=(0,a.useState)([]);(0,a.useEffect)(()=>{h(!0),(async()=>{let e=await (0,i.Z)().get(l);(0,o.Z)({res:e,app:n})?x(e.data):x([]),h(!1)})()},[u,m,n]);let f={action:{edit:(null==m?void 0:null===(e=m.permission)||void 0===e?void 0:e.indexOf("update"))!==-1?"/konfigurasi-ttd/update":void 0}};return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(c.Z,{pathname:u,globalState:m,children:(0,t.jsx)(ea,{updateFetch:e=>{console.log(e)},loadFirst:p,urlData:l,type:f,columnData:[{title:"Menu",key:"line_1",type:"text",name:"line_1",placeholder:"Menu",sort:!0,disabledEdit:!0},{title:"id",key:"id",hidden:!0},{title:"disabled",key:"data_sign",hidden:!0},{title:"Petugas 1",key:"name_1",type:"text",name:"name_1",placeholder:"Petugas 1",sort:!0,rules:[{required:!0}],export:!0,disabledEdit:!1,ellipsis:!0,width:120},{title:"Posisi Petugas 1",key:"position_1",type:"text",name:"position_1",placeholder:"Posisi Petugas 1",sort:!0,rules:[{required:!0}],export:!0,disabledEdit:!1,ellipsis:!0,width:160},{title:"NIP Petugas 1",key:"nipp_1",type:"text",name:"nipp_1",placeholder:"NIP Petugas 1",sort:!0,rules:[{required:!0}],export:!0,disabledEdit:!1,ellipsis:!0,width:160},{title:"Petugas 2",key:"name_2",type:"text",name:"name_2",placeholder:"Petugas 2",sort:!0,export:!0,ellipsis:!0,width:120},{title:"Posisi Petugas 2",key:"position_2",type:"text",name:"position_2",placeholder:"Posisi Petugas 2",sort:!0,export:!0,ellipsis:!0,width:160},{title:"NIP Petugas 2",key:"nipp_2",type:"text",name:"nipp_2",placeholder:"NIP Petugas 2",sort:!0,export:!0,ellipsis:!0}],fetch:v,modalTitle:"Tanda Tangan"})})})}},60728:function(e,l,n){"use strict";n.d(l,{un:function(){return u},zx:function(){return c}});var t=n(57437),a=n(2265),i=n(71538),s=n(12218),r=n(13498),o=n(46682);let d=(0,s.j)("inline-flex items-center justify-center rounded-lg text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-400 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-800",{variants:{variant:{default:"bg-zinc-900 text-zinc-50 hover:bg-zinc-900/90 dark:bg-zinc-50 dark:text-zinc-900 dark:hover:bg-zinc-50/90",destructive:"bg-red-500 text-zinc-50 hover:bg-red-500/90 dark:bg-red-900 dark:text-red-50 dark:hover:bg-red-900/90",outline:"border border-zinc-200 bg-white hover:bg-zinc-100 hover:text-zinc-900 dark:border-zinc-800 dark:bg-zinc-950 dark:hover:bg-zinc-800 dark:hover:text-zinc-50",secondary:"bg-zinc-100 text-zinc-900 hover:bg-zinc-100/80 dark:bg-zinc-800 dark:text-zinc-50 dark:hover:bg-zinc-800/80",ghost:"hover:bg-zinc-100 hover:text-zinc-900 dark:hover:bg-zinc-800 dark:hover:text-zinc-50",link:"text-zinc-900 underline-offset-4 hover:underline dark:text-zinc-50"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-lg px-3",lg:"h-11 rounded-lg px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,l)=>{let{className:n,variant:a,size:s,asChild:o=!1,...c}=e,u=o?i.g7:"button";return(0,t.jsx)(u,{className:(0,r.cn)(d({variant:a,size:s,className:n})),ref:l,...c})});c.displayName="Button";let u=e=>{let{type:l,icon:n,loading:a,label:i,style:s,className:r}=e;return(0,t.jsx)(o.ZP,{htmlType:l,type:s,icon:n,loading:a,className:r,children:i})}},71275:function(e,l,n){"use strict";let t=n(2265).createContext({});l.Z=t},65188:function(e,l,n){"use strict";var t=n(57437),a=n(60728),i=n(66648),s=n(42005);l.Z=e=>{var l,n;let{children:r,pathname:o,globalState:d}=e;return(0,t.jsx)(t.Fragment,{children:(0,s.Z)().cekPermission(null!==(n=null==d?void 0:null===(l=d.dataUser)||void 0===l?void 0:l.menuList)&&void 0!==n?n:[],o)&&(null==d?void 0:d.permission.indexOf("view"))!=-1?r:(0,t.jsxs)("div",{className:" flex flex-col justify-center items-center overflow-x-hidden overflow-y-auto py-5",children:[(0,t.jsx)(i.default,{alt:"permission",height:0,width:0,quality:70,src:"/assets/illustrations/maintenance.svg",className:"w-80 md:w-[28rem] 2xl:w-[40rem] shadow-sm  object-cover"}),(0,t.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold tracking-tight text-center",children:"Not Permission"}),(0,t.jsx)("span",{className:"text-center mt-1 mb-5 text-zinc-600 dark:text-zinc-400 md:w-9/12 break-all px-10 sm:px-0",children:"It looks like the page you are looking for doesnt have permission"}),(0,t.jsx)("div",{className:"flex items-center space-x-2",children:(0,t.jsx)("a",{onClick:()=>window.location.href="/",children:(0,t.jsx)(a.zx,{variant:"outline",children:"Back to Home"})})})]})})}},30939:function(e,l,n){"use strict";var t=n(57437);l.Z=e=>{var l,n,a,i,s,r,o;let{res:d,app:c,type:u,msgTrue:m,msgFalse:p,key:h}=e,{message:v,notification:x,modal:f}=c;if(d)return(null==d?void 0:d.response)?(null==d?void 0:null===(l=d.response.data)||void 0===l?void 0:l.code)=="00"?(m&&!p&&("message"==u?v:"notification"==u?x:"modal"==u?f:v).open({key:null!=h?h:null==d?void 0:d.response.data.code,type:"success",content:(0,t.jsxs)("span",{className:" capitalize",children:[" ",null==d?void 0:d.response.data.message]})}),!0):(p||((null==d?void 0:null===(n=d.response.data)||void 0===n?void 0:n.code)?(null==d?void 0:d.response.data.code)=="403"||("message"==u?v:"notification"==u?x:"modal"==u?f:v).open({key:null!=h?h:d.code,type:"error",content:(0,t.jsxs)("span",{className:" capitalize",children:[" ",null==d?void 0:d.response.data.message]})}):("message"==u?v:"notification"==u?x:"modal"==u?f:v).open({key:null!=h?h:null==d?void 0:null===(a=d.response.data)||void 0===a?void 0:a.code,type:"error",content:(0,t.jsxs)("span",{className:" capitalize",children:[" ",null==d?void 0:null===(s=d.response)||void 0===s?void 0:null===(i=s.data)||void 0===i?void 0:i.message]})})),!1):(null==d?void 0:d.code)=="00"?(m&&!p&&("message"==u?v:"notification"==u?x:"modal"==u?f:v).open({key:null!=h?h:d.code,type:"success",content:(0,t.jsxs)("span",{className:" capitalize",children:[" ",d.message]})}),!0):(p||((null==d?void 0:d.code)?"403"==d.code||("message"==u?v:"notification"==u?x:"modal"==u?f:v).open({key:null!=h?h:d.code,type:"error",content:(0,t.jsxs)("span",{className:" capitalize",children:[" ",d.message]})}):("message"==u?v:"notification"==u?x:"modal"==u?f:v).open({key:null!=h?h:null==d?void 0:d.code,type:"error",content:(0,t.jsxs)("span",{className:" capitalize",children:[" ",null==d?void 0:null===(o=d.response)||void 0===o?void 0:null===(r=o.data)||void 0===r?void 0:r.message]})})),!1)}},42005:function(e,l,n){"use strict";var t=n(38472),a=n(62737),i=n.n(a),s=n(51470),r=n.n(s),o=n(9109).lW;i().extend(r()),l.Z=(e,l)=>{let n=t.Z.create({baseURL:"http://devbackend-psolrtjabodebek.kai.id/api/v1/",headers:e||{Accept:"application/json","Content-Type":"application/json"},...l});n.interceptors.request.use(e=>{let l=localStorage.getItem("accessToken");return l&&(e.headers.Authorization="Bearer ".concat(l)),e.headers["request-startTime"]=new Date().getTime(),e.headers["request-date"]=i()(),e},e=>Promise.reject(e)),n.interceptors.response.use(e=>{let l=new Date().getTime(),n=e.config.headers["request-startTime"];return e.headers["request-duration"]=l-n,e});let a=()=>{var e,l;let n=!!(e=localStorage.getItem("accessToken"))&&JSON.parse(new o((null==e?void 0:null===(l=e.split("."))||void 0===l?void 0:l[1]).replace(/-/g,"+").replace(/_/g,"/"),"base64").toString("ascii"));return!!n&&n.token_id},s=async()=>n.get("/user/".concat(a())).then(e=>{let l=e.data.data.role_id;return n.post("/menu/list/",{role_id:l}).then(e=>e.data)}).catch(e=>e);return{idUser:a,login:async e=>n.post("/auth/login",e).then(e=>{let{data:l}=e;return localStorage.setItem("accessToken",l.data.accessToken),localStorage.setItem("refreshToken",l.data.refreshToken),sessionStorage.setItem("auth",JSON.stringify(l.data.user)),l}).catch(e=>{var l,n;return null!==(n=null==e?void 0:null===(l=e.response)||void 0===l?void 0:l.data)&&void 0!==n?n:e}),get:async(e,l)=>n.get(e).then(e=>l?e:e.data).catch(e=>e),post:async(e,l,t)=>n.post(e,l,t).then(e=>e.data).catch(e=>e),menuUsers:s,menuApp:async()=>n.post("/menu/list/").then(e=>e.data).catch(e=>e),refresh_Token:async()=>{let e=localStorage.getItem("refreshToken");return!!e&&(n.interceptors.request.use(l=>(l.headers["refresh-token"]=e,l),e=>Promise.reject(e)),n.get("/auth/refresh-token").then(e=>{let{data:l}=e;return localStorage.setItem("accessToken",l.data.accessToken),localStorage.setItem("refreshToken",l.data.refreshToken),l}).catch(e=>!1))},cekPermission:(e,l)=>{let n=!1,t="",a=e=>{e.submenuItems.map(e=>{e.submenuItems?(""!==t&&(t=e.submenuItems[0].path),a(e)):e.path==l.replace("/admin","")&&(n=!0)})};return null==e||e.map(i=>{i.submenuItems?(""!==t&&(t=i.submenuItems[0].path),i.submenuItems.map(e=>{e.submenuItems?(""!==t&&(t=e.submenuItems[0].path),a(e)):e.path==l.replace("/admin","")&&(n=!0)})):(""==i.path?n=!0:""!==t&&e[0].path,i.path==l.replace("/admin","")&&(n=!0))}),!!n},put:async(e,l)=>n.put(e,l).then(e=>e.data).catch(e=>e),del:async(e,l)=>(console.log("data delete",l),n.delete(e,{data:l}).then(e=>e).catch(e=>e)),menuPso:async e=>n.post("/pso/",{start:e[0],end:e[1]}).then(e=>e.data).catch(e=>e)}}},13498:function(e,l,n){"use strict";n.d(l,{cn:function(){return i}});var t=n(44839),a=n(96164);function i(){for(var e=arguments.length,l=Array(e),n=0;n<e;n++)l[n]=arguments[n];return(0,a.m6)((0,t.W)(l))}}},function(e){e.O(0,[3113,1866,9929,3033,8173,9141,2470,3919,8348,2100,4309,5053,5458,2034,428,8421,8028,4052,5325,6487,8378,2755,7149,3454,9689,252,1289,45,6910,7159,3021,2971,7023,1744],function(){return e(e.s=27627)}),_N_E=e.O()}]);