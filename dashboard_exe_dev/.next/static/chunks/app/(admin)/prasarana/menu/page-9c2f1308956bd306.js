(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1068,4527],{47016:function(e,t,n){Promise.resolve().then(n.bind(n,94385))},94385:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var a=n(57437),s=n(2265),i=n(68348),r=n(16463),l=n(42005),o=n(30939),u=n(78644),d=n(18658),c=n(71275),m=n(65188);function p(){var e,t,n,p,h,f;let v="Menu",g="/menu",b=i.Z.useApp(),_=(0,r.usePathname)(),x=(0,s.useContext)(c.Z),[y,k]=(0,s.useState)(!1),[S,z]=(0,s.useState)([]),[$,M]=(0,s.useState)(),[T,j]=(0,s.useState)();(0,s.useEffect)(()=>{k(!0),(async()=>{let e=await (0,l.Z)().get(g),t=await (0,l.Z)().get("action");if((0,o.Z)({res:e,app:b})&&(0,o.Z)({res:t,app:b})){var n;z(e.data),j(t.data.map(e=>({label:e.name,value:e.id})));let a=[];null===(n=e.data)||void 0===n||n.map(e=>{e.sub_menu&&(a.push({value:e.id,label:e.name,type:"$"}),e.sub_menu.map(e=>{e.sub_menu&&(a.push({value:e.id,label:"\xa0\xa0⤷ "+e.name,type:"%"}),e.sub_menu.map(e=>{e.sub_menu&&(a.push({value:e.id,label:"\xa0\xa0\xa0\xa0 ⤷ "+e.name,type:"&"}),e.sub_menu.map(e=>{e.sub_menu&&a.push({value:e.id,label:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ⤷ "+e.name,type:"*"})}))}))}))}),M(a)}else z([]),j(void 0);k(!1)})()},[_,g,b]);let w=[{title:"id",key:"id",hidden:!0},{title:"Name",key:"name",type:"text",name:"name",placeholder:"Name Menu",search:!0,sort:!0,rules:[{required:!0}],export:!0,ellipsis:!0,width:"300px"},{title:"Icon",key:"icon",name:"icon",type:"select",export:!0,rules:[{required:!0}],select:{type:"search",data:null===(e=Object.keys(u.P))||void 0===e?void 0:e.map(e=>({value:e,label:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,u.s)(e),"\xa0",e]})}))}},{type:"path_menu_parent_id",name:"path_menu_parent_id",key:"path_menu_parent_id",tableHidden:!0},{title:"Path",key:"path",type:"text",name:"path",placeholder:"Path (#: Primary/ $: Submenu)",search:!0,sort:!0,rules:[{required:!0}],inputHidden:!0,export:!0},{title:"Menu Primary",key:"menu_parent_id",name:"menu_parent_id",type:"select",sort:!0,search:!0,tableHidden:!0,inputHidden:!0,select:{type:"search",data:$}},{title:"Permission",key:"action",name:"action",type:"select",mode:"multiple",rules:[{required:!0}],select:{type:"search",data:T}},{title:"Sorting",key:"sort",type:"number",name:"sort",placeholder:"Sort",tableHidden:!0}],D={rowSelection:!0,action:{create:(null==x?void 0:null===(t=x.permission)||void 0===t?void 0:t.indexOf("create"))!==-1?"menu/insert":void 0,delete:(null==x?void 0:null===(n=x.permission)||void 0===n?void 0:n.indexOf("delete"))!==-1?"menu/delete":void 0,edit:(null==x?void 0:null===(p=x.permission)||void 0===p?void 0:p.indexOf("update"))!==-1?"menu/update":void 0},export:{excel:(null==x?void 0:null===(h=x.permission)||void 0===h?void 0:h.indexOf("export excel"))!==-1&&{subject:"Data "+v},pdf:(null==x?void 0:null===(f=x.permission)||void 0===f?void 0:f.indexOf("export pdf"))!==-1&&{subject:"Data "+v}}};return(0,a.jsx)(m.Z,{pathname:_,globalState:x,children:(0,a.jsx)(d.Z,{updateFetch:e=>{z(e);let t=[];null==e||e.map(e=>{e.sub_menu&&(t.push({value:e.id,label:e.name,type:"$"}),e.sub_menu.map(e=>{e.sub_menu&&(t.push({value:e.id,label:"\xa0\xa0⤷ "+e.name,type:"%"}),e.sub_menu.map(e=>{e.sub_menu&&(t.push({value:e.id,label:"\xa0\xa0\xa0\xa0 ⤷ "+e.name,type:"&"}),e.sub_menu.map(e=>{e.sub_menu&&t.push({value:e.id,label:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ⤷ "+e.name,type:"*"})}))}))}))}),M(t)},loadFirst:y,type:D,urlData:g,columnData:w,fetch:S,modalTitle:v})})}},60728:function(e,t,n){"use strict";n.d(t,{un:function(){return c},zx:function(){return d}});var a=n(57437),s=n(2265),i=n(71538),r=n(12218),l=n(13498),o=n(46682);let u=(0,r.j)("inline-flex items-center justify-center rounded-lg text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-400 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-800",{variants:{variant:{default:"bg-zinc-900 text-zinc-50 hover:bg-zinc-900/90 dark:bg-zinc-50 dark:text-zinc-900 dark:hover:bg-zinc-50/90",destructive:"bg-red-500 text-zinc-50 hover:bg-red-500/90 dark:bg-red-900 dark:text-red-50 dark:hover:bg-red-900/90",outline:"border border-zinc-200 bg-white hover:bg-zinc-100 hover:text-zinc-900 dark:border-zinc-800 dark:bg-zinc-950 dark:hover:bg-zinc-800 dark:hover:text-zinc-50",secondary:"bg-zinc-100 text-zinc-900 hover:bg-zinc-100/80 dark:bg-zinc-800 dark:text-zinc-50 dark:hover:bg-zinc-800/80",ghost:"hover:bg-zinc-100 hover:text-zinc-900 dark:hover:bg-zinc-800 dark:hover:text-zinc-50",link:"text-zinc-900 underline-offset-4 hover:underline dark:text-zinc-50"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-lg px-3",lg:"h-11 rounded-lg px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:n,variant:s,size:r,asChild:o=!1,...d}=e,c=o?i.g7:"button";return(0,a.jsx)(c,{className:(0,l.cn)(u({variant:s,size:r,className:n})),ref:t,...d})});d.displayName="Button";let c=e=>{let{type:t,icon:n,loading:s,label:i,style:r,className:l}=e;return(0,a.jsx)(o.ZP,{htmlType:t,type:r,icon:n,loading:s,className:l,children:i})}},71275:function(e,t,n){"use strict";let a=n(2265).createContext({});t.Z=a},65188:function(e,t,n){"use strict";var a=n(57437),s=n(60728),i=n(66648),r=n(42005);t.Z=e=>{var t,n;let{children:l,pathname:o,globalState:u}=e;return(0,a.jsx)(a.Fragment,{children:(0,r.Z)().cekPermission(null!==(n=null==u?void 0:null===(t=u.dataUser)||void 0===t?void 0:t.menuList)&&void 0!==n?n:[],o)&&(null==u?void 0:u.permission.indexOf("view"))!=-1?l:(0,a.jsxs)("div",{className:" flex flex-col justify-center items-center overflow-x-hidden overflow-y-auto py-5",children:[(0,a.jsx)(i.default,{alt:"permission",height:0,width:0,quality:70,src:"/assets/illustrations/maintenance.svg",className:"w-80 md:w-[28rem] 2xl:w-[40rem] shadow-sm  object-cover"}),(0,a.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold tracking-tight text-center",children:"Not Permission"}),(0,a.jsx)("span",{className:"text-center mt-1 mb-5 text-zinc-600 dark:text-zinc-400 md:w-9/12 break-all px-10 sm:px-0",children:"It looks like the page you are looking for doesnt have permission"}),(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(0,a.jsx)("a",{onClick:()=>window.location.href="/",children:(0,a.jsx)(s.zx,{variant:"outline",children:"Back to Home"})})})]})})}},30939:function(e,t,n){"use strict";var a=n(57437);t.Z=e=>{var t,n,s,i,r,l,o;let{res:u,app:d,type:c,msgTrue:m,msgFalse:p,key:h}=e,{message:f,notification:v,modal:g}=d;if(u)return(null==u?void 0:u.response)?(null==u?void 0:null===(t=u.response.data)||void 0===t?void 0:t.code)=="00"?(m&&!p&&("message"==c?f:"notification"==c?v:"modal"==c?g:f).open({key:null!=h?h:null==u?void 0:u.response.data.code,type:"success",content:(0,a.jsxs)("span",{className:" capitalize",children:[" ",null==u?void 0:u.response.data.message]})}),!0):(p||((null==u?void 0:null===(n=u.response.data)||void 0===n?void 0:n.code)?(null==u?void 0:u.response.data.code)=="403"||("message"==c?f:"notification"==c?v:"modal"==c?g:f).open({key:null!=h?h:u.code,type:"error",content:(0,a.jsxs)("span",{className:" capitalize",children:[" ",null==u?void 0:u.response.data.message]})}):("message"==c?f:"notification"==c?v:"modal"==c?g:f).open({key:null!=h?h:null==u?void 0:null===(s=u.response.data)||void 0===s?void 0:s.code,type:"error",content:(0,a.jsxs)("span",{className:" capitalize",children:[" ",null==u?void 0:null===(r=u.response)||void 0===r?void 0:null===(i=r.data)||void 0===i?void 0:i.message]})})),!1):(null==u?void 0:u.code)=="00"?(m&&!p&&("message"==c?f:"notification"==c?v:"modal"==c?g:f).open({key:null!=h?h:u.code,type:"success",content:(0,a.jsxs)("span",{className:" capitalize",children:[" ",u.message]})}),!0):(p||((null==u?void 0:u.code)?"403"==u.code||("message"==c?f:"notification"==c?v:"modal"==c?g:f).open({key:null!=h?h:u.code,type:"error",content:(0,a.jsxs)("span",{className:" capitalize",children:[" ",u.message]})}):("message"==c?f:"notification"==c?v:"modal"==c?g:f).open({key:null!=h?h:null==u?void 0:u.code,type:"error",content:(0,a.jsxs)("span",{className:" capitalize",children:[" ",null==u?void 0:null===(o=u.response)||void 0===o?void 0:null===(l=o.data)||void 0===l?void 0:l.message]})})),!1)}},42005:function(e,t,n){"use strict";var a=n(38472),s=n(62737),i=n.n(s),r=n(51470),l=n.n(r),o=n(9109).lW;i().extend(l()),t.Z=(e,t)=>{let n=a.Z.create({baseURL:"https://devbackend-psolrtjabodebek.kai.id/api/v1/",headers:e||{Accept:"application/json","Content-Type":"application/json"},...t});n.interceptors.request.use(e=>{let t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e.headers["request-startTime"]=new Date().getTime(),e.headers["request-date"]=i()(),e},e=>Promise.reject(e)),n.interceptors.response.use(e=>{let t=new Date().getTime(),n=e.config.headers["request-startTime"];return e.headers["request-duration"]=t-n,e});let s=()=>{var e,t;let n=!!(e=localStorage.getItem("accessToken"))&&JSON.parse(new o((null==e?void 0:null===(t=e.split("."))||void 0===t?void 0:t[1]).replace(/-/g,"+").replace(/_/g,"/"),"base64").toString("ascii"));return!!n&&n.token_id},r=async()=>n.get("/user/".concat(s())).then(e=>{let t=e.data.data.role_id;return n.post("/menu/list/",{role_id:t}).then(e=>e.data)}).catch(e=>e);return{idUser:s,login:async e=>n.post("/auth/login",e).then(e=>{let{data:t}=e;return localStorage.setItem("accessToken",t.data.accessToken),localStorage.setItem("refreshToken",t.data.refreshToken),sessionStorage.setItem("auth",JSON.stringify(t.data.user)),t}).catch(e=>{var t,n;return null!==(n=null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.data)&&void 0!==n?n:e}),get:async(e,t)=>n.get(e).then(e=>t?e:e.data).catch(e=>e),post:async(e,t,a)=>n.post(e,t,a).then(e=>e.data).catch(e=>e),menuUsers:r,menuApp:async()=>n.post("/menu/list/").then(e=>e.data).catch(e=>e),refresh_Token:async()=>{let e=localStorage.getItem("refreshToken");return!!e&&(n.interceptors.request.use(t=>(t.headers["refresh-token"]=e,t),e=>Promise.reject(e)),n.get("/auth/refresh-token").then(e=>{let{data:t}=e;return localStorage.setItem("accessToken",t.data.accessToken),localStorage.setItem("refreshToken",t.data.refreshToken),t}).catch(e=>!1))},cekPermission:(e,t)=>{let n=!1,a="",s=e=>{e.submenuItems.map(e=>{e.submenuItems?(""!==a&&(a=e.submenuItems[0].path),s(e)):e.path==t.replace("/admin","")&&(n=!0)})};return null==e||e.map(i=>{i.submenuItems?(""!==a&&(a=i.submenuItems[0].path),i.submenuItems.map(e=>{e.submenuItems?(""!==a&&(a=e.submenuItems[0].path),s(e)):e.path==t.replace("/admin","")&&(n=!0)})):(""==i.path?n=!0:""!==a&&e[0].path,i.path==t.replace("/admin","")&&(n=!0))}),!!n},put:async(e,t)=>n.put(e,t).then(e=>e.data).catch(e=>e),del:async(e,t)=>(console.log("data delete",t),n.delete(e,{data:t}).then(e=>e).catch(e=>e)),menuPso:async e=>n.post("/pso/",{start:e[0],end:e[1]}).then(e=>e.data).catch(e=>e)}}},13498:function(e,t,n){"use strict";n.d(t,{cn:function(){return i}});var a=n(44839),s=n(96164);function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.m6)((0,a.W)(t))}},65799:function(e,t,n){var a;a=function(e){"use strict";var t={name:"id",weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),weekStart:1,formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},ordinal:function(e){return e+"."}};return(e&&"object"==typeof e&&"default"in e?e:{default:e}).default.locale(t,null,!0),t},e.exports=a(n(62737))},8558:function(e){var t;t=function(){"use strict";var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(a,s,i){var r=s.prototype;i.utc=function(e){var t={date:e,utc:!0,args:arguments};return new s(t)},r.utc=function(t){var n=i(this.toDate(),{locale:this.$L,utc:!0});return t?n.add(this.utcOffset(),e):n},r.local=function(){return i(this.toDate(),{locale:this.$L,utc:!1})};var l=r.parse;r.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),l.call(this,e)};var o=r.init;r.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else o.call(this)};var u=r.utcOffset;r.utcOffset=function(a,s){var i=this.$utils().u;if(i(a))return this.$u?0:i(this.$offset)?u.call(this):this.$offset;if("string"==typeof a&&null===(a=function(e){void 0===e&&(e="");var a=e.match(t);if(!a)return null;var s=(""+a[0]).match(n)||["-",0,0],i=s[0],r=60*+s[1]+ +s[2];return 0===r?0:"+"===i?r:-r}(a)))return this;var r=16>=Math.abs(a)?60*a:a,l=this;if(s)return l.$offset=r,l.$u=0===a,l;if(0!==a){var o=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(l=this.local().add(r+o,e)).$offset=r,l.$x.$localOffset=o}else l=this.utc();return l};var d=r.format;r.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return d.call(this,t)},r.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},r.isUTC=function(){return!!this.$u},r.toISOString=function(){return this.toDate().toISOString()},r.toString=function(){return this.toDate().toUTCString()};var c=r.toDate;r.toDate=function(e){return"s"===e&&this.$offset?i(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():c.call(this)};var m=r.diff;r.diff=function(e,t,n){if(e&&this.$u===e.$u)return m.call(this,e,t,n);var a=this.local(),s=i(e).local();return m.call(a,s,t,n)}}},e.exports=t()}},function(e){e.O(0,[2505,3113,1866,9929,3033,8173,9141,2470,3919,8348,2100,4309,5053,5458,2034,9155,7824,428,8421,8028,4052,5325,6487,8378,2755,7149,3454,9689,252,1289,45,6910,7159,3021,8658,2971,7023,1744],function(){return e(e.s=47016)}),_N_E=e.O()}]);