(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2996,4527],{86340:function(e,t,n){Promise.resolve().then(n.bind(n,71616))},71616:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var s=n(57437),i=n(2265),a=n(16463),r=n(68348),o=n(30939),l=n(18658),u=n(71275),c=n(65188),d=n(42005);function m(){var e,t,n,m,h;let p="Role",f="/role",v=r.Z.useApp(),g=(0,a.usePathname)(),x=(0,i.useContext)(u.Z),[b,k]=(0,i.useState)([]),[_,y]=(0,i.useState)(!1);(0,i.useEffect)(()=>{y(!0),(async()=>{let e=await (0,d.Z)().get(f);(0,o.Z)({res:e,app:v})?k(e.data.map(e=>{let t=[];return e.menu_list.map(e=>{e.submenuItems?e.submenuItems.map(e=>{var n;null==e||null===(n=e.submenuItems)||void 0===n||n.map(e=>{t.push({name:e.title,data:e.permission})}),t.push({name:e.title,data:e.permission})}):t.push({name:e.title,data:e.permission})}),e.permission=t,e})):k([]),y(!1)})()},[g,f,v]);let z={rowSelection:!0,action:{create:(null==x?void 0:null===(e=x.permission)||void 0===e?void 0:e.indexOf("create"))!==-1?"role/insert":void 0,delete:(null==x?void 0:null===(t=x.permission)||void 0===t?void 0:t.indexOf("delete"))!==-1?"role/delete":void 0,edit:(null==x?void 0:null===(n=x.permission)||void 0===n?void 0:n.indexOf("update"))!==-1?"role/update":void 0},export:{excel:(null==x?void 0:null===(m=x.permission)||void 0===m?void 0:m.indexOf("export excel"))!==-1&&{subject:"Data "+p},pdf:(null==x?void 0:null===(h=x.permission)||void 0===h?void 0:h.indexOf("export pdf"))!==-1&&{subject:"Data "+p}}};return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(c.Z,{pathname:g,globalState:x,children:(0,s.jsx)(l.Z,{updateFetch:e=>k(null==e?void 0:e.map(e=>{let t=[];return e.menu_list.map(e=>{e.submenuItems?e.submenuItems.map(e=>{var n;null==e||null===(n=e.submenuItems)||void 0===n||n.map(e=>{t.push({name:e.title,data:e.permission})}),t.push({name:e.title,data:e.permission})}):t.push({name:e.title,data:e.permission})}),e.permission=t,e})),type:z,urlData:f,loadFirst:_,columnData:[{title:"id",key:"id",hidden:!0},{title:"Name",key:"name",type:"text",name:"name",placeholder:"Name",search:!0,sort:!0,rules:[{required:!0}],export:!0},{title:"Description",key:"description",type:"text",name:"description",placeholder:"Description",search:!0,sort:!0,export:!0},{title:"Permission",key:"permission",type:"permission",export:!0,width:"40%"},{key:"menu_list",export:!0,hidden:!0}],fetch:b,modalTitle:p})})})}},60728:function(e,t,n){"use strict";n.d(t,{un:function(){return d},zx:function(){return c}});var s=n(57437),i=n(2265),a=n(71538),r=n(12218),o=n(13498),l=n(46682);let u=(0,r.j)("inline-flex items-center justify-center rounded-lg text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-400 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-800",{variants:{variant:{default:"bg-zinc-900 text-zinc-50 hover:bg-zinc-900/90 dark:bg-zinc-50 dark:text-zinc-900 dark:hover:bg-zinc-50/90",destructive:"bg-red-500 text-zinc-50 hover:bg-red-500/90 dark:bg-red-900 dark:text-red-50 dark:hover:bg-red-900/90",outline:"border border-zinc-200 bg-white hover:bg-zinc-100 hover:text-zinc-900 dark:border-zinc-800 dark:bg-zinc-950 dark:hover:bg-zinc-800 dark:hover:text-zinc-50",secondary:"bg-zinc-100 text-zinc-900 hover:bg-zinc-100/80 dark:bg-zinc-800 dark:text-zinc-50 dark:hover:bg-zinc-800/80",ghost:"hover:bg-zinc-100 hover:text-zinc-900 dark:hover:bg-zinc-800 dark:hover:text-zinc-50",link:"text-zinc-900 underline-offset-4 hover:underline dark:text-zinc-50"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-lg px-3",lg:"h-11 rounded-lg px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=i.forwardRef((e,t)=>{let{className:n,variant:i,size:r,asChild:l=!1,...c}=e,d=l?a.g7:"button";return(0,s.jsx)(d,{className:(0,o.cn)(u({variant:i,size:r,className:n})),ref:t,...c})});c.displayName="Button";let d=e=>{let{type:t,icon:n,loading:i,label:a,style:r,className:o}=e;return(0,s.jsx)(l.ZP,{htmlType:t,type:r,icon:n,loading:i,className:o,children:a})}},71275:function(e,t,n){"use strict";let s=n(2265).createContext({});t.Z=s},65188:function(e,t,n){"use strict";var s=n(57437),i=n(60728),a=n(66648),r=n(42005);t.Z=e=>{var t,n;let{children:o,pathname:l,globalState:u}=e;return(0,s.jsx)(s.Fragment,{children:(0,r.Z)().cekPermission(null!==(n=null==u?void 0:null===(t=u.dataUser)||void 0===t?void 0:t.menuList)&&void 0!==n?n:[],l)&&(null==u?void 0:u.permission.indexOf("view"))!=-1?o:(0,s.jsxs)("div",{className:" flex flex-col justify-center items-center overflow-x-hidden overflow-y-auto py-5",children:[(0,s.jsx)(a.default,{alt:"permission",height:0,width:0,quality:70,src:"/assets/illustrations/maintenance.svg",className:"w-80 md:w-[28rem] 2xl:w-[40rem] shadow-sm  object-cover"}),(0,s.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold tracking-tight text-center",children:"Not Permission"}),(0,s.jsx)("span",{className:"text-center mt-1 mb-5 text-zinc-600 dark:text-zinc-400 md:w-9/12 break-all px-10 sm:px-0",children:"It looks like the page you are looking for doesnt have permission"}),(0,s.jsx)("div",{className:"flex items-center space-x-2",children:(0,s.jsx)("a",{onClick:()=>window.location.href="/",children:(0,s.jsx)(i.zx,{variant:"outline",children:"Back to Home"})})})]})})}},30939:function(e,t,n){"use strict";var s=n(57437);t.Z=e=>{var t,n,i,a,r,o,l;let{res:u,app:c,type:d,msgTrue:m,msgFalse:h,key:p}=e,{message:f,notification:v,modal:g}=c;if(u)return(null==u?void 0:u.response)?(null==u?void 0:null===(t=u.response.data)||void 0===t?void 0:t.code)=="00"?(m&&!h&&("message"==d?f:"notification"==d?v:"modal"==d?g:f).open({key:null!=p?p:null==u?void 0:u.response.data.code,type:"success",content:(0,s.jsxs)("span",{className:" capitalize",children:[" ",null==u?void 0:u.response.data.message]})}),!0):(h||((null==u?void 0:null===(n=u.response.data)||void 0===n?void 0:n.code)?(null==u?void 0:u.response.data.code)=="403"||("message"==d?f:"notification"==d?v:"modal"==d?g:f).open({key:null!=p?p:u.code,type:"error",content:(0,s.jsxs)("span",{className:" capitalize",children:[" ",null==u?void 0:u.response.data.message]})}):("message"==d?f:"notification"==d?v:"modal"==d?g:f).open({key:null!=p?p:null==u?void 0:null===(i=u.response.data)||void 0===i?void 0:i.code,type:"error",content:(0,s.jsxs)("span",{className:" capitalize",children:[" ",null==u?void 0:null===(r=u.response)||void 0===r?void 0:null===(a=r.data)||void 0===a?void 0:a.message]})})),!1):(null==u?void 0:u.code)=="00"?(m&&!h&&("message"==d?f:"notification"==d?v:"modal"==d?g:f).open({key:null!=p?p:u.code,type:"success",content:(0,s.jsxs)("span",{className:" capitalize",children:[" ",u.message]})}),!0):(h||((null==u?void 0:u.code)?"403"==u.code||("message"==d?f:"notification"==d?v:"modal"==d?g:f).open({key:null!=p?p:u.code,type:"error",content:(0,s.jsxs)("span",{className:" capitalize",children:[" ",u.message]})}):("message"==d?f:"notification"==d?v:"modal"==d?g:f).open({key:null!=p?p:null==u?void 0:u.code,type:"error",content:(0,s.jsxs)("span",{className:" capitalize",children:[" ",null==u?void 0:null===(l=u.response)||void 0===l?void 0:null===(o=l.data)||void 0===o?void 0:o.message]})})),!1)}},42005:function(e,t,n){"use strict";var s=n(38472),i=n(62737),a=n.n(i),r=n(51470),o=n.n(r),l=n(9109).lW;a().extend(o()),t.Z=(e,t)=>{let n=s.Z.create({baseURL:"https://devbackend-psolrtjabodebek.kai.id/api/v1/",headers:e||{Accept:"application/json","Content-Type":"application/json"},...t});n.interceptors.request.use(e=>{let t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e.headers["request-startTime"]=new Date().getTime(),e.headers["request-date"]=a()(),e},e=>Promise.reject(e)),n.interceptors.response.use(e=>{let t=new Date().getTime(),n=e.config.headers["request-startTime"];return e.headers["request-duration"]=t-n,e});let i=()=>{var e,t;let n=!!(e=localStorage.getItem("accessToken"))&&JSON.parse(new l((null==e?void 0:null===(t=e.split("."))||void 0===t?void 0:t[1]).replace(/-/g,"+").replace(/_/g,"/"),"base64").toString("ascii"));return!!n&&n.token_id},r=async()=>n.get("/user/".concat(i())).then(e=>{let t=e.data.data.role_id;return n.post("/menu/list/",{role_id:t}).then(e=>e.data)}).catch(e=>e);return{idUser:i,login:async e=>n.post("/auth/login",e).then(e=>{let{data:t}=e;return localStorage.setItem("accessToken",t.data.accessToken),localStorage.setItem("refreshToken",t.data.refreshToken),sessionStorage.setItem("auth",JSON.stringify(t.data.user)),t}).catch(e=>{var t,n;return null!==(n=null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.data)&&void 0!==n?n:e}),get:async(e,t)=>n.get(e).then(e=>t?e:e.data).catch(e=>e),post:async(e,t,s)=>n.post(e,t,s).then(e=>e.data).catch(e=>e),menuUsers:r,menuApp:async()=>n.post("/menu/list/").then(e=>e.data).catch(e=>e),refresh_Token:async()=>{let e=localStorage.getItem("refreshToken");return!!e&&(n.interceptors.request.use(t=>(t.headers["refresh-token"]=e,t),e=>Promise.reject(e)),n.get("/auth/refresh-token").then(e=>{let{data:t}=e;return localStorage.setItem("accessToken",t.data.accessToken),localStorage.setItem("refreshToken",t.data.refreshToken),t}).catch(e=>!1))},cekPermission:(e,t)=>{let n=!1,s="",i=e=>{e.submenuItems.map(e=>{e.submenuItems?(""!==s&&(s=e.submenuItems[0].path),i(e)):e.path==t.replace("/admin","")&&(n=!0)})};return null==e||e.map(a=>{a.submenuItems?(""!==s&&(s=a.submenuItems[0].path),a.submenuItems.map(e=>{e.submenuItems?(""!==s&&(s=e.submenuItems[0].path),i(e)):e.path==t.replace("/admin","")&&(n=!0)})):(""==a.path?n=!0:""!==s&&e[0].path,a.path==t.replace("/admin","")&&(n=!0))}),!!n},put:async(e,t)=>n.put(e,t).then(e=>e.data).catch(e=>e),del:async(e,t)=>(console.log("data delete",t),n.delete(e,{data:t}).then(e=>e).catch(e=>e)),menuPso:async e=>n.post("/pso/",{start:e[0],end:e[1]}).then(e=>e.data).catch(e=>e)}}},13498:function(e,t,n){"use strict";n.d(t,{cn:function(){return a}});var s=n(44839),i=n(96164);function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,i.m6)((0,s.W)(t))}},65799:function(e,t,n){var s;s=function(e){"use strict";var t={name:"id",weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),weekStart:1,formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},ordinal:function(e){return e+"."}};return(e&&"object"==typeof e&&"default"in e?e:{default:e}).default.locale(t,null,!0),t},e.exports=s(n(62737))},8558:function(e){var t;t=function(){"use strict";var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(s,i,a){var r=i.prototype;a.utc=function(e){var t={date:e,utc:!0,args:arguments};return new i(t)},r.utc=function(t){var n=a(this.toDate(),{locale:this.$L,utc:!0});return t?n.add(this.utcOffset(),e):n},r.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var o=r.parse;r.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),o.call(this,e)};var l=r.init;r.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else l.call(this)};var u=r.utcOffset;r.utcOffset=function(s,i){var a=this.$utils().u;if(a(s))return this.$u?0:a(this.$offset)?u.call(this):this.$offset;if("string"==typeof s&&null===(s=function(e){void 0===e&&(e="");var s=e.match(t);if(!s)return null;var i=(""+s[0]).match(n)||["-",0,0],a=i[0],r=60*+i[1]+ +i[2];return 0===r?0:"+"===a?r:-r}(s)))return this;var r=16>=Math.abs(s)?60*s:s,o=this;if(i)return o.$offset=r,o.$u=0===s,o;if(0!==s){var l=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(o=this.local().add(r+l,e)).$offset=r,o.$x.$localOffset=l}else o=this.utc();return o};var c=r.format;r.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return c.call(this,t)},r.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},r.isUTC=function(){return!!this.$u},r.toISOString=function(){return this.toDate().toISOString()},r.toString=function(){return this.toDate().toUTCString()};var d=r.toDate;r.toDate=function(e){return"s"===e&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():d.call(this)};var m=r.diff;r.diff=function(e,t,n){if(e&&this.$u===e.$u)return m.call(this,e,t,n);var s=this.local(),i=a(e).local();return m.call(s,i,t,n)}}},e.exports=t()}},function(e){e.O(0,[2505,3113,1866,9929,3033,8173,9141,2470,3919,8348,2100,4309,5053,5458,2034,9155,7824,428,8421,8028,4052,5325,6487,8378,2755,7149,3454,9689,252,1289,45,6910,7159,3021,8658,2971,7023,1744],function(){return e(e.s=86340)}),_N_E=e.O()}]);