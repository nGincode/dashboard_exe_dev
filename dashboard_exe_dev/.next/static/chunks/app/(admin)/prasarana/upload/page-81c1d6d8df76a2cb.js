(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8354,4527],{17986:function(e,t,a){Promise.resolve().then(a.bind(a,52288))},52288:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return el}});var l,s=a(57437),n=a(2265),i=a(27233),o=a(68348),r=a(93122),d=a(25057),c=a(46682),u=a(9257),m=a(78421),p=a(24772),h=a(30252),v=a(52943),f=a(90563),x=a(63632),g=a(51935),y=a(37944),b=a(82438),w=a(85313),k=a(44921),j=a(8001),N=a(25858),M=a(95710),_=a(22034),S=a(16463),Y=a(22599),Z=a.n(Y),I=a(62737),A=a.n(I);a(65799);var P=a(66648),L=a(30939),z=a(71275),C=a(65188),R=a(57608),T=a(18676),D=a(42005),F=a(61438),E=a.n(F),O=a(9109).lW;let U=async e=>{let{file:t,user:a}=e,l=new(E()).Workbook,s=await t.arrayBuffer(),n=O.from(s),i=[],o=[],r="",d={keyword:null,header_column:[]},c=0,u=!1;await l.xlsx.load(n).then(e=>{e.eachSheet((e,t)=>{e.eachRow((e,t)=>{if(!u){let s=e.values;if(1==t)d.keyword=String(s[1]).toUpperCase();else if(5==t)d.header_column=[...d.header_column,...s.filter(e=>e).map(e=>String(e).toUpperCase())];else if(3==t){var a,l;let e=A()(null==s?void 0:s[2]).format("MM/YYYY").split("/");(null==e?void 0:null===(a=e[0])||void 0===a?void 0:a.length)===2&&(null==e?void 0:null===(l=e[1])||void 0===l?void 0:l.length)===4?(o.push({status:"success",mess:"PERIODE : "+A()(null==s?void 0:s[2]).format("MMMM YYYY").toUpperCase()}),r=A()(null==s?void 0:s[2]).format("YYYY-MM-DD")):o.push({status:"err",mess:"Row : "+t+" PERIODE Not Valid"})}else(null==s?void 0:s[1])||(null==s?void 0:s[2])||(null==s?void 0:s[3])||(null==s?void 0:s[4])||null==s||!s[5]?t>5&&i.push(s.map(e=>(null==e?void 0:e.result)?e.result:(null==e?void 0:e.richText)?e.richText.map(e=>e.text).toString().replaceAll(",",""):e)):(i.push(s.map(e=>(null==e?void 0:e.result)?e.result:(null==e?void 0:e.richText)?e.richText.map(e=>e.text).toString().replaceAll(",",""):e)),c+=1,String(null==s?void 0:s[5]).toUpperCase().includes("NIPP")?u=!0:String(null==s?void 0:s[6]).toUpperCase().includes("NIPP")&&(u=!0))}})})});for(let e=1;e<=c;e++){let e=i.length-1;i=i.filter((t,a)=>a!=e).map(e=>e.map(e=>""===e?null:e))}let m=[];c=0,u=!1;let p=!1,h=!1;return(await l.xlsx.load(n).then(e=>{e.eachSheet((e,t)=>{e.eachRow((e,t)=>{let a=e.values;(null==a?void 0:a[1])=="PENDAPATAN NON FAREBOX (PENDAPATAN NON TIKET)"&&(h=!0),!u&&((null==a?void 0:a[1])||(null==a?void 0:a[2])||null==a||!a[3]?h&&m.push(a.map(e=>(null==e?void 0:e.result)?e.result:(null==e?void 0:e.richText)?e.richText.map(e=>e.text).toString().replaceAll(",",""):e)):(c+=1,String(null==a?void 0:a[3]).toUpperCase().includes("NIPP")?(u=!0,p=!0):String(null==a?void 0:a[4]).toUpperCase().includes("NIPP")&&(u=!0,p=!0)))})})}),p)?h?o.find(e=>"err"===e.status)?{mess:Z().uniqBy(o,"mess"),data:null,format:d}:{mess:o,data:{data:JSON.stringify([...i,...m]),periode:r},format:d}:(o.push({status:"Format Invalid",mess:" Table 2 Not Valid"}),{mess:Z().uniqBy(o,"mess"),data:null}):(o.push({status:"Format Invalid",mess:" Nipp Not Found"}),{mess:Z().uniqBy(o,"mess"),data:null})};for(var B={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},W=new Uint8Array(16),H=[],q=0;q<256;++q)H.push((q+256).toString(16).slice(1));var J=function(e,t,a){if(B.randomUUID&&!t&&!e)return B.randomUUID();var s=(e=e||{}).random||(e.rng||function(){if(!l&&!(l="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return l(W)})();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){a=a||0;for(var n=0;n<16;++n)t[a+n]=s[n];return t}return function(e,t=0){return(H[e[t+0]]+H[e[t+1]]+H[e[t+2]]+H[e[t+3]]+"-"+H[e[t+4]]+H[e[t+5]]+"-"+H[e[t+6]]+H[e[t+7]]+"-"+H[e[t+8]]+H[e[t+9]]+"-"+H[e[t+10]]+H[e[t+11]]+H[e[t+12]]+H[e[t+13]]+H[e[t+14]]+H[e[t+15]]).toLowerCase()}(s)},K=a(9109).lW;let V=async e=>{let{file:t}=e,a=new(E()).Workbook,l=await t.arrayBuffer(),s=K.from(l),n=[],i=[],o="",r={keyword:null,header_column:[]};await a.xlsx.load(s).then(e=>{e.eachSheet((e,t)=>{1==t&&e.eachRow((e,t)=>{{let s=e.values;if(1==t)r.keyword=String(s[1]).toUpperCase();else if(5==t)r.header_column=[...r.header_column,...s.filter(e=>e).map(e=>String(e).toUpperCase())].splice(0,8);else if(3==t){var a,l;let e=A()(null==s?void 0:s[2]).format("MM/YYYY").split("/");(null==e?void 0:null===(a=e[0])||void 0===a?void 0:a.length)===2&&(null==e?void 0:null===(l=e[1])||void 0===l?void 0:l.length)===4?(i.push({status:"success",mess:"PERIODE : "+A()(null==s?void 0:s[2]).format("MMMM YYYY").toUpperCase()}),o=A()(null==s?void 0:s[2]).format("YYYY-MM-DD")):i.push({status:"err",mess:"Row : "+t+" PERIODE Not Valid"})}else t>5&&n.push(s.map(e=>(null==e?void 0:e.result)?e.result:(null==e?void 0:e.richText)?e.richText.map(e=>e.text).toString().replaceAll(",",""):e))}})})});let d=function(e){try{let t={},a=e.map(e=>{let a=J(),l={...e,id:a};return t[e.level.toString()]=l,l}),l=[];return a.forEach(e=>{let a=e.level.toString().split(".");if(1===a.length)l.push(e);else{let l=t[a.slice(0,-1).join(".")];l&&(e.parent_id=l.id,l.sub||(l.sub=[]),l.sub.push(e))}}),l}catch(e){return i.push({status:"Format Invalid",mess:"Format Invalid"}),[]}}(n.map(e=>({nipp:e[1],name:e[2],jabatan:e[3],level:e[4],id_kategori:e[5],divisi:e[6],sub_divisi:e[7],sub_unit:e[8],period:o})).filter(e=>e.nipp)),c=[],u=e=>{c.push(e),e.sub&&e.sub.map(e=>{u(e)})};d.map(e=>{u(e)});let m=c.map(e=>(delete e.sub,delete e.level,e.parent_id||(e.parent_id=null),e));return(e=>{let t={};for(let a of e)if(null===a.parent_id&&(t[a.divisi]?t[a.divisi]++:t[a.divisi]=1,t[a.divisi]>1))return!1;return!0})(m)?(m.map(e=>(delete e.sub_divisi,delete e.divisi,delete e.sub_unit,e)),i.find(e=>"err"===e.status))?{mess:Z().uniqBy(i,"mess"),data:null,format:r}:{mess:i,data:{data:m,periode:o},format:r}:(i.push({only:!0,status:"err",mess:"Kepala Divisi Tidak Boleh Sama"}),{mess:Z().uniqBy(i,"mess"),data:null,format:r})};var G=a(9109).lW;let X=async e=>{let{file:t,user:a}=e,l=new(E()).Workbook,s=await t.arrayBuffer(),n=G.from(s),i=[],o=[],r="",d="",c=[];await l.xlsx.load(n).then(e=>{e.eachSheet((e,t)=>{e.eachRow((e,t)=>{let a=e.values;if(1==t&&(d=(null==a?void 0:a[1])?a[1]:""),2==t){if(null==a?void 0:a[2]){let e=Q(a[2]);""!==e?(o.push({status:"success",mess:"PRIODE : "+e}),r=e):o.push({status:"err",mess:" PRIODE Not Valid"})}else o.push({status:"err",mess:" PRIODE Cannot empty (ex: 12/2023)"})}i.push(a.map(e=>e))})})});let u=[],m="",p="";if(r){let e=r.split("/");m=e[0],p=e[1]}let h=1,v="Insert information detail";return(i.map((e,t)=>{let a="";if(2==t&&(c.push(i[t][1]),c.push(i[t][2]),c.push(i[t][3]),c.push(i[t][4])),t>2){let e=i[t][1];void 0!==i[t][1]&&(v=i[t][1]),void 0===i[t][1]&&(e=v),a={parameter:e,indicator:i[t][2],target:i[t][3],realization:i[t][4],order:h},h++,void 0===i[t][2]||void 0===i[t][3]||void 0===i[t][4]||u.push(a)}}),o.find(e=>"err"===e.status))?{mess:o,data:null,format:{keyword:d,header_column:c}}:{mess:o,data:{data:u,month:m,year:p},format:{keyword:d,header_column:c}}},Q=e=>{let t=new Date(e),a=A()(t);return a.isValid()?A()(a).format("MM/YYYY"):""};var $=a(9109).lW;let ee=async e=>{let{file:t,user:a}=e,l=new(E()).Workbook,s=await t.arrayBuffer(),n=$.from(s),i=[],o=[],r="",d="",c=[];await l.xlsx.load(n).then(e=>{e.eachSheet((e,t)=>{e.eachRow((e,t)=>{let a=e.values;if(1==t&&(d=(null==a?void 0:a[1])?a[1]:""),2==t){if(null==a?void 0:a[2]){let e=et(a[2]);""!==e?(o.push({status:"success",mess:"PRIODE : "+e}),r=e):o.push({status:"err",mess:" PRIODE Not Valid"})}else o.push({status:"err",mess:" PRIODE Cannot empty (ex: 12/2023)"})}i.push(a.map(e=>e))})})});let u=[],m="",p="";if(r){let e=r.split("/");m=e[0],p=e[1]}let h=1,v="Insert information detail";return(i.map((e,t)=>{let a="";if(2==t&&(c.push(i[t][1]),c.push(i[t][2]),c.push(i[t][3]),c.push(i[t][4])),t>2){let e=i[t][1];void 0!==i[t][1]&&(v=i[t][1]),void 0===i[t][1]&&(e=v),a={parameter:e,indicator:i[t][2],target:i[t][3],realization:i[t][4],order:h},h++,void 0===i[t][2]||void 0===i[t][3]||void 0===i[t][4]||u.push(a)}}),o.find(e=>"err"===e.status))?{mess:o,data:null,format:{keyword:d,header_column:c}}:{mess:o,data:{data:u,month:m,year:p},format:{keyword:d,header_column:c}}},et=e=>{let t=new Date(e),a=A()(t);return a.isValid()?A()(a).format("MM/YYYY"):""};A().locale("id");let{Dragger:ea}=i.default;function el(){var e,t,a,l,i,Y,I,F,E;let O=o.Z.useApp(),B=(0,n.useContext)(z.Z),[W,H]=(0,n.useState)(),q=(0,S.usePathname)(),[J,K]=r.ZP.useMessage(),{token:G}=d.default.useToken(),[Q,$]=(0,n.useState)(0),[et,el]=(0,n.useState)([]),[es,en]=(0,n.useState)(!1),[ei,eo]=(0,n.useState)(),[er,ed]=(0,n.useState)(),[ec,eu]=(0,n.useState)(),em=()=>{$(Q+1)},ep=()=>{$(Q-1)};(0,n.useEffect)(()=>{el([]),eo(void 0),en(void 0),eu(void 0)},[er]);let eh=[{label:"Realisasi Pendapatan & Biaya",code:"PRASARANA_INCOME_COST",path:"/prasarana/incomeCosts",apiPost:"/prasarana-upload/income-cost",urlFormat:"/assets/format/FORMAT LAPORAN PRASARANA REALISASI PENDAPATAN & BIAYA.xlsx",function:U},{label:"Kinerja Perawatan",code:"PERFORMANCE_MAINTENANCE",apiPost:"/prasarana-upload/dashboard-maintenance",urlFormat:"/assets/format/FORMAT LAPORAN KINERJA PERAWATAN.xlsx",function:X,byePermission:!0},{label:"Kinerja Pengoperasian",code:"PERFORMANCE_OPERATION",apiPost:"/prasarana-upload/dashboard-operations",urlFormat:"/assets/format/FORMAT LAPORAN KINERJA PENGOPERASIAN.xlsx",function:ee,byePermission:!0},{label:"Struktur Organisasi",code:"STRUKTUR_ORGANISASI",path:"/prasarana/strukturOrganiasi/reportStrukturOrganiasi",apiPost:"/prasarana-upload/struktur-organisasi",urlFormat:"/assets/format/FORMAT STRUKTUR ORGANISASI.xlsx",function:V},{label:"Sertifikasi",apiPost:"/prasarana-upload/struktur-organisasi-sertifikasi/batchUpload/",fileFormat:(0,s.jsx)(s.Fragment,{children:"NAME FILE : NIP_KODE SERTIFIKAT_TANGGAL BERLAKU (YYYY-MM-DD)"}),type:"file",lengthFormat:3},{label:"MCU",apiPost:"/prasarana-upload/struktur-organisasi-mcu/batchUpload/",fileFormat:(0,s.jsx)(s.Fragment,{children:"NAME FILE : NIP_TANGGAL MCU (YYYY-MM-DD)"}),lengthFormat:2,type:"file"}].filter(e=>{var t,a,l,s;let n=[];null==B||null===(s=B.dataUser)||void 0===s||null===(l=s.menuList)||void 0===l||null===(a=l.filter(e=>"Report Prasarana"==e.title))||void 0===a||null===(t=a[0])||void 0===t||t.submenuItems.map(e=>{e.submenuItems?e.submenuItems.map(e=>{e.permission.includes("import")&&n.push(e)}):e.permission.includes("import")&&n.push(e)});let i=!1;return e.path&&(null==n||n.map(t=>{t.path==e.path&&(i=!0)})),("file"==e.type||e.byeFormat||e.byePermission)&&(i=!0),!!i}),ev=[{title:"Choice Document Type",content:(0,s.jsx)("div",{className:"w-full p-5 pb-1 ",children:(0,s.jsx)(T.Z,{onChange:e=>ed(e),placeholder:"Select..",id:"type",value:null!=er?er:null,label:"Type Report",className:"w-full",options:null===(e=eh.map(e=>({label:e.label,value:e.label})))||void 0===e?void 0:e.sort((e,t)=>e.label.localeCompare(t.label))})})},{title:"Format",content:(0,s.jsx)(s.Fragment,{children:(null===(t=eh.find(e=>e.label==er))||void 0===t?void 0:t.type)=="file"?null===(a=eh.find(e=>e.label==er))||void 0===a?void 0:a.fileFormat:(0,s.jsx)("a",{href:null===(l=eh.find(e=>e.label==er))||void 0===l?void 0:l.urlFormat,children:(0,s.jsx)(c.ZP,{icon:(0,s.jsx)(_.WlY,{}),children:"Format Import"})})})},{title:"Upload Document",content:(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(ea,{name:"file",accept:(null===(i=eh.find(e=>e.label==er))||void 0===i?void 0:i.type)=="file"?".pdf":".xlsx",maxCount:(null===(Y=eh.find(e=>e.label==er))||void 0===Y?void 0:Y.type)=="file"?void 0:1,multiple:(null===(I=eh.find(e=>e.label==er))||void 0===I?void 0:I.type)=="file",onRemove:e=>{let t=et.indexOf(e),a=et.slice();a.splice(t,1),el(a),eo(void 0),en(void 0),eu(void 0)},defaultFileList:[...et],onDrop:e=>{var t,a,l;let n=null===(t=e.dataTransfer.files)||void 0===t?void 0:t[0];if(el([]),eo(void 0),en(void 0),eu(void 0),n){let e="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===n.type,t="application/pdf"===n.type;((null===(a=eh.find(e=>e.label==er))||void 0===a?void 0:a.type)=="file"?t:e)||(en([{mess:(0,s.jsx)("div",{children:(0,s.jsxs)("span",{className:" text-red-600 animate-pulse text-3xl font-bold flex justify-center w-full",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-9 h-9",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})}),"\xa0"," File is not a ",(null===(l=eh.find(e=>e.label==er))||void 0===l?void 0:l.type)=="file"?".pdf":".xlsx"," file"]})})}]),$(Q+1))}else en([{mess:(0,s.jsx)("div",{children:(0,s.jsxs)("span",{className:" text-red-600 animate-pulse text-3xl font-bold flex justify-center w-full",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-9 h-9",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})}),"\xa0"," File Not Valid"]})})}]),$(Q+1)},beforeUpload:(null===(F=eh.find(e=>e.label==er))||void 0===F?void 0:F.type)=="file"?void 0:e=>{let t="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e.type;return e.type,eu(void 0),t?(H(!0),$(Q+1),el([e]),(async()=>{var t,a,l,n,i,o,r,d,c,m,p,h;let v=eh.find(e=>e.label==er),f=await (null==v?void 0:v.function({file:e,user:null==B?void 0:null===(t=B.dataUser)||void 0===t?void 0:t.user}));en(f.mess),eo(f.data);let x=null===(l=f.data)||void 0===l?void 0:null===(a=l.periode)||void 0===a?void 0:a.split("/"),g=(null==x?void 0:x[1])?(null==x?void 0:x[1])+"-"+(null==x?void 0:x[0])+"-01":null===(n=f.data)||void 0===n?void 0:n.periode,y=g?A()(g,"YYYY-MM-DD").format("M"):null===(i=f.data)||void 0===i?void 0:i.month,b=g?A()(g,"YYYY-MM-DD").format("YYYY"):null===(o=f.data)||void 0===o?void 0:o.year;if(v.byeFormat)$(Q+1);else{let e=await (0,D.Z)().post("report/check-format",{code:null==v?void 0:v.code});if((0,L.Z)({res:e,app:O})){if(JSON.stringify(e.data)==JSON.stringify(f.format)){if(y&&b&&f.mess.length){if(f.mess.find(e=>"Format Invalid"==e.mess))en([{mess:(0,s.jsx)("div",{children:(0,s.jsxs)("span",{className:" capitalize text-red-600 animate-pulse text-3xl font-bold flex justify-center w-full",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-9 h-9",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})}),"\xa0"," Format Invalid"]})})}]);else{let e=await (0,D.Z)().post("report/check",{schema:"prasarana",code:null==v?void 0:v.code,month:Number(y),year:Number(b)});"00"==e.code?$(Q+1):(null==e?void 0:null===(d=e.response)||void 0===d?void 0:null===(r=d.data)||void 0===r?void 0:r.code)=="407"?(eu(e.response.data.message),$(Q+1)):(null==e?void 0:null===(m=e.response)||void 0===m?void 0:null===(c=m.data)||void 0===c?void 0:c.code)=="411"?(en([{mess:(0,s.jsx)("div",{children:(0,s.jsxs)("span",{className:" capitalize text-green-600 animate-pulse text-3xl font-bold flex justify-center w-full",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:3,stroke:"currentColor",className:"w-9 h-9",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"})}),"\xa0",e.response.data.message]})})}]),$(Q+1),eo(void 0),eu(void 0),el([])):((0,L.Z)({res:e,app:O}),el([]),eo(void 0),en(void 0),eu(void 0),$(0))}}else if(el([]),eo(void 0),eu(void 0),f.mess.length){if(console.log(f.mess),f.mess.find(e=>"Format Invalid"==e.mess))en([{mess:(0,s.jsx)("div",{children:(0,s.jsxs)("span",{className:" capitalize text-red-600 animate-pulse text-3xl font-bold flex justify-center w-full",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-9 h-9",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})}),"\xa0"," Format Invalid"]})})}]);else{let e=null==f?void 0:null===(p=f.mess)||void 0===p?void 0:p.find(e=>e.only);(null==f?void 0:null===(h=f.mess)||void 0===h?void 0:h.find(e=>e.only))?en([e]):en([{mess:(0,s.jsx)("div",{children:(0,s.jsxs)("span",{className:" capitalize text-red-600 animate-pulse text-3xl font-bold flex justify-center w-full",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-9 h-9",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})}),"\xa0"," Data Month / Year Required"]})})},...f.mess])}}else en([{mess:(0,s.jsx)("div",{children:(0,s.jsxs)("span",{className:" capitalize text-red-600 animate-pulse text-3xl font-bold flex justify-center w-full",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-9 h-9",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})}),"\xa0"," Format Invalid"]})})}])}else el([]),eo(void 0),eu(void 0),en([{mess:(0,s.jsx)("div",{children:(0,s.jsxs)("span",{className:" capitalize text-red-600 animate-pulse text-3xl font-bold flex justify-center w-full",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-9 h-9",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})}),"\xa0"," Format Invalid"]})})}])}else el([]),eo(void 0),eu(void 0),en([{mess:(0,s.jsx)("div",{children:(0,s.jsxs)("span",{className:" capitalize text-red-600 animate-pulse text-3xl font-bold flex justify-center w-full",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-9 h-9",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})}),"\xa0"," Server Unreachable"]})})}])}H(!1),u.Z.destroyAll()})()):(en([{mess:(0,s.jsx)("div",{children:(0,s.jsxs)("span",{className:" text-red-600 animate-pulse text-3xl font-bold flex justify-center w-full",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-9 h-9",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})}),"\xa0"," File is not a xlsx file"]})})}]),$(Q+1)),!1},onChange:(null===(E=eh.find(e=>e.label==er))||void 0===E?void 0:E.type)=="file"?async e=>{H(!0),$(Q+1);let t=eh.find(e=>e.label==er),a=[],l=[],s=[];e.fileList.reverse().map(e=>{var n,i,o,r,d;let c=null===(n=e.name)||void 0===n?void 0:n.split(".").pop().toLowerCase(),u=e.name.split("_"),m=null==u?void 0:null===(o=u[2])||void 0===o?void 0:null===(i=o.split("."))||void 0===i?void 0:i[0],p=null==u?void 0:null===(d=u[1])||void 0===d?void 0:null===(r=d.split("."))||void 0===r?void 0:r[0],h=null==u?void 0:u[1],v=null==u?void 0:u[0];(null==u?void 0:u.length)!==t.lengthFormat?a.push({status:"warning",mess:"".concat(e.name," has an invalid name format.")}):(m?"Invalid Date"==A()(m,"YYYY-MM-DD").format("YYYY-MM-DD"):"Invalid Date"==A()(p,"YYYY-MM-DD").format("YYYY-MM-DD"))?a.push({status:"warning",mess:"".concat(e.name," has an invalid date format (YYYY-MM-DD).")}):["pdf"].includes(c)?(a.push({status:"success",mess:"".concat(e.name)}),s.push(e),l.push({key:e.name,file:e.originFileObj,nipp:v,kodefikasi_sertifikat:h,tanggal_berlaku:m,tanggal_mcu:p})):a.push({status:"err",mess:"".concat(e.name," has an invalid file extension.")})}),eo(l.length?Z().uniqBy(l,"key"):void 0),el(Z().uniqBy(s,"name")),en(Z().uniqBy(a,"mess")),H(!1)}:void 0,children:[(0,s.jsx)("p",{className:"ant-upload-drag-icon",children:(0,s.jsx)(x.Z,{})}),(0,s.jsx)("p",{className:"ant-upload-text",children:"Click or drag file import to this area to upload"}),(0,s.jsx)("p",{className:"ant-upload-hint",children:"Support for a single. Strictly prohibited from uploading company data or other banned files."})]})})},{title:"Finish",content:(0,s.jsx)(s.Fragment,{children:W?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.Z,{indicator:(0,s.jsx)(g.Z,{style:{fontSize:25},spin:!0})})," Processing Data..."]}):(0,s.jsx)(s.Fragment,{children:es?(0,s.jsx)(s.Fragment,{children:(ec?[{mess:"duplicate_data"},...es]:es).length?(0,s.jsx)(p.Z,{bordered:!0,dataSource:ec?[{mess:"duplicate_data"},...es]:es,renderItem:e=>"duplicate_data"==e.mess?(0,s.jsx)(p.Z.Item,{children:(0,s.jsxs)("span",{className:" capitalize text-orange-600 animate-pulse text-3xl font-bold flex justify-center w-full",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-9 h-9",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})}),"\xa0",ec||null]})}):"success"==e.status?(0,s.jsxs)(p.Z.Item,{children:[(0,s.jsx)(h.default.Text,{children:(0,s.jsx)(y.Z,{twoToneColor:"#52c41a"})})," ",e.mess]}):"warning"==e.status?(0,s.jsxs)(p.Z.Item,{children:[(0,s.jsx)(h.default.Text,{children:(0,s.jsx)(b.Z,{className:"text-yellow-600"})})," ",(0,s.jsx)("span",{className:"text-yellow-600 font-bold",children:e.mess})]}):(0,s.jsxs)(p.Z.Item,{children:[e.status?(0,s.jsxs)(h.default.Text,{children:[" ",(0,s.jsx)(b.Z,{className:"text-red-600"})]}):null," ",(0,s.jsx)("span",{className:"text-red-600 font-bold",children:e.mess})]})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(w.Z,{})," Upload your file "]})}):(0,s.jsxs)(s.Fragment,{children:[" ",(0,s.jsx)(w.Z,{})," Upload your file"]})})})}],ef=ev.map(e=>({key:e.title,title:e.title})),[ex,eg]=u.Z.useModal(),ey=async()=>{ex.confirm({title:ec?"Do you want to modify import data?":"Do you want to import data?",icon:(0,s.jsx)(k.Z,{}),content:"You will import data to database",footer:(0,s.jsxs)("div",{className:"text-right mt-3",children:[(0,s.jsx)(c.ZP,{onClick:()=>{u.Z.destroyAll(),H(!1)},id:"confirm_modal_cancel",children:"Cancel"}),(0,s.jsx)(c.ZP,{className:"ml-2",onClick:()=>e(),id:"confirm_modal_ok",type:"primary",children:"Yes"}),(0,s.jsx)(c.ZP,{className:"ml-2",style:{display:"none"},id:"confirm_modal_loading",type:"primary",children:(0,s.jsx)(m.Z,{indicator:(0,s.jsx)(g.Z,{style:{fontSize:24,color:"white"},spin:!0})})})]})});let e=async()=>{var e,t,a,l,n,i,o;if(H(!0),document.getElementById("confirm_modal_cancel").style.display="none",document.getElementById("confirm_modal_ok").style.display="none",document.getElementById("confirm_modal_loading").style.display="unset","file"==eh.find(e=>e.label==er).type){let t=[];for(let a=0;a<ei.length;a++){let l=await (0,D.Z)({"Content-Type":"multipart/form-data"}).post(null===(e=eh.find(e=>e.label==er))||void 0===e?void 0:e.apiPost,ei[a],{onUploadProgress:e=>{let t=e.loaded/e.total*100;r.ZP.open({key:ei[a].key,type:"loading",duration:0,content:(0,s.jsxs)(s.Fragment,{children:["Uploading ",ei[a].key," ",(0,s.jsx)(v.Z,{strokeColor:{"0%":"#108ee9","100%":"#87d068"},className:"w-56",percent:Math.round(t)})]})}),100==t&&r.ZP.destroy(ei[a].key)}});(0,L.Z)({res:l,app:O,msgFalse:!0})?t.push({res:l,data:ei[a]}):t.push({res:{data:l.response.data},data:ei[a]})}el([]),en(t.map(e=>{var t,a,l,s;return(null===(a=e.res)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)?{status:"err",mess:"".concat(null===(s=e.res)||void 0===s?void 0:null===(l=s.data)||void 0===l?void 0:l.message," (").concat(e.data.key,") ")}:{status:"success",mess:" Success Upload (".concat(e.data.key,") ")}})),H(!1),eo(void 0),u.Z.destroyAll()}else{let e=[];if(Array.isArray(ei.data)?(i=ei.data,o="20000",Array.from({length:Math.ceil(i.length/o)},(e,t)=>{let a=t*o;return i.slice(a,a+o)})).map(t=>{e.push({...ei,data:t})}):e=ei,Array.isArray(e)){let n=[];if(e.length>0){for(let i=0;i<e.length;i++){let o=await (0,D.Z)().post(null===(t=eh.find(e=>e.label==er))||void 0===t?void 0:t.apiPost,e[i]);(0,L.Z)({res:o,app:O})?J.open({key:"importStep",type:"loading",duration:500,content:(0,s.jsx)(v.Z,{strokeColor:{"0%":"#108ee9","100%":"#87d068"},className:"w-56",percent:Math.round((i+1)/e.length*100)})}):(null===(l=o.response)||void 0===l?void 0:null===(a=l.data)||void 0===a?void 0:a.code)?n.push("Code:".concat(o.response.data.code," | Message:").concat(o.response.data.message)):n.push("Server not responding")}u.Z.destroyAll(),n.length?J.open({key:"importStep",type:"error",duration:10,content:(0,s.jsx)("span",{className:"capitalize",children:n.map((e,t)=>" ".concat(t+1,") ").concat(e," \n"))})}):J.open({key:"importStep",type:"success",content:(0,s.jsx)("span",{className:"capitalize",children:"Success Import"})}),el([]),eo(void 0),en(void 0),eu(void 0),ed(void 0),H(!1),$(0)}else u.Z.destroyAll(),J.open({type:"error",content:(0,s.jsx)("span",{className:"capitalize",children:"Data not found"})}),H(!1)}else{let e=await (0,D.Z)().post(null===(n=eh.find(e=>e.label==er))||void 0===n?void 0:n.apiPost,ei);(0,L.Z)({res:e,app:O})&&(el([]),eo(void 0),en(void 0),eu(void 0),ed(void 0),J.open({key:"import",type:"success",content:(0,s.jsx)("span",{className:"capitalize",children:e.message})}),H(!1),$(0),u.Z.destroyAll())}}H(!1)}};return(0,s.jsx)(C.Z,{pathname:q,globalState:B,children:(0,s.jsx)(R.Zb,{className:"border-none p-5 w-full shadow-lg",children:(null==eh?void 0:eh.length)?(0,s.jsxs)(s.Fragment,{children:[K,eg,(0,s.jsx)(f.Z,{current:Q,items:ef,className:"mt-5"}),(0,s.jsx)("div",{style:{lineHeight:"260px",textAlign:"center",color:G.colorTextTertiary,backgroundColor:G.colorFillAlter,borderRadius:G.borderRadiusLG,border:"1px dashed ".concat(G.colorBorder),marginTop:16},children:ev[Q].content}),(0,s.jsxs)("div",{style:{marginTop:24},children:[Q>0&&!W&&(0,s.jsx)(c.ZP,{style:{margin:"0 8px"},icon:(0,s.jsx)(j.Z,{}),onClick:()=>ep(),children:"Prev"}),Q<ev.length-1&&er&&(2==Q?ei?(0,s.jsx)(c.ZP,{type:"dashed",icon:(0,s.jsx)(N.Z,{}),loading:W,onClick:()=>em(),children:"Next"}):null:(0,s.jsx)(c.ZP,{type:"dashed",icon:(0,s.jsx)(N.Z,{}),loading:W,onClick:()=>em(),children:"Next"})),Q===ev.length-1&&ei&&!W&&(0,s.jsx)(c.ZP,{type:"primary",icon:(0,s.jsx)(M.Z,{}),loading:W,onClick:()=>ey(),children:"Import"})]})]}):(0,s.jsxs)("div",{className:"min-h-screen flex flex-col justify-center items-center overflow-x-hidden overflow-y-auto py-5",children:[(0,s.jsx)(P.default,{alt:"ilustrations",height:0,width:0,quality:70,src:"/assets/illustrations/maintenance.svg",className:"w-80 md:w-[28rem] 2xl:w-[40rem] shadow-sm  object-cover"}),(0,s.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold tracking-tight text-center",children:"Not Permission Upload"}),(0,s.jsx)("span",{className:"text-center mt-1 mb-5 text-zinc-600 dark:text-zinc-400 md:w-9/12 break-all px-10 sm:px-0",children:"Create Your Permission Upload"})]})})})}},60728:function(e,t,a){"use strict";a.d(t,{un:function(){return u},zx:function(){return c}});var l=a(57437),s=a(2265),n=a(71538),i=a(12218),o=a(13498),r=a(46682);let d=(0,i.j)("inline-flex items-center justify-center rounded-lg text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-400 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-800",{variants:{variant:{default:"bg-zinc-900 text-zinc-50 hover:bg-zinc-900/90 dark:bg-zinc-50 dark:text-zinc-900 dark:hover:bg-zinc-50/90",destructive:"bg-red-500 text-zinc-50 hover:bg-red-500/90 dark:bg-red-900 dark:text-red-50 dark:hover:bg-red-900/90",outline:"border border-zinc-200 bg-white hover:bg-zinc-100 hover:text-zinc-900 dark:border-zinc-800 dark:bg-zinc-950 dark:hover:bg-zinc-800 dark:hover:text-zinc-50",secondary:"bg-zinc-100 text-zinc-900 hover:bg-zinc-100/80 dark:bg-zinc-800 dark:text-zinc-50 dark:hover:bg-zinc-800/80",ghost:"hover:bg-zinc-100 hover:text-zinc-900 dark:hover:bg-zinc-800 dark:hover:text-zinc-50",link:"text-zinc-900 underline-offset-4 hover:underline dark:text-zinc-50"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-lg px-3",lg:"h-11 rounded-lg px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:a,variant:s,size:i,asChild:r=!1,...c}=e,u=r?n.g7:"button";return(0,l.jsx)(u,{className:(0,o.cn)(d({variant:s,size:i,className:a})),ref:t,...c})});c.displayName="Button";let u=e=>{let{type:t,icon:a,loading:s,label:n,style:i,className:o}=e;return(0,l.jsx)(r.ZP,{htmlType:t,type:i,icon:a,loading:s,className:o,children:n})}},57608:function(e,t,a){"use strict";a.d(t,{Ol:function(){return o},SZ:function(){return d},Zb:function(){return i},aY:function(){return c},ll:function(){return r}});var l=a(57437),s=a(2265),n=a(13498);let i=s.forwardRef((e,t)=>{let{className:a,classNameFalse:s,...i}=e;return(0,l.jsx)("div",{ref:t,className:s?a:(0,n.cn)("rounded-2xl my-2 border border-zinc-200 bg-white text-zinc-950 shadow dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",a),...i})});i.displayName="Card",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)("div",{ref:t,className:(0,n.cn)("rounded-2xl border border-zinc-200 bg-white text-zinc-950 shadow dark:border-zinc-800 dark:bg-zinc-900 dark:text-zinc-50",a),...s})}).displayName="Card900";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 px-6 py-3  rounded-t-2xl  bg-white dark:bg-black",a),...s})});o.displayName="CardHeader";let r=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});r.displayName="CardTitle";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-zinc-500 dark:text-zinc-400 ",a),...s})});d.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-5 bg-white dark:bg-black rounded-b-2xl",a),...s})});c.displayName="CardContent",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...s})}).displayName="CardFooter"},18676:function(e,t,a){"use strict";var l=a(57437),s=a(73454),n=a(72100);t.Z=e=>{let{disabled:t,mode:a,type:i,value:o,placeholder:r,id:d,label:c,className:u,options:m,name:p,rules:h,onChange:v}=e,f=(e,t)=>{var a,l,s,n,i;return("object"==typeof(null==t?void 0:t.label)&&(null==t?void 0:t.label)!==null?null!==(n=null==t?void 0:null===(s=t.label)||void 0===s?void 0:null===(l=s.props)||void 0===l?void 0:null===(a=l.children)||void 0===a?void 0:a[2])&&void 0!==n?n:"":null!==(i=null==t?void 0:t.label)&&void 0!==i?i:"").toLowerCase().includes(e.toLowerCase())},x=e=>{console.log("search:",e)},g=e=>{v&&v(e)};return i?(0,l.jsx)(s.Z.Item,{name:p,label:c,hasFeedback:!0,rules:h,children:(0,l.jsx)(n.default,{disabled:t,showSearch:!0,placeholder:"Select..",className:u,options:m,optionFilterProp:"children",onSearch:x,filterOption:f,onChange:g,allowClear:!0,mode:a})}):(0,l.jsx)("div",{className:"mb-2",children:(0,l.jsx)(s.Z.Item,{name:p,label:c,hasFeedback:!0,rules:h,children:(0,l.jsx)(n.default,{disabled:t,showSearch:!0,placeholder:"Select..",className:u,options:m,optionFilterProp:"children",onSearch:x,filterOption:f,onChange:g,allowClear:!0,defaultValue:o})})})}},71275:function(e,t,a){"use strict";let l=a(2265).createContext({});t.Z=l},65188:function(e,t,a){"use strict";var l=a(57437),s=a(60728),n=a(66648),i=a(42005);t.Z=e=>{var t,a;let{children:o,pathname:r,globalState:d}=e;return(0,l.jsx)(l.Fragment,{children:(0,i.Z)().cekPermission(null!==(a=null==d?void 0:null===(t=d.dataUser)||void 0===t?void 0:t.menuList)&&void 0!==a?a:[],r)&&(null==d?void 0:d.permission.indexOf("view"))!=-1?o:(0,l.jsxs)("div",{className:" flex flex-col justify-center items-center overflow-x-hidden overflow-y-auto py-5",children:[(0,l.jsx)(n.default,{alt:"permission",height:0,width:0,quality:70,src:"/assets/illustrations/maintenance.svg",className:"w-80 md:w-[28rem] 2xl:w-[40rem] shadow-sm  object-cover"}),(0,l.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold tracking-tight text-center",children:"Not Permission"}),(0,l.jsx)("span",{className:"text-center mt-1 mb-5 text-zinc-600 dark:text-zinc-400 md:w-9/12 break-all px-10 sm:px-0",children:"It looks like the page you are looking for doesnt have permission"}),(0,l.jsx)("div",{className:"flex items-center space-x-2",children:(0,l.jsx)("a",{onClick:()=>window.location.href="/",children:(0,l.jsx)(s.zx,{variant:"outline",children:"Back to Home"})})})]})})}},30939:function(e,t,a){"use strict";var l=a(57437);t.Z=e=>{var t,a,s,n,i,o,r;let{res:d,app:c,type:u,msgTrue:m,msgFalse:p,key:h}=e,{message:v,notification:f,modal:x}=c;if(d)return(null==d?void 0:d.response)?(null==d?void 0:null===(t=d.response.data)||void 0===t?void 0:t.code)=="00"?(m&&!p&&("message"==u?v:"notification"==u?f:"modal"==u?x:v).open({key:null!=h?h:null==d?void 0:d.response.data.code,type:"success",content:(0,l.jsxs)("span",{className:" capitalize",children:[" ",null==d?void 0:d.response.data.message]})}),!0):(p||((null==d?void 0:null===(a=d.response.data)||void 0===a?void 0:a.code)?(null==d?void 0:d.response.data.code)=="403"||("message"==u?v:"notification"==u?f:"modal"==u?x:v).open({key:null!=h?h:d.code,type:"error",content:(0,l.jsxs)("span",{className:" capitalize",children:[" ",null==d?void 0:d.response.data.message]})}):("message"==u?v:"notification"==u?f:"modal"==u?x:v).open({key:null!=h?h:null==d?void 0:null===(s=d.response.data)||void 0===s?void 0:s.code,type:"error",content:(0,l.jsxs)("span",{className:" capitalize",children:[" ",null==d?void 0:null===(i=d.response)||void 0===i?void 0:null===(n=i.data)||void 0===n?void 0:n.message]})})),!1):(null==d?void 0:d.code)=="00"?(m&&!p&&("message"==u?v:"notification"==u?f:"modal"==u?x:v).open({key:null!=h?h:d.code,type:"success",content:(0,l.jsxs)("span",{className:" capitalize",children:[" ",d.message]})}),!0):(p||((null==d?void 0:d.code)?"403"==d.code||("message"==u?v:"notification"==u?f:"modal"==u?x:v).open({key:null!=h?h:d.code,type:"error",content:(0,l.jsxs)("span",{className:" capitalize",children:[" ",d.message]})}):("message"==u?v:"notification"==u?f:"modal"==u?x:v).open({key:null!=h?h:null==d?void 0:d.code,type:"error",content:(0,l.jsxs)("span",{className:" capitalize",children:[" ",null==d?void 0:null===(r=d.response)||void 0===r?void 0:null===(o=r.data)||void 0===o?void 0:o.message]})})),!1)}},42005:function(e,t,a){"use strict";var l=a(38472),s=a(62737),n=a.n(s),i=a(51470),o=a.n(i),r=a(9109).lW;n().extend(o()),t.Z=(e,t)=>{let a=l.Z.create({baseURL:"https://devbackend-psolrtjabodebek.kai.id/api/v1/",headers:e||{Accept:"application/json","Content-Type":"application/json"},...t});a.interceptors.request.use(e=>{let t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e.headers["request-startTime"]=new Date().getTime(),e.headers["request-date"]=n()(),e},e=>Promise.reject(e)),a.interceptors.response.use(e=>{let t=new Date().getTime(),a=e.config.headers["request-startTime"];return e.headers["request-duration"]=t-a,e});let s=()=>{var e,t;let a=!!(e=localStorage.getItem("accessToken"))&&JSON.parse(new r((null==e?void 0:null===(t=e.split("."))||void 0===t?void 0:t[1]).replace(/-/g,"+").replace(/_/g,"/"),"base64").toString("ascii"));return!!a&&a.token_id},i=async()=>a.get("/user/".concat(s())).then(e=>{let t=e.data.data.role_id;return a.post("/menu/list/",{role_id:t}).then(e=>e.data)}).catch(e=>e);return{idUser:s,login:async e=>a.post("/auth/login",e).then(e=>{let{data:t}=e;return localStorage.setItem("accessToken",t.data.accessToken),localStorage.setItem("refreshToken",t.data.refreshToken),sessionStorage.setItem("auth",JSON.stringify(t.data.user)),t}).catch(e=>{var t,a;return null!==(a=null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.data)&&void 0!==a?a:e}),get:async(e,t)=>a.get(e).then(e=>t?e:e.data).catch(e=>e),post:async(e,t,l)=>a.post(e,t,l).then(e=>e.data).catch(e=>e),menuUsers:i,menuApp:async()=>a.post("/menu/list/").then(e=>e.data).catch(e=>e),refresh_Token:async()=>{let e=localStorage.getItem("refreshToken");return!!e&&(a.interceptors.request.use(t=>(t.headers["refresh-token"]=e,t),e=>Promise.reject(e)),a.get("/auth/refresh-token").then(e=>{let{data:t}=e;return localStorage.setItem("accessToken",t.data.accessToken),localStorage.setItem("refreshToken",t.data.refreshToken),t}).catch(e=>!1))},cekPermission:(e,t)=>{let a=!1,l="",s=e=>{e.submenuItems.map(e=>{e.submenuItems?(""!==l&&(l=e.submenuItems[0].path),s(e)):e.path==t.replace("/admin","")&&(a=!0)})};return null==e||e.map(n=>{n.submenuItems?(""!==l&&(l=n.submenuItems[0].path),n.submenuItems.map(e=>{e.submenuItems?(""!==l&&(l=e.submenuItems[0].path),s(e)):e.path==t.replace("/admin","")&&(a=!0)})):(""==n.path?a=!0:""!==l&&e[0].path,n.path==t.replace("/admin","")&&(a=!0))}),!!a},put:async(e,t)=>a.put(e,t).then(e=>e.data).catch(e=>e),del:async(e,t)=>(console.log("data delete",t),a.delete(e,{data:t}).then(e=>e).catch(e=>e)),menuPso:async e=>a.post("/pso/",{start:e[0],end:e[1]}).then(e=>e.data).catch(e=>e)}}},13498:function(e,t,a){"use strict";a.d(t,{cn:function(){return n}});var l=a(44839),s=a(96164);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.m6)((0,l.W)(t))}},25858:function(e,t,a){"use strict";a.d(t,{Z:function(){return o}});var l=a(22988),s=a(2265),n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},i=a(25636),o=s.forwardRef(function(e,t){return s.createElement(i.Z,(0,l.Z)({},e,{ref:t,icon:n}))})},65799:function(e,t,a){var l;l=function(e){"use strict";var t={name:"id",weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),weekStart:1,formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},ordinal:function(e){return e+"."}};return(e&&"object"==typeof e&&"default"in e?e:{default:e}).default.locale(t,null,!0),t},e.exports=l(a(62737))}},function(e){e.O(0,[3113,1866,9929,8173,9141,2470,3919,8348,2100,4309,428,8421,8028,3454,9689,252,1289,45,2971,7023,1744],function(){return e(e.s=17986)}),_N_E=e.O()}]);