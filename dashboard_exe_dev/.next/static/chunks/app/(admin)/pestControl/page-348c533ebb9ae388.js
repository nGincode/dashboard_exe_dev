(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[789,1105],{94136:function(e,t,l){Promise.resolve().then(l.bind(l,76142))},76142:function(e,t,l){"use strict";l.r(t);var n=l(57437),a=l(2265),o=l(16463),r=l(30252),c=l(68348),s=l(72100),i=l(77733),d=l(95381),u=l(38378),m=l(41105),f=l(42005),p=l(22599),h=l.n(p),g=l(64746),x=l.n(g),b=l(61438),y=l(62737),v=l.n(y);l(65799);var C=l(71275),w=l(65188),Y=l(30939),j=l(38797);let{Text:N,Title:S}=r.default;t.default=e=>{let{}=e,[t,l]=(0,a.useState)(!1),r=(0,a.useContext)(C.Z),p=(0,o.usePathname)(),g=c.Z.useApp(),{message:y,notification:S,modal:M}=g,[O,k]=(0,a.useState)(null),[I,D]=(0,a.useState)(null),A="PEST_CONTROL",[Z,E]=(0,a.useState)(!1),[z,T]=(0,a.useState)(!1),[R,P]=(0,a.useState)(!1),[_,F]=(0,a.useState)(!1),[U,B]=(0,a.useState)(!1),[L,W]=(0,a.useState)(!1),[H,G]=(0,a.useState)(),[V,X]=(0,a.useState)([2,"month"]),[$,J]=(0,a.useState)("TOTAL PER BULAN"),[q,K]=(0,a.useState)(0),[Q,ee]=(0,a.useState)();(0,a.useEffect)(()=>{null!==O?(l(!0),(async()=>{let e="",t="";if(0==V[0]){let l=v()(v()(O).format("YYYY-01-01")).add(1,"year");l=v()(l).subtract(1,"day"),e=v()(v()(O).format("YYYY-01-01")).format("YYYY-MM-DD"),t=v()(l).format("YYYY-MM-DD"),D("TAHUN ".concat(v()(e).format("YYYY").toUpperCase()))}else if(1==V[0]){let l=v()(O).add(2,"month");e=v()(O).format("YYYY-MM-DD").toUpperCase(),t=v()(l).format("YYYY-MM-DD"),D("".concat(v()(e).format("MMMM YYYY").toUpperCase()," S/D ").concat(v()(t).format("MMMM YYYY").toUpperCase())),J("TOTAL PER TRIWULAN")}else 2==V[0]&&(e=v()(O).format("YYYY-MM-DD"),t=v()(O).format("YYYY-MM-DD"),D("".concat(v()(e).format("MMMM YYYY").toUpperCase())),J("TOTAL PER BULAN"));let n=await (0,f.Z)().get("/report-type/".concat(A));if((0,Y.Z)({res:n,app:g})){let e=null==n?void 0:n.data;void 0!==e&&(E(e.n_line_1),T(e.n_line_2),P(e.n_line_3),F(e.n_name_1),B(e.n_position_1),W(e.i_nipp_1),ee(e))}let a=await (0,f.Z)().get("/report/pest-control?start_date="+e+"&end_date="+t);if((0,Y.Z)({res:a,app:g})){let e=null==a?void 0:a.data;void 0!==e&&G(e.map((e,t)=>({no:t+1,key:t,trainset:e.i_trainset,bulan:e.i_total_month})))}l(!1)})()):G(void 0)},[O,V,g]);let et=h().sortBy(H,[function(e){return Number(e.trainset.replace("Trainset ",""))}]).map((e,t)=>(e.key=t,e.no=t+1,e)),[el,en]=(0,a.useState)(!1),ea=async(e,t)=>{en(!0);let l=async()=>{try{var l,n;if("pdf"==t){let t=0;for(let n=0;n<e.length;n++)t+=Number("".concat(null!==(l=e[n].bulan)&&void 0!==l?l:0).replaceAll("Rp ","").replaceAll(".",""));let n="PERIODE : "+I;j.x4.pdf({globalState:r,reportType:Q,date:n,positionSignature:{column:2,underlinePadding:-2,paddingTop:-1,marginLeft:-55,fontSize:8},headStyle:{cellPadding:1,marginLeft:70,marginRight:70},columnStyles:{0:{cellWidth:10},1:{cellWidth:25},2:{cellWidth:27}},dataHead:[[{content:"NO",styles:{fontSize:8}},{content:"TRAINSET",styles:{fontSize:8}},{content:"REALISASI PEST CONTROL",styles:{fontSize:8,width:30}}]],dataBody:[...et.map((e,t)=>[{content:t+1,styles:{valign:"middle",halign:"center",fontSize:7}},{content:e.trainset,styles:{valign:"middle",halign:"left",fontSize:7}},{content:0==e.bulan?"-":x()(e.bulan).format("0,0"),styles:{valign:"middle",halign:"center",fontSize:7}}]),[{content:"".concat($),colSpan:2,styles:{fontStyle:"bold",valign:"middle",halign:"center",fontSize:7}},{content:"".concat(0==t?"-":x()(t).format("0,0")),styles:{fontStyle:"bold",valign:"middle",halign:"center",fontSize:7}}]],nameFile:"".concat(Z," ").concat(I)})}else if("excel"==t){let t=new b.Workbook,l=t.addWorksheet("Sheet 1");l.mergeCells("A1:C1"),l.getCell("A1").value=Z,l.mergeCells("A2:C2"),l.getCell("A2").value=z,l.mergeCells("A3:C3"),l.getCell("A3").value="PERIODE : ".concat(I),l.getCell("A5").value="NO",l.getCell("B5").value="TRAINSET",l.getCell("C5").value="REALISASI PEST CONTROL",l.getCell("A5").fill={type:"pattern",pattern:"solid",fgColor:{argb:"79c1eb"}},l.getCell("B5").fill={type:"pattern",pattern:"solid",fgColor:{argb:"79c1eb"}},l.getCell("C5").fill={type:"pattern",pattern:"solid",fgColor:{argb:"79c1eb"}},l.columns=[{key:"test"},{key:"no"},{key:"trainset",width:30,alignment:{vertical:"middle",horizontal:"left"}},{key:"bulan",width:15,alignment:{vertical:"middle",horizontal:"right"}}],l.getColumn("A").key="no",l.getColumn("B").key="trainset",l.getColumn("C").key="bulan",null==et||et.forEach(function(e,t){l.addRow({no:t+1,trainset:e.trainset,bulan:0==e.bulan?"-":x()(e.bulan).format("0,0")})});let a=l.rowCount;for(let e=6;e<=a;e++)l.getCell("A".concat(e)).alignment={horizontal:"center"},l.getCell("B".concat(e)).alignment={horizontal:"left"},l.getCell("C".concat(e)).alignment={horizontal:"center"},l.getCell("A".concat(e)).font={size:9},l.getCell("B".concat(e)).font={size:9},l.getCell("C".concat(e)).font={size:9},e%2!=0&&(l.getCell("A".concat(e)).fill={type:"pattern",pattern:"solid",fgColor:{argb:"F5F5F5"}},l.getCell("B".concat(e)).fill={type:"pattern",pattern:"solid",fgColor:{argb:"F5F5F5"}},l.getCell("C".concat(e)).fill={type:"pattern",pattern:"solid",fgColor:{argb:"F5F5F5"}});let o=0;for(let t=0;t<e.length;t++)o+=Number("".concat(null!==(n=e[t].bulan)&&void 0!==n?n:0).replaceAll("Rp ","").replaceAll(".",""));l.mergeCells("A".concat(a+1,":B").concat(a+1)),l.getCell("A".concat(a+1)).value=$,l.getCell("C".concat(a+1)).value="".concat(o),l.getCell("A".concat(a+1)).font={bold:!0,size:9},l.getCell("C".concat(a+1)).font={bold:!0,size:9},l.getCell("A1").alignment={wrapText:!1,horizontal:"left",vertical:"middle"};for(let e=1;e<=5;e++)l.getRow(e).font={bold:!0};l.getRow(5).alignment={horizontal:"center",vertical:"middle"},l.getRow(5).font={bold:!0,size:10},l.getCell("A".concat(a+1)).font={bold:!0,size:9},l.getCell("C".concat(a+1)).font={bold:!0,size:9},l.getCell("A".concat(a+1)).alignment={horizontal:"center"},l.getCell("C".concat(a+1)).alignment={horizontal:"center"};for(let e=5;e<=l.rowCount;e++)for(let t=1;t<=3;t++)l.getCell(e,t).border={top:{style:"thin",color:{argb:"000000"}},left:{style:"thin",color:{argb:"000000"}},bottom:{style:"thin",color:{argb:"000000"}},right:{style:"thin",color:{argb:"000000"}}},l.getCell(e,t).numFmt="#,##0";let r=l.rowCount,c=U.split(" ");l.mergeCells("B".concat(r+3,":C").concat(r+3)),l.mergeCells("B".concat(r+4,":C").concat(r+4)),l.mergeCells("B".concat(r+8,":C").concat(r+8)),l.mergeCells("B".concat(r+9,":C").concat(r+9)),l.getCell("C".concat(r+3)).value=c[0]+" "+c[1]+" "+c[2]+" "+c[3],l.getCell("C".concat(r+4)).value=c[4]+" "+c[5],l.getCell("C".concat(r+8)).value=_,l.getCell("C".concat(r+9)).value="Nipp. ".concat(L),l.getColumn(2).width=15,l.getColumn(3).width=15,l.getCell("C".concat(r+3)).alignment={horizontal:"center"},l.getCell("C".concat(r+4)).alignment={horizontal:"center"},l.getCell("C".concat(r+4)).alignment={horizontal:"center"},l.getCell("C".concat(r+8)).alignment={horizontal:"center"},l.getCell("C".concat(r+9)).alignment={horizontal:"center"},l.getCell("C".concat(r+3)).font={bold:!0,size:10},l.getCell("C".concat(r+4)).font={bold:!0,size:10},l.getCell("C".concat(r+8)).font={bold:!0,underline:!0,size:10},l.getCell("C".concat(r+9)).font={bold:!0,size:10},l.getCell("C5").alignment={wrapText:!0,horizontal:"center"};let s=await t.xlsx.writeBuffer(),i=document.createElement("a");i.href=URL.createObjectURL(new Blob([s])),i.download="".concat(Z," ").concat(I,".xlsx"),document.body.appendChild(i),i.click(),document.body.removeChild(i)}return!0}catch(e){return!1}};setTimeout(async()=>{await l()?setTimeout(()=>{y.open({type:"success",content:(0,n.jsx)("span",{className:" capitalize",children:"Export Success"})}),en(!1)},1e3):setTimeout(()=>{y.open({type:"error",content:(0,n.jsx)("span",{className:" capitalize",children:"Export Invalid"})}),en(!1)},1e3)},500)};return(0,n.jsx)(w.Z,{pathname:p,globalState:r,children:(0,n.jsx)(m.Z,{loadingExport:el,type:2==V[0]?"month":0==V[0]?"year":"triwulan",childrenInput:(0,n.jsxs)("div",{className:"flex flex-col ml-2",children:[(0,n.jsx)("span",{id:"subject",className:"mb-5 mt-3  text-[14px]",children:"Tipe"}),(0,n.jsx)(s.default,{disabled:el,placeholder:"Select Filter",onChange:e=>{K(q+1),k(null);let t="",l=0;"year"==e?(t="year",l=0):"triwulan"==e?(t="triwulan",l=1):(t="month",l=2),X([l,t])},defaultValue:"month",className:"max-md:w-full",options:[{value:"month",label:"Per Bulan"},{value:"triwulan",label:"Per Triwulan"},{value:"year",label:"Per Tahun"}]})]}),codeDelete:2!=V[0]?"":A,onDelete:()=>G(void 0),data:et,loading:t,dateChange:e=>k(e),downloadPdf:()=>ea(H,"pdf"),downloadExcel:()=>ea(H,"excel"),onChangeTri:q,children:(0,n.jsx)(i.Z,{children:(0,n.jsxs)(d.Z,{span:8,offset:8,children:[j.x4.web.header(Q,"PERIODE : ".concat(I)),(0,n.jsx)(u.Z,{bordered:!0,rowClassName:j.x4.web.striped,columns:j.x4.web.headerTable([{title:"NO",dataIndex:"no",key:"no",width:"5%",align:"center",render:e=>(0,n.jsx)("a",{children:e})},{title:"TRAINSET",dataIndex:"trainset",key:"trainset",align:"center",render:e=>(0,n.jsx)("div",{style:{textAlign:"left"},children:e})},{title:"REALISASI PEST CONTROL",align:"center",dataIndex:"bulan",key:"bulan",width:"44%",render:e=>0==e?"-":x()(e).format("0,0")}]),dataSource:et,pagination:!1,summary:e=>{let t=0;return e.forEach(e=>{let{bulan:l}=e;t+=Number("".concat(null!=l?l:0).replaceAll("Rp ","").replaceAll(".",""))}),(0,n.jsxs)(u.Z.Summary.Row,{children:[(0,n.jsx)(u.Z.Summary.Cell,{index:0,colSpan:2,align:"center",children:(0,n.jsx)(N,{strong:!0,children:$})}),(0,n.jsx)(u.Z.Summary.Cell,{index:1,align:"center",children:(0,n.jsx)(N,{strong:!0,children:0===t?"-":x()(t).format("0,0")})})]})}})]})})})})}},57608:function(e,t,l){"use strict";l.d(t,{Ol:function(){return c},SZ:function(){return i},Zb:function(){return r},aY:function(){return d},ll:function(){return s}});var n=l(57437),a=l(2265),o=l(13498);let r=a.forwardRef((e,t)=>{let{className:l,classNameFalse:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:a?l:(0,o.cn)("rounded-2xl my-2 border border-zinc-200 bg-white text-zinc-950 shadow dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",l),...r})});r.displayName="Card",a.forwardRef((e,t)=>{let{className:l,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,o.cn)("rounded-2xl border border-zinc-200 bg-white text-zinc-950 shadow dark:border-zinc-800 dark:bg-zinc-900 dark:text-zinc-50",l),...a})}).displayName="Card900";let c=a.forwardRef((e,t)=>{let{className:l,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,o.cn)("flex flex-col space-y-1.5 px-6 py-3  rounded-t-2xl  bg-white dark:bg-black",l),...a})});c.displayName="CardHeader";let s=a.forwardRef((e,t)=>{let{className:l,...a}=e;return(0,n.jsx)("h3",{ref:t,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",l),...a})});s.displayName="CardTitle";let i=a.forwardRef((e,t)=>{let{className:l,...a}=e;return(0,n.jsx)("p",{ref:t,className:(0,o.cn)("text-sm text-zinc-500 dark:text-zinc-400 ",l),...a})});i.displayName="CardDescription";let d=a.forwardRef((e,t)=>{let{className:l,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,o.cn)("p-6 pt-5 bg-white dark:bg-black rounded-b-2xl",l),...a})});d.displayName="CardContent",a.forwardRef((e,t)=>{let{className:l,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,o.cn)("flex items-center p-6 pt-0",l),...a})}).displayName="CardFooter"},41105:function(e,t,l){"use strict";l.d(t,{Z:function(){return Z}});var n=l(57437),a=l(2265),o=l(16463),r=l(68348),c=l(62586),s=l(46682),i=l(62575),d=l(85169),u=l(62737),m=l.n(u);l(65799);var f=l(71275),p=l(57608),h=l(16584),g=l(32034),x=l(23288),b=l(85313),y=l(90696),v=l(9707),C=l(66407),w=l(63843),Y=l(99945),j=l(73717),N=e=>{let{downloadFalse:t,loadingExport:l,trueApprave:o,downloadPdf:c,downloadExcel:i,title:d,onDelete:u,falseDelete:m,date:p,approve:h,onApprove:N,onUnapprove:S,loadingDisable:M}=e,O=(0,a.useContext)(f.Z),[k,I]=(0,a.useState)([]),[D,A]=(0,a.useState)([]),{message:Z,notification:E,modal:z}=r.Z.useApp(),{confirm:T}=z;return(0,a.useEffect)(()=>{var e,l,a,r,s;let f=[],g=[];(null==O?void 0:null===(e=O.permission)||void 0===e?void 0:e.indexOf("export excel"))!==-1&&i&&!t&&f.push({key:"excel",label:(0,n.jsx)("a",{className:"w-full text-left",onClick:i,children:"Excel"}),icon:(0,n.jsx)(b.Z,{style:{color:"green"}}),className:"h-10"}),(null==O?void 0:null===(l=O.permission)||void 0===l?void 0:l.indexOf("export pdf"))!==-1&&c&&!t&&f.push({key:"pdf",label:(0,n.jsx)("a",{className:"w-full text-left",onClick:c,children:"PDF"}),icon:(0,n.jsx)(y.Z,{style:{color:"red"}}),className:"h-10"}),(null==O?void 0:null===(a=O.permission)||void 0===a?void 0:a.indexOf("delete"))===-1||m||g.push({key:"delete",label:(0,n.jsx)("a",{className:"w-full text-left",onClick:()=>{T({title:"Delete data?",icon:(0,n.jsx)(v.Z,{}),content:"Are you sure want to delete this ".concat(d," data in ").concat(p," ?"),okText:"Yes",okType:"danger",cancelText:"No",onOk(){u(!0)}})},children:"Delete"}),icon:(0,n.jsx)(v.Z,{style:{color:"red"}}),className:"h-10"}),p&&(h?(null==O?void 0:null===(s=O.permission)||void 0===s?void 0:s.indexOf("unapprove"))!==-1&&o&&g.push({key:"unapprove",label:(0,n.jsx)("a",{className:"w-full text-left",onClick:()=>{T({title:"Unapprove data?",icon:(0,n.jsx)(w.Z,{}),content:"Are you sure want to Unapprove this ".concat(d," data in ").concat(p," ?"),okText:"Yes",okType:"danger",cancelText:"No",onOk(){S(!0)}})},children:"Unapprove"}),icon:(0,n.jsx)(w.Z,{style:{color:"red"}}),className:"h-10"}):(null==O?void 0:null===(r=O.permission)||void 0===r?void 0:r.indexOf("approve"))!==-1&&o&&g.push({key:"approve",label:(0,n.jsx)("a",{className:"w-full text-left",onClick:()=>{T({title:"Approve data?",icon:(0,n.jsx)(C.Z,{style:{color:"green"}}),content:"Are you sure want to Approve this ".concat(d," data in ").concat(p," ?"),okText:"Yes",cancelText:"No",onOk(){N(!0)}})},children:"Approve"}),icon:(0,n.jsx)(C.Z,{style:{color:"green"}}),className:"h-10"})),I(f),A(g)},[T,t,o,m,O,d,p,u,c,i,h,N,S]),(0,n.jsxs)(n.Fragment,{children:[D.length?(0,n.jsx)("div",{className:"",children:(0,n.jsx)(g.Z,{className:"md:mt-12 float-right mr-4",disabled:l,menu:{items:D},children:(0,n.jsx)(s.ZP,{children:(0,n.jsxs)(x.Z,{children:[(0,n.jsx)(Y.Z,{})," Opsi"]})})})}):null,k.length?(0,n.jsx)("div",{className:"",children:(0,n.jsx)(g.Z,{className:"md:mt-12 float-right",disabled:!!l||!!M,menu:{items:k},children:(0,n.jsx)(s.ZP,{loading:l,children:(0,n.jsxs)(x.Z,{children:[l?"":(0,n.jsx)(j.Z,{})," Export"]})})})}):null]})},S=l(42005),M=l(30939),O=l(95053),k=l(72100);let{RangePicker:I}=O.default;var D=e=>{let{disabled:t,className:l,onDateSelect:o,widthDate:r,enableSelect:c,onDistanceSelect:s,typeDatePicker:i,showTime:d,loadingDisable:u,allowClear:f,onChangeTri:p,disabledDate:h}=e,[g,x]=(0,a.useState)([]),[b,y]=(0,a.useState)(""),[v,C]=(0,a.useState)(""),[w,Y]=(0,a.useState)(0),[j,N]=(0,a.useState)(null),[M,D]=(0,a.useState)(0),[A,Z]=(0,a.useState)(null),[E,z]=(0,a.useState)(null),[T,R]=(0,a.useState)([null,null]);(0,a.useEffect)(()=>{o(b)},[b]),(0,a.useEffect)(()=>{z(null),Z(null),N(null)},[p]),(0,a.useEffect)(()=>{(async()=>{let e=await (0,S.Z)().get("/distance/"),t=null==e?void 0:e.data;if(void 0!==t){let e=[];e.push({value:"",label:"All Data"}),t.map((t,l)=>e.push({value:t.distance,label:t.distance})),x(e)}})()},[]);let P=(e,t)=>{if(null==e?void 0:e[0]){let l=parseInt(m()(e[0]).format("DD")),n=parseInt(m()(e[0]).format("MM")),a=parseInt(m()(e[0]).format("YYYY")),r=parseInt(m()(e[0]).format("HH")),c=parseInt(m()(e[0]).format("mm")),s=parseInt(m()(e[0]).format("ss")),i=parseInt(m()(e[1]).format("DD")),d=parseInt(m()(e[1]).format("MM")),u=parseInt(m()(e[1]).format("YYYY")),f=parseInt(m()(e[1]).format("hh")),p=parseInt(m()(e[1]).format("mm")),h=parseInt(m()(e[1]).format("ss"));y({...b,dateFrom:l,monthFrom:n,yearFrom:a,hourFrom:r,minuteFrom:c,secondFrom:s,dateUntil:i,monthUntil:d,yearUntil:u,hourUntil:f,minuteUntil:p,secondUntil:h,dateStrings:t}),o(b,v,w,j,M)}else o(void 0)};return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"flex flex-col border-none mb-7 mt-2 ml-1",children:[(0,n.jsx)("span",{id:"subject",className:"mb-5 mt-1 text-[14px] font-bold",children:"Periode"}),(0,n.jsxs)("div",{className:"flex flex-wrap",children:[""===i?(0,n.jsx)(I,{allowClear:f,disabled:!!t||!!u,allowEmpty:[!0,!1],className:"".concat(l," mb-3 lg:mr-3"),showTime:d,onChange:P,disabledDate:h}):"rangemonth"===i?(0,n.jsx)(I,{picker:"month",disabled:!!t||!!u,className:"".concat(l," mb-3 lg:mr-3 sm:w-32"),onChange:P,disabledDate:h}):"triwulan"===i?(0,n.jsx)(I,{picker:"month",placeholder:["Start month","End month"],allowEmpty:[!0,!0],allowClear:!0,value:[E?m()(E,"YYYY-MM"):null,A?m()(A,"YYYY-MM"):null],disabled:[!!t||!!u,!0],onChange:(e,t)=>{if(null==e?void 0:e[0]){let l=parseInt(m()(e[0]).format("DD")),n=parseInt(m()(e[0]).format("MM")),a=parseInt(m()(e[0]).format("YYYY")),r=parseInt(m()(e[0]).format("HH")),c=parseInt(m()(e[0]).format("mm")),s=parseInt(m()(e[0]).format("ss")),i=parseInt(m()(e[0]).add(2,"month").format("DD")),d=parseInt(m()(e[0]).add(2,"month").format("MM")),u=parseInt(m()(e[0]).add(2,"month").format("YYYY")),f=parseInt(m()(e[0]).add(2,"month").format("hh")),p=parseInt(m()(e[0]).add(2,"month").format("mm")),h=parseInt(m()(e[0]).add(2,"month").format("ss")),g=m()(e[0]).locale("id").format("MMMM"),x=parseInt(m()(e[0]).format("M")),S=parseInt(m()(e[0]).format("YYYY")),O=parseInt(m()(e[0]).format("DD"));z(m()(null==e?void 0:e[0]).format("YYYY-MM-DD")),Z(m()(null==e?void 0:e[0]).add(2,"month").format("YYYY-MM-DD")),C(g),Y(x),N(S),D(O),y({...b,dateFrom:l,monthFrom:n,yearFrom:a,hourFrom:r,minuteFrom:c,secondFrom:s,dateUntil:i,monthUntil:d,yearUntil:u,hourUntil:f,minuteUntil:p,secondUntil:h,month:x,monthNumber:x,year:S,day:O,dateStrings:t}),o(b,v,w,j,M)}else z(null),Z(null),o(void 0)},disabledDate:h}):"rangepicker"===i?(0,n.jsx)(I,{allowClear:f,disabled:!!t||!!u,allowEmpty:[!0,!1],className:"".concat(l," mb-3 lg:mr-3"),showTime:d,onChange:P,disabledDate:h}):"year"===i?(0,n.jsx)(O.default,{disabled:!!t||!!u,className:"".concat(l," mb-3 lg:mr-3 sm:w-[500px] w-96"),value:j?m()(j,"YYYY"):null,onChange:(e,t)=>{if(null===e)N(null),o(j);else{let l=m()(e).locale("id").format("MMMM"),n=parseInt(m()(e).format("M")),a=parseInt(m()(e).format("YYYY")),r=parseInt(m()(e).format("DD"));C(l),Y(n),N(t),D(r),y({...b,month:l,monthNumber:n,year:a,day:r}),o(b,v,w,j,M)}},allowClear:!0,format:"YYYY",picker:"year",disabledDate:h}):(0,n.jsx)(O.default,{disabled:!!t||!!u,className:"".concat(l," mb-3 lg:mr-3 sm:w-[500px] w-96"),onChange:(e,t)=>{let l=m()(e).locale("id").format("MMMM"),n=parseInt(m()(e).format("M")),a=parseInt(m()(e).format("YYYY")),r=parseInt(m()(e).format("DD"));C(l),Y(n),N(a),D(r),y({...b,month:l,monthNumber:n,year:a,day:r}),o(b,v,w,j,M)},picker:i||"month",disabledDate:h}),(0,n.jsx)(k.default,{disabled:!!t||!!u,showSearch:!0,defaultValue:"",className:"".concat(null!=c?c:"hidden"," sm:ml-2 md:w-32 sm-w-32 "),onChange:e=>{s&&s(e)},placeholder:"Select Distance",filterOption:(e,t)=>((null==t?void 0:t.label)||"").toLowerCase().includes((null!=e?e:"").toLowerCase()),options:g.map((e,t)=>({value:e.value,label:"".concat(e.label)}))})]})]})})},A=l(86658);function Z(e){let{className:t,loadingBottom:l,loadingExport:u,childrenInput:g,enableSelect:x,onDistanceSelect:b,typeLoading:y,type:v,codeDelete:C,onDelete:w,downloadPdf:Y,downloadExcel:j,loading:O,dateChange:k,children:I,data:Z,loadingDisable:E,showTime:z,allowClear:T,warning:R,showModalWarn:P,onApprove:_,onChangeTri:F,disabledDate:U,downloadFalse:B,emptyFalse:L,noTheme:W,codeMenu:H}=e;(0,a.useContext)(f.Z);let[G,V]=(0,a.useState)(),[X,$]=(0,a.useState)(),[J,q]=(0,a.useState)(),K=r.Z.useApp(),{message:Q}=K;(0,o.usePathname)(),(0,a.useEffect)(()=>{var e,t;q((null==Z?void 0:null===(e=Z[0])||void 0===e?void 0:e.approved_at)=="-"?null:null==Z?void 0:null===(t=Z[0])||void 0===t?void 0:t.approved_at)},[Z]),(0,a.useEffect)(()=>{V(u)},[u,Q]),(0,a.useEffect)(()=>{$(void 0)},[F]);let ee=async()=>{Q.open({key:"approve_report",type:"loading",content:"Approveing...",duration:0});let e=await (0,S.Z)().post("report/approve",{code:C,codeMenu:null!=H?H:null,month:2==X.length?Number(m()(X[0]).format("MM")):Number(m()(X).format("MM")),year:2==X.length?Number(m()(X[0]).format("YYYY")):Number(m()(X).format("YYYY"))});(0,M.Z)({res:e,app:K,msgTrue:!0,key:"approve_report"})&&(q(new Date),_(!0))},et=async()=>{Q.open({key:"unapprove_report",type:"loading",content:"Unapproveing...",duration:0});let e=await (0,S.Z)().post("report/unapprove",{code:C,codeMenu:null!=H?H:null,month:2==X.length?Number(m()(X[0]).format("MM")):Number(m()(X).format("MM")),year:2==X.length?Number(m()(X[0]).format("YYYY")):Number(m()(X).format("YYYY"))});(0,M.Z)({res:e,app:K,msgTrue:!0,key:"unapprove_report"})&&(q(null),_(!1))},el=async()=>{Q.open({key:"delete_report",type:"loading",content:"Deleting...",duration:0});let e=await (0,S.Z)().post("report/delete",{code:C,codeMenu:null!=H?H:null,month:2==X.length?Number(m()(X[0]).format("MM")):Number(m()(X).format("MM")),year:2==X.length?Number(m()(X[0]).format("YYYY")):Number(m()(X).format("YYYY"))});(0,M.Z)({res:e,app:K,msgTrue:!0,key:"delete_report"})&&w(!0)},{systemTheme:en,theme:ea}=(0,d.F)();return(0,n.jsx)(c.ZP,{theme:W?void 0:{components:{Table:"dark"===ea?{borderColor:"#fff",headerBorderRadius:0,cellPaddingBlock:5}:"system"===ea&&"dark"===en?{borderColor:"#fff",headerBorderRadius:0,cellPaddingBlock:5}:{headerBg:"#79c1eb",borderColor:"#000",headerBorderRadius:0,cellPaddingBlock:5}}},componentSize:"large",children:(0,n.jsxs)(p.Zb,{className:"border-none p-7 w-full shadow-md",children:[(0,n.jsxs)("div",{className:g?"flex flex-wrap mb-6":"flex flex-wrap mb-6 justify-between",children:[(0,n.jsx)(D,{allowClear:T,onDistanceSelect:null!=b?b:void 0,enableSelect:x,disabled:y?O:null!=G&&G,typeDatePicker:"rangepicker"===v?"":"triwulan"===v?"triwulan":void 0===v?"month":v,disabledDate:U,className:g?"":"rangepicker"==v?"w-full lg:w-2/3 xl:w-3/4":"w-full md:w-3/4 lg:w-2/4",onDateSelect:e=>{""===e||isNaN(null==e?void 0:e.monthNumber)?(null==e?void 0:e.dateStrings)?(k(e.dateStrings),$(e.dateStrings)):(k(void 0),$(void 0)):"rangepicker"===v?(null==e?void 0:e.dateStrings)&&(k(e.dateStrings),$(e.dateStrings)):(k(m()(e.year+"-"+e.monthNumber+"-01").format("YYYY-MM-DD")),$(m()(e.year+"-"+e.monthNumber+"-01").format("YYYY-MM-DD")))},loadingDisable:E,showTime:z,onChangeTri:F}),g,null!=Z&&!!Z.length&&X&&!O&&(0,n.jsxs)("div",{className:g?"flex flex-row md:justify-end w-full sm:justify-start md:-mt-32 mt-3 ml-1":"flex flex-row",children:[R&&(0,n.jsx)(s.ZP,{className:"w-6 md:my-12 mr-2",onClick:()=>{P(!0)},icon:(0,n.jsx)(A.Z,{style:{fontSize:"25px",color:"#ebde34"}})}),(0,n.jsx)(N,{loadingExport:G,trueApprave:C,approve:J,onApprove:ee,onUnapprove:et,onDelete:el,falseDelete:!C,title:null==C?void 0:C.toLowerCase().replaceAll("_"," "),downloadFalse:B,date:"rangemonth"==v?(null==X?void 0:X[0])===(null==X?void 0:X[1])&&"".concat(m()(X[0]).format("YYYY MMMM")):"".concat(m()(X).format("YYYY MMMM")),downloadPdf:Y,downloadExcel:j,loadingDisable:E})]})]}),X&&(0,n.jsx)(n.Fragment,{children:O?(0,n.jsx)(h.Z,{className:"-mt-6"}):(0,n.jsx)("div",{className:" md:-mt-6 overflow-auto w-full",children:(null==Z?void 0:Z.length)||L?(0,n.jsx)("div",{className:t,children:I}):(0,n.jsx)(i.Z,{})})}),l]})})}m().locale("id")},5454:function(e,t,l){"use strict";l.d(t,{O:function(){return o}});var n=l(57437),a=l(13498);function o(e){let{className:t,...l}=e;return(0,n.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-lg bg-zinc-300 dark:bg-zinc-800",t),...l})}},16584:function(e,t,l){"use strict";var n=l(57437),a=l(5454);t.Z=e=>{let{className:t}=e;return(0,n.jsx)("div",{className:"flex flex-col w-full  ".concat(t),children:(0,n.jsxs)("div",{className:"bg-white dark:bg-zinc-950 p-6 rounded-2xl",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(a.O,{className:"h-8 md:w-40"}),(0,n.jsx)(a.O,{className:"h-6 md:w-96"})]}),(0,n.jsx)(a.O,{className:"h-10 w-36 rounded-2xl"})]}),(0,n.jsxs)("div",{className:"flex flex-col w-full",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center w-full mt-6 mb-4",children:[(0,n.jsxs)("div",{className:"space-x-2 flex",children:[(0,n.jsx)(a.O,{className:"h-6 md:w-64"}),(0,n.jsx)(a.O,{className:"h-6 w-28"})]}),(0,n.jsx)(a.O,{className:"h-6 w-28 rounded-2xl"})]}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)(a.O,{className:"h-6 w-full"}),(0,n.jsx)(a.O,{className:"h-6 w-full"}),(0,n.jsx)(a.O,{className:"h-6 w-full"}),(0,n.jsx)(a.O,{className:"h-6 w-full"}),(0,n.jsx)(a.O,{className:"h-6 w-full"}),(0,n.jsx)(a.O,{className:"h-6 w-full"}),(0,n.jsx)(a.O,{className:"h-6 w-full"}),(0,n.jsx)(a.O,{className:"h-6 w-full"})]})]})]})})}},95381:function(e,t,l){"use strict";var n=l(90265);t.Z=n.Z},13413:function(e,t,l){"use strict";let n=(0,l(2265).createContext)({});t.Z=n},90265:function(e,t,l){"use strict";var n=l(2265),a=l(56800),o=l.n(a),r=l(38750),c=l(13413),s=l(38669),i=function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(l[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(l[n[a]]=e[n[a]]);return l};function d(e){return"number"==typeof e?"".concat(e," ").concat(e," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?"0 0 ".concat(e):e}let u=["xs","sm","md","lg","xl","xxl"],m=n.forwardRef((e,t)=>{let{getPrefixCls:l,direction:a}=n.useContext(r.E_),{gutter:m,wrap:f}=n.useContext(c.Z),{prefixCls:p,span:h,order:g,offset:x,push:b,pull:y,className:v,children:C,flex:w,style:Y}=e,j=i(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),N=l("col",p),[S,M,O]=(0,s.cG)(N),k={},I={};u.forEach(t=>{let l={},n=e[t];"number"==typeof n?l.span=n:"object"==typeof n&&(l=n||{}),delete j[t],I=Object.assign(Object.assign({},I),{["".concat(N,"-").concat(t,"-").concat(l.span)]:void 0!==l.span,["".concat(N,"-").concat(t,"-order-").concat(l.order)]:l.order||0===l.order,["".concat(N,"-").concat(t,"-offset-").concat(l.offset)]:l.offset||0===l.offset,["".concat(N,"-").concat(t,"-push-").concat(l.push)]:l.push||0===l.push,["".concat(N,"-").concat(t,"-pull-").concat(l.pull)]:l.pull||0===l.pull,["".concat(N,"-rtl")]:"rtl"===a}),l.flex&&(I["".concat(N,"-").concat(t,"-flex")]=!0,k["--".concat(N,"-").concat(t,"-flex")]=d(l.flex))});let D=o()(N,{["".concat(N,"-").concat(h)]:void 0!==h,["".concat(N,"-order-").concat(g)]:g,["".concat(N,"-offset-").concat(x)]:x,["".concat(N,"-push-").concat(b)]:b,["".concat(N,"-pull-").concat(y)]:y},v,I,M,O),A={};if(m&&m[0]>0){let e=m[0]/2;A.paddingLeft=e,A.paddingRight=e}return w&&(A.flex=d(w),!1!==f||A.minWidth||(A.minWidth=0)),S(n.createElement("div",Object.assign({},j,{style:Object.assign(Object.assign(Object.assign({},A),Y),k),className:D,ref:t}),C))});t.Z=m},43134:function(e,t,l){"use strict";var n=l(2265),a=l(56800),o=l.n(a),r=l(6987),c=l(38750),s=l(13413),i=l(38669),d=function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(l[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(l[n[a]]=e[n[a]]);return l};function u(e,t){let[l,a]=n.useState("string"==typeof e?e:""),o=()=>{if("string"==typeof e&&a(e),"object"==typeof e)for(let l=0;l<r.c4.length;l++){let n=r.c4[l];if(!t[n])continue;let o=e[n];if(void 0!==o){a(o);return}}};return n.useEffect(()=>{o()},[JSON.stringify(e),t]),l}let m=n.forwardRef((e,t)=>{let{prefixCls:l,justify:a,align:m,className:f,style:p,children:h,gutter:g=0,wrap:x}=e,b=d(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:y,direction:v}=n.useContext(c.E_),[C,w]=n.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),[Y,j]=n.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),N=u(m,Y),S=u(a,Y),M=n.useRef(g),O=(0,r.ZP)();n.useEffect(()=>{let e=O.subscribe(e=>{j(e);let t=M.current||0;(!Array.isArray(t)&&"object"==typeof t||Array.isArray(t)&&("object"==typeof t[0]||"object"==typeof t[1]))&&w(e)});return()=>O.unsubscribe(e)},[]);let k=y("row",l),[I,D,A]=(0,i.VM)(k),Z=(()=>{let e=[void 0,void 0];return(Array.isArray(g)?g:[g,void 0]).forEach((t,l)=>{if("object"==typeof t)for(let n=0;n<r.c4.length;n++){let a=r.c4[n];if(C[a]&&void 0!==t[a]){e[l]=t[a];break}}else e[l]=t}),e})(),E=o()(k,{["".concat(k,"-no-wrap")]:!1===x,["".concat(k,"-").concat(S)]:S,["".concat(k,"-").concat(N)]:N,["".concat(k,"-rtl")]:"rtl"===v},f,D,A),z={},T=null!=Z[0]&&Z[0]>0?-(Z[0]/2):void 0;T&&(z.marginLeft=T,z.marginRight=T);let[R,P]=Z;z.rowGap=P;let _=n.useMemo(()=>({gutter:[R,P],wrap:x}),[R,P,x]);return I(n.createElement(s.Z.Provider,{value:_},n.createElement("div",Object.assign({},b,{className:E,style:Object.assign(Object.assign({},z),p),ref:t}),h)))});t.Z=m},38669:function(e,t,l){"use strict";l.d(t,{VM:function(){return d},cG:function(){return u}});var n=l(37540),a=l(2330),o=l(35413);let r=e=>{let{componentCls:t}=e;return{[t]:{position:"relative",maxWidth:"100%",minHeight:1}}},c=(e,t)=>{let{prefixCls:l,componentCls:n,gridColumns:a}=e,o={};for(let e=a;e>=0;e--)0===e?(o["".concat(n).concat(t,"-").concat(e)]={display:"none"},o["".concat(n,"-push-").concat(e)]={insetInlineStart:"auto"},o["".concat(n,"-pull-").concat(e)]={insetInlineEnd:"auto"},o["".concat(n).concat(t,"-push-").concat(e)]={insetInlineStart:"auto"},o["".concat(n).concat(t,"-pull-").concat(e)]={insetInlineEnd:"auto"},o["".concat(n).concat(t,"-offset-").concat(e)]={marginInlineStart:0},o["".concat(n).concat(t,"-order-").concat(e)]={order:0}):(o["".concat(n).concat(t,"-").concat(e)]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:"0 0 ".concat(e/a*100,"%"),maxWidth:"".concat(e/a*100,"%")}],o["".concat(n).concat(t,"-push-").concat(e)]={insetInlineStart:"".concat(e/a*100,"%")},o["".concat(n).concat(t,"-pull-").concat(e)]={insetInlineEnd:"".concat(e/a*100,"%")},o["".concat(n).concat(t,"-offset-").concat(e)]={marginInlineStart:"".concat(e/a*100,"%")},o["".concat(n).concat(t,"-order-").concat(e)]={order:e});return o["".concat(n).concat(t,"-flex")]={flex:"var(--".concat(l).concat(t,"-flex)")},o},s=(e,t)=>c(e,t),i=(e,t,l)=>({["@media (min-width: ".concat((0,n.bf)(t),")")]:Object.assign({},s(e,l))}),d=(0,a.I$)("Grid",e=>{let{componentCls:t}=e;return{[t]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},()=>({})),u=(0,a.I$)("Grid",e=>{let t=(0,o.IX)(e,{gridColumns:24}),l={"-sm":t.screenSMMin,"-md":t.screenMDMin,"-lg":t.screenLGMin,"-xl":t.screenXLMin,"-xxl":t.screenXXLMin};return[r(t),s(t,""),s(t,"-xs"),Object.keys(l).map(e=>i(t,l[e],e)).reduce((e,t)=>Object.assign(Object.assign({},e),t),{})]},()=>({}))},77733:function(e,t,l){"use strict";var n=l(43134);t.Z=n.Z}},function(e){e.O(0,[2505,3113,1866,8173,9141,2470,3919,8348,2100,4309,5053,5458,2034,9155,7824,428,8421,8028,4052,5325,6487,8378,4746,5141,252,7642,2971,7023,1744],function(){return e(e.s=94136)}),_N_E=e.O()}]);