(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2049,1105],{39165:function(e,t,a){Promise.resolve().then(a.bind(a,91668))},91668:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return w}});var l=a(57437),n=a(2265),r=a(71275),o=a(65188),s=a(16463);a(65799);var i=a(42005),d=a(68348),c=a(62737),m=a.n(c),f=a(41105),p=a(30939),h=a(38797),u=a(38378),g=e=>{let t,{data:a,boolPromo:n}=e,r="",o={};n&&(r=" PROMO"),o=null!=a[0].tarif_km_offpeak?{title:a[0].header_km,align:"center",className:"text-xs lg:text-[15px]",children:[{title:"WEEKDAY\n(SENIN - JUMAT)\nPEAK HOUR",dataIndex:"tarif_km",key:"tarif_km",align:"right",className:" w-[120px]",render:e=>(0,l.jsx)("a",{children:e>0?(0,l.jsx)(l.Fragment,{children:new Intl.NumberFormat("de-DE").format(e)}):(0,l.jsx)(l.Fragment,{children:"-"})})},{title:"WEEKDAY (SENIN - JUMAT)\n OFF PEAK HOUR &\n WEEKEND (SML) ",dataIndex:"tarif_km_offpeak",key:"tarif_km_offpeak",className:"w-[180px]",align:"right",render:e=>(0,l.jsx)("a",{children:e>0?(0,l.jsx)(l.Fragment,{children:new Intl.NumberFormat("de-DE").format(e)}):(0,l.jsx)(l.Fragment,{children:"-"})})}]}:{title:a[0].header_km,dataIndex:"tarif_km",key:"tarif_km",align:"right",className:"w-[100px] ",render:e=>(0,l.jsx)("a",{children:e>0?(0,l.jsx)(l.Fragment,{children:new Intl.NumberFormat("de-DE").format(e)}):(0,l.jsx)(l.Fragment,{children:"-"})})},t=[],a.map((e,a)=>{let l={};l.no=a+1,l.distance=e.i_distance,e.tarif_km>0?l.tarif_km=e.tarif_km:l.tarif_km="-",e.tarif_km_offpeak>0?l.tarif_km_offpeak=e.tarif_km_offpeak:l.tarif_km_offpeak="-",e.i_kontrak_peak>0?l.kontrakpeak=e.i_kontrak_peak:l.kontrakpeak="-",e.i_kontrak_offpeak>0?l.kontrakoffpeak=e.i_kontrak_offpeak:l.kontrakoffpeak="-",e.i_realisasi_peak>0?l.realisasipeak=e.i_realisasi_peak:l.realisasipeak="-",e.i_realisasi_offpeak>0?l.realisasioffpeak=e.i_realisasi_offpeak:l.realisasioffpeak="-",e.i_selisih_peak>0?l.selisihpeak=e.i_selisih_peak:l.selisihpeak="-",e.i_selisih_offpeak>0?l.selisihoffpeak=e.i_selisih_offpeak:l.selisihoffpeak="-",t.push({...l,key:a+1})});let s=[];return s=[{title:"NO",dataIndex:"no",key:"no",className:" w-[60px]",align:"center",render:e=>(0,l.jsx)("a",{children:e})},{title:"JARAK",dataIndex:"distance",key:"distance",align:"center",className:"w-[100px] ",render:e=>(0,l.jsx)("a",{children:e})},o,{title:"TARIF"+r,align:"center",className:"text-xs lg:text-[15px]",children:[{title:"WEEKDAY\n(SENIN - JUMAT)\nPEAK HOUR",dataIndex:"kontrakpeak",key:"kontrakpeak",align:"right",className:" w-[120px]",render:e=>(0,l.jsx)("a",{children:e>0?(0,l.jsx)(l.Fragment,{children:new Intl.NumberFormat("de-DE").format(e)}):(0,l.jsx)(l.Fragment,{children:"-"})})},{title:"WEEKDAY (SENIN - JUMAT)\n OFF PEAK HOUR &\n WEEKEND (SML) ",dataIndex:"kontrakoffpeak",key:"kontrakoffpeak",className:"w-[180px]",align:"right",render:e=>(0,l.jsx)("a",{children:e>0?(0,l.jsx)(l.Fragment,{children:new Intl.NumberFormat("de-DE").format(e)}):(0,l.jsx)(l.Fragment,{children:"-"})})}]},{title:"REALISASI",align:"center",className:"text-xs lg:text-[15px]",children:[{title:"WEEKDAY\n(SENIN - JUMAT)\nPEAK HOUR",dataIndex:"realisasipeak",key:"realisasipeak",align:"right",className:" w-[120px]",render:e=>(0,l.jsx)("a",{children:e>0?(0,l.jsx)(l.Fragment,{children:new Intl.NumberFormat("de-DE").format(e)}):(0,l.jsx)(l.Fragment,{children:"-"})})},{title:"WEEKDAY (SENIN - JUMAT)\n OFF PEAK HOUR &\n WEEKEND (SML) ",dataIndex:"realisasioffpeak",key:"realisasioffpeak",align:"right",className:"w-[180px]",render:e=>(0,l.jsx)("a",{children:e>0?(0,l.jsx)(l.Fragment,{children:new Intl.NumberFormat("de-DE").format(e)}):(0,l.jsx)(l.Fragment,{children:"-"})})}]},{title:"SELISIH",align:"center",className:"text-xs lg:text-[15px]",children:[{title:"WEEKDAY\n(SENIN - JUMAT)\nPEAK HOUR",dataIndex:"selisihpeak",key:"selisihpeak",align:"right",className:" w-[120px]",render:e=>(0,l.jsx)("a",{children:e>0?(0,l.jsx)(l.Fragment,{children:new Intl.NumberFormat("de-DE").format(e)}):(0,l.jsx)(l.Fragment,{children:"-"})})},{title:"WEEKDAY (SENIN - JUMAT)\n OFF PEAK HOUR &\n WEEKEND (SML) ",dataIndex:"selisihoffpeak",key:"selisihoffpeak",align:"right",className:"w-[180px]",render:e=>(0,l.jsx)("a",{children:e>0?(0,l.jsx)(l.Fragment,{children:new Intl.NumberFormat("de-DE").format(e)}):(0,l.jsx)(l.Fragment,{children:"-"})})}]}],(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(u.Z,{className:"w-[1360px]",rowClassName:h.x4.web.striped,columns:h.x4.web.headerTable(s),dataSource:t,scroll:{x:1400},pagination:!1,bordered:!0})})},E=(e,t,a,l,n,r)=>{let o;o=[];let s="";r&&(s=" PROMO"),e.map((t,a)=>{let l;l=[],l=[{content:a+1,styles:{halign:"center"}},{content:t.i_distance,styles:{halign:"center"}}],t.tarif_km>0?l.push({content:new Intl.NumberFormat("de-DE").format(t.tarif_km),styles:{halign:"right"}}):l.push({content:"-",styles:{halign:"right"}}),null!=e[0].tarif_km_offpeak&&(t.tarif_km_offpeak>0?l.push({content:new Intl.NumberFormat("de-DE").format(t.tarif_km_offpeak),styles:{halign:"right"}}):l.push({content:"-",styles:{halign:"right"}})),t.i_kontrak_peak>0?l.push({content:new Intl.NumberFormat("de-DE").format(t.i_kontrak_peak),styles:{halign:"right"}}):l.push({content:"-",styles:{halign:"right"}}),t.i_kontrak_offpeak>0?l.push({content:new Intl.NumberFormat("de-DE").format(t.i_kontrak_offpeak),styles:{halign:"right"}}):l.push({content:"-",styles:{halign:"right"}}),t.i_realisasi_peak>0?l.push({content:new Intl.NumberFormat("de-DE").format(t.i_realisasi_peak),styles:{halign:"right"}}):l.push({content:"-",styles:{halign:"right"}}),t.i_realisasi_offpeak>0?l.push({content:new Intl.NumberFormat("de-DE").format(t.i_realisasi_offpeak),styles:{halign:"right"}}):l.push({content:"-",styles:{halign:"right"}}),t.i_selisih_peak>0?l.push({content:new Intl.NumberFormat("de-DE").format(t.i_selisih_peak),styles:{halign:"right"}}):l.push({content:"-",styles:{halign:"right"}}),t.i_selisih_offpeak>0?l.push({content:new Intl.NumberFormat("de-DE").format(t.selisihoffpeak),styles:{halign:"right"}}):l.push({content:"-",styles:{halign:"right"}}),o.push(l)}),console.log(o);let i=[{content:"WEEKDAY \n(SENIN-JUMAT)\n PEAK HOUR",styles:{halign:"center"}},{content:"WEEKDAY (SENIN-JUMAT)\nOff PEAK HOUR &\nWEEKEND (SML)",styles:{halign:"center"}},{content:"WEEKDAY \n(SENIN-JUMAT)\n PEAK HOUR",styles:{halign:"center"}},{content:"WEEKDAY (SENIN-JUMAT)\nOff PEAK HOUR &\nWEEKEND (SML)",styles:{halign:"center"}},{content:"WEEKDAY \n(SENIN-JUMAT)\n PEAK HOUR",styles:{halign:"center"}},{content:"WEEKDAY (SENIN-JUMAT)\nOff PEAK HOUR &\nWEEKEND (SML)",styles:{halign:"center"}}],d={content:e[0].header_km,rowSpan:2,colSpan:1,styles:{halign:"center"}},c={0:{cellWidth:8},1:{cellWidth:18},2:{cellWidth:25},3:{cellWidth:25},4:{cellWidth:35},5:{cellWidth:25},6:{cellWidth:35},7:{cellWidth:25},8:{cellWidth:35},9:{}},m=35;null!=e[0].tarif_km_offpeak&&(m=18,d.rowSpan=1,d.colSpan=2,c={0:{cellWidth:8},1:{cellWidth:18},2:{cellWidth:25},3:{cellWidth:35},4:{cellWidth:25},5:{cellWidth:35},6:{cellWidth:25},7:{cellWidth:35},8:{cellWidth:25},9:{cellWidth:35}},i=[{content:"WEEKDAY \n(SENIN-JUMAT)\n PEAK HOUR",styles:{halign:"center"}},{content:"WEEKDAY (SENIN-JUMAT)\nOff PEAK HOUR &\nWEEKEND (SML)",styles:{halign:"center"}},{content:"WEEKDAY \n(SENIN-JUMAT)\n PEAK HOUR",styles:{halign:"center"}},{content:"WEEKDAY (SENIN-JUMAT)\nOff PEAK HOUR &\nWEEKEND (SML)",styles:{halign:"center"}},{content:"WEEKDAY \n(SENIN-JUMAT)\n PEAK HOUR",styles:{halign:"center"}},{content:"WEEKDAY (SENIN-JUMAT)\nOff PEAK HOUR &\nWEEKEND (SML)",styles:{halign:"center"}},{content:"WEEKDAY \n(SENIN-JUMAT)\n PEAK HOUR",styles:{halign:"center"}},{content:"WEEKDAY (SENIN-JUMAT)\nOff PEAK HOUR &\nWEEKEND (SML)",styles:{halign:"center"}}]),h.x4.pdf({globalState:l,reportType:n,date:"PERIODE  : "+t,landscape:!0,nameFile:"LAPORAN TARIF ".concat(t),headStyle:{marginLeft:m},columnStyles:c,dataHead:[[{content:"NO",rowSpan:2,styles:{halign:"center"}},{content:"JARAK",rowSpan:2,styles:{halign:"center"}},d,{content:"TARIF"+s,colSpan:2,styles:{halign:"center"}},{content:"REALISASI",colSpan:2,styles:{halign:"center"}},{content:"SELISIH",colSpan:2,styles:{halign:"center"}}],i],dataBody:o,positionSignature:{column:3,underlinePadding:-2,paddingTop:-5,marginLeft:2,fontSize:8}})},x=a(61438),N=a.n(x);let k=async(e,t,a,l,n,r)=>{let o=new(N()).Workbook,s=o.addWorksheet(n),i=0,d="";r&&(d=" PROMO");let c=["","","","WEEKDAY \n(SENIN - JUMAT)\n PEAK HOUR","WEEKDAY (SENIN - JUMAT)\n OFF PEAK HOUR &\n WEEKEND (SML) ","WEEKDAY \n(SENIN - JUMAT)\n PEAK HOUR","WEEKDAY (SENIN - JUMAT)\n OFF PEAK HOUR &\n WEEKEND (SML) ","WEEKDAY \n(SENIN - JUMAT)\n PEAK HOUR","WEEKDAY (SENIN - JUMAT)\n OFF PEAK HOUR &\n WEEKEND (SML) "],m=["NO","JARAK",e[0].header_km,"TARIF"+d,"","REALISASI","","SELISIH"];null!=e[0].tarif_km_offpeak?(m=["NO","JARAK",e[0].header_km,"","TARIF"+d,"","REALISASI","","SELISIH"],c=["","","WEEKDAY \n(SENIN - JUMAT)\n PEAK HOUR","WEEKDAY (SENIN - JUMAT)\n OFF PEAK HOUR &\n WEEKEND (SML) ","WEEKDAY \n(SENIN - JUMAT)\n PEAK HOUR","WEEKDAY (SENIN - JUMAT)\n OFF PEAK HOUR &\n WEEKEND (SML) ","WEEKDAY \n(SENIN - JUMAT)\n PEAK HOUR","WEEKDAY (SENIN - JUMAT)\n OFF PEAK HOUR &\n WEEKEND (SML) ","WEEKDAY \n(SENIN - JUMAT)\n PEAK HOUR","WEEKDAY (SENIN - JUMAT)\n OFF PEAK HOUR &\n WEEKEND (SML) "],s.getColumn("A").width=7,s.getColumn("B").width=14,s.getColumn("C").width=16,s.getColumn("D").width=26,s.getColumn("E").width=16,s.getColumn("F").width=26,s.getColumn("G").width=16,s.getColumn("H").width=26,s.getColumn("I").width=16,s.getColumn("J").width=26):(s.getColumn("A").width=7,s.getColumn("B").width=14,s.getColumn("C").width=14,s.getColumn("D").width=16,s.getColumn("E").width=26,s.getColumn("F").width=16,s.getColumn("G").width=26,s.getColumn("H").width=16,s.getColumn("I").width=26);let f=h.wF.excel.fontSizeHeader,p=h.wF.excel.fontSizeHeaderTabel,u=h.wF.excel.fontSizeTable,g=h.wF.excel.fontSizeSignature;h.wF.excel.bgFill,s.addRow([a.n_line_1]).font={size:f,bold:!0},i++,s.addRow([a.n_line_2]).font={size:f,bold:!0},i++,s.addRow(["PERIODE : "+t]).font={size:f,bold:!0},i++,s.addRow(["","","","","",""]),i++;let E=s.addRow(m);i++,E.eachCell(e=>{e.border={top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}},e.alignment={vertical:"middle",horizontal:"center",wrapText:!0},e.font={size:p,bold:!0},e.style.fill={type:"pattern",pattern:"solid",fgColor:{argb:"79c1eb"}}});let x=i,k=s.addRow(c);i++,k.eachCell(e=>{e.border={top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}},e.alignment={vertical:"middle",horizontal:"center",wrapText:!0},e.font={size:p,bold:!0},e.style.fill={type:"pattern",pattern:"solid",fgColor:{argb:"79c1eb"}}}),null!=e[0].tarif_km_offpeak?(s.mergeCells("A".concat(x,":A").concat(x+1)),s.mergeCells("B".concat(x,":B").concat(x+1)),s.mergeCells("C".concat(x,":D").concat(x)),s.mergeCells("E".concat(x,":F").concat(x)),s.mergeCells("G".concat(x,":H").concat(x)),s.mergeCells("I".concat(x,":J").concat(x))):(s.mergeCells("A".concat(x,":A").concat(x+1)),s.mergeCells("B".concat(x,":B").concat(x+1)),s.mergeCells("C".concat(x,":C").concat(x+1)),s.mergeCells("D".concat(x,":E").concat(x)),s.mergeCells("F".concat(x,":G").concat(x)),s.mergeCells("H".concat(x,":I").concat(x))),e.map((t,a)=>{let l;l=[],l=[a+1,t.i_distance],t.tarif_km>0?l.push(t.tarif_km):l.push("-"),null!=e[0].tarif_km_offpeak&&(t.tarif_km_offpeak>0?l.push(t.tarif_km_offpeak):l.push("-")),t.i_kontrak_peak>0?l.push(t.i_kontrak_peak):l.push("-"),t.i_kontrak_offpeak>0?l.push(t.i_kontrak_offpeak):l.push("-"),t.i_realisasi_peak>0?l.push(t.i_realisasi_peak):l.push("-"),t.i_realisasi_offpeak>0?l.push(t.i_realisasi_offpeak):l.push("-"),t.i_selisih_peak>0?l.push(t.i_selisih_peak):l.push("-"),t.i_selisih_offpeak>0?l.push(t.selisihoffpeak):l.push("-"),s.addRow(l).eachCell(e=>{e.border={top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}},e.alignment={vertical:"middle",horizontal:"right"},e.font={size:u},e.numFmt="#,##0"}),i++,s.getCell("A".concat(a+7)).alignment={vertical:"middle",horizontal:"center"},s.getCell("B".concat(a+7)).alignment={vertical:"middle",horizontal:"center"},a%2!=0&&(s.getCell("A".concat(a+6)).fill={type:"pattern",pattern:"solid",fgColor:{argb:"f5f5f5"}},s.getCell("B".concat(a+6)).fill={type:"pattern",pattern:"solid",fgColor:{argb:"f5f5f5"}},s.getCell("C".concat(a+6)).fill={type:"pattern",pattern:"solid",fgColor:{argb:"f5f5f5"}},s.getCell("D".concat(a+6)).fill={type:"pattern",pattern:"solid",fgColor:{argb:"f5f5f5"}},s.getCell("E".concat(a+6)).fill={type:"pattern",pattern:"solid",fgColor:{argb:"f5f5f5"}},s.getCell("F".concat(a+6)).fill={type:"pattern",pattern:"solid",fgColor:{argb:"f5f5f5"}},s.getCell("G".concat(a+6)).fill={type:"pattern",pattern:"solid",fgColor:{argb:"f5f5f5"}},s.getCell("H".concat(a+6)).fill={type:"pattern",pattern:"solid",fgColor:{argb:"f5f5f5"}})}),s.addRow([""]),s.addRow([""]);let w=s.rowCount,y=(0,h.hE)(null==a?void 0:a.n_position_1,26);for(let e=0;e<y.length;e++)s.addRow(["","","","","","","",y[e]]).font={size:g,name:"calibri",bold:!0},w=s.rowCount,s.getCell("H".concat(w)).alignment={vertical:"middle",horizontal:"center"},s.mergeCells("H".concat(w,":I").concat(w));s.addRow([""]),s.addRow([""]),s.addRow([""]),s.addRow(["","","","","","","",a.n_name_1]).font={size:g,name:"calibri",bold:!0,underline:!0},w=s.rowCount,s.mergeCells("H".concat(w,":I").concat(w)),s.getCell("H".concat(w)).alignment={horizontal:"center",vertical:"middle"},s.addRow(["","","","","","","","Nipp. "+a.i_nipp_1]).font={size:g,name:"calibri",bold:!0},w=s.rowCount,s.mergeCells("H".concat(w,":I").concat(w)),s.getCell("H".concat(w)).alignment={horizontal:"center",vertical:"middle"};let b=new Blob([await o.xlsx.writeBuffer()],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),A=window.URL.createObjectURL(b),Y=document.createElement("a");Y.href=A,Y.download=l,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),window.URL.revokeObjectURL(A)};var w=e=>{let{}=e,[t,a]=(0,n.useState)(!1),[c,u]=(0,n.useState)(!1),x=(0,n.useContext)(r.Z),N=d.Z.useApp(),{message:w,notification:y,modal:b}=N,A=(0,s.usePathname)(),[Y,_]=(0,n.useState)(),[M,I]=(0,n.useState)([]),[v,S]=(0,n.useState)([]),[j,D]=(0,n.useState)([]),[C,O]=(0,n.useState)(0),[F,U]=(0,n.useState)(null),[K,R]=(0,n.useState)(!1),W=["1-2024","2-2024","3-2024","4-2024","5-2024"];(0,n.useEffect)(()=>{let e=async()=>{let e=await (0,i.Z)().get("report-type/TARIF");(0,p.Z)({res:e,app:N})&&U(e.data);let t=await (0,i.Z)().get("report/vol-fare-v2?month=".concat(m()(Y).format("M"),"&year=").concat(m()(Y).format("YYYY")));R(W.includes(m()(Y).format("M-YYYY"))),(0,p.Z)({res:t,app:N})&&(I(t.data),console.log("data",t.data)),a(!1)};Y?(a(!0),e()):(D([]),S([]),I([]))},[Y,N]);let T=()=>{k(M,m()(Y).format("MMMM YYYY").toUpperCase(),F,"LAPORAN TARIF "+m()(Y).format("MMMM YYYY").toUpperCase(),"REPORT",K)},P=()=>{var e,t;E(M,m()(Y).format("MMMM YYYY").toUpperCase(),null==x?void 0:null===(t=x.dataUser)||void 0===t?void 0:null===(e=t.user)||void 0===e?void 0:e.username,x,F,K)},[H,Z]=(0,n.useState)(!1),J=e=>{Z(!0);let t=async()=>{try{return"pdf"==e?P():T(),!0}catch(e){return!1}};setTimeout(async()=>{await t()?setTimeout(()=>{w.open({type:"success",content:(0,l.jsx)("span",{className:" capitalize",children:"Export Success"})}),Z(!1)},1e3):setTimeout(()=>{w.open({type:"error",content:(0,l.jsx)("span",{className:" capitalize",children:"Export Invalid"})}),Z(!1)},1e3)},500)};return(0,l.jsx)(o.Z,{pathname:A,globalState:x,children:(0,l.jsx)(f.Z,{className:"flex justify-center",loadingExport:H,data:M,type:"month",loading:t,dateChange:e=>_(e),downloadPdf:()=>J("pdf"),downloadExcel:()=>J("excel"),children:(0,l.jsxs)("div",{className:"w-full 3xl:w-auto",children:[h.x4.web.header(F,"PERIODE : "+m()(Y).format("MMMM YYYY")),(0,l.jsx)(g,{data:M,boolPromo:K})]})})})}},57608:function(e,t,a){"use strict";a.d(t,{Ol:function(){return s},SZ:function(){return d},Zb:function(){return o},aY:function(){return c},ll:function(){return i}});var l=a(57437),n=a(2265),r=a(13498);let o=n.forwardRef((e,t)=>{let{className:a,classNameFalse:n,...o}=e;return(0,l.jsx)("div",{ref:t,className:n?a:(0,r.cn)("rounded-2xl my-2 border border-zinc-200 bg-white text-zinc-950 shadow dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",a),...o})});o.displayName="Card",n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,l.jsx)("div",{ref:t,className:(0,r.cn)("rounded-2xl border border-zinc-200 bg-white text-zinc-950 shadow dark:border-zinc-800 dark:bg-zinc-900 dark:text-zinc-50",a),...n})}).displayName="Card900";let s=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,l.jsx)("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 px-6 py-3  rounded-t-2xl  bg-white dark:bg-black",a),...n})});s.displayName="CardHeader";let i=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,l.jsx)("h3",{ref:t,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",a),...n})});i.displayName="CardTitle";let d=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,l.jsx)("p",{ref:t,className:(0,r.cn)("text-sm text-zinc-500 dark:text-zinc-400 ",a),...n})});d.displayName="CardDescription";let c=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,l.jsx)("div",{ref:t,className:(0,r.cn)("p-6 pt-5 bg-white dark:bg-black rounded-b-2xl",a),...n})});c.displayName="CardContent",n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,l.jsx)("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",a),...n})}).displayName="CardFooter"},41105:function(e,t,a){"use strict";a.d(t,{Z:function(){return C}});var l=a(57437),n=a(2265),r=a(16463),o=a(68348),s=a(62586),i=a(46682),d=a(62575),c=a(85169),m=a(62737),f=a.n(m);a(65799);var p=a(71275),h=a(57608),u=a(16584),g=a(32034),E=a(23288),x=a(85313),N=a(90696),k=a(9707),w=a(66407),y=a(63843),b=a(99945),A=a(73717),Y=e=>{let{downloadFalse:t,loadingExport:a,trueApprave:r,downloadPdf:s,downloadExcel:d,title:c,onDelete:m,falseDelete:f,date:h,approve:u,onApprove:Y,onUnapprove:_,loadingDisable:M}=e,I=(0,n.useContext)(p.Z),[v,S]=(0,n.useState)([]),[j,D]=(0,n.useState)([]),{message:C,notification:O,modal:F}=o.Z.useApp(),{confirm:U}=F;return(0,n.useEffect)(()=>{var e,a,n,o,i;let p=[],g=[];(null==I?void 0:null===(e=I.permission)||void 0===e?void 0:e.indexOf("export excel"))!==-1&&d&&!t&&p.push({key:"excel",label:(0,l.jsx)("a",{className:"w-full text-left",onClick:d,children:"Excel"}),icon:(0,l.jsx)(x.Z,{style:{color:"green"}}),className:"h-10"}),(null==I?void 0:null===(a=I.permission)||void 0===a?void 0:a.indexOf("export pdf"))!==-1&&s&&!t&&p.push({key:"pdf",label:(0,l.jsx)("a",{className:"w-full text-left",onClick:s,children:"PDF"}),icon:(0,l.jsx)(N.Z,{style:{color:"red"}}),className:"h-10"}),(null==I?void 0:null===(n=I.permission)||void 0===n?void 0:n.indexOf("delete"))===-1||f||g.push({key:"delete",label:(0,l.jsx)("a",{className:"w-full text-left",onClick:()=>{U({title:"Delete data?",icon:(0,l.jsx)(k.Z,{}),content:"Are you sure want to delete this ".concat(c," data in ").concat(h," ?"),okText:"Yes",okType:"danger",cancelText:"No",onOk(){m(!0)}})},children:"Delete"}),icon:(0,l.jsx)(k.Z,{style:{color:"red"}}),className:"h-10"}),h&&(u?(null==I?void 0:null===(i=I.permission)||void 0===i?void 0:i.indexOf("unapprove"))!==-1&&r&&g.push({key:"unapprove",label:(0,l.jsx)("a",{className:"w-full text-left",onClick:()=>{U({title:"Unapprove data?",icon:(0,l.jsx)(y.Z,{}),content:"Are you sure want to Unapprove this ".concat(c," data in ").concat(h," ?"),okText:"Yes",okType:"danger",cancelText:"No",onOk(){_(!0)}})},children:"Unapprove"}),icon:(0,l.jsx)(y.Z,{style:{color:"red"}}),className:"h-10"}):(null==I?void 0:null===(o=I.permission)||void 0===o?void 0:o.indexOf("approve"))!==-1&&r&&g.push({key:"approve",label:(0,l.jsx)("a",{className:"w-full text-left",onClick:()=>{U({title:"Approve data?",icon:(0,l.jsx)(w.Z,{style:{color:"green"}}),content:"Are you sure want to Approve this ".concat(c," data in ").concat(h," ?"),okText:"Yes",cancelText:"No",onOk(){Y(!0)}})},children:"Approve"}),icon:(0,l.jsx)(w.Z,{style:{color:"green"}}),className:"h-10"})),S(p),D(g)},[U,t,r,f,I,c,h,m,s,d,u,Y,_]),(0,l.jsxs)(l.Fragment,{children:[j.length?(0,l.jsx)("div",{className:"",children:(0,l.jsx)(g.Z,{className:"md:mt-12 float-right mr-4",disabled:a,menu:{items:j},children:(0,l.jsx)(i.ZP,{children:(0,l.jsxs)(E.Z,{children:[(0,l.jsx)(b.Z,{})," Opsi"]})})})}):null,v.length?(0,l.jsx)("div",{className:"",children:(0,l.jsx)(g.Z,{className:"md:mt-12 float-right",disabled:!!a||!!M,menu:{items:v},children:(0,l.jsx)(i.ZP,{loading:a,children:(0,l.jsxs)(E.Z,{children:[a?"":(0,l.jsx)(A.Z,{})," Export"]})})})}):null]})},_=a(42005),M=a(30939),I=a(95053),v=a(72100);let{RangePicker:S}=I.default;var j=e=>{let{disabled:t,className:a,onDateSelect:r,widthDate:o,enableSelect:s,onDistanceSelect:i,typeDatePicker:d,showTime:c,loadingDisable:m,allowClear:p,onChangeTri:h,disabledDate:u}=e,[g,E]=(0,n.useState)([]),[x,N]=(0,n.useState)(""),[k,w]=(0,n.useState)(""),[y,b]=(0,n.useState)(0),[A,Y]=(0,n.useState)(null),[M,j]=(0,n.useState)(0),[D,C]=(0,n.useState)(null),[O,F]=(0,n.useState)(null),[U,K]=(0,n.useState)([null,null]);(0,n.useEffect)(()=>{r(x)},[x]),(0,n.useEffect)(()=>{F(null),C(null),Y(null)},[h]),(0,n.useEffect)(()=>{(async()=>{let e=await (0,_.Z)().get("/distance/"),t=null==e?void 0:e.data;if(void 0!==t){let e=[];e.push({value:"",label:"All Data"}),t.map((t,a)=>e.push({value:t.distance,label:t.distance})),E(e)}})()},[]);let R=(e,t)=>{if(null==e?void 0:e[0]){let a=parseInt(f()(e[0]).format("DD")),l=parseInt(f()(e[0]).format("MM")),n=parseInt(f()(e[0]).format("YYYY")),o=parseInt(f()(e[0]).format("HH")),s=parseInt(f()(e[0]).format("mm")),i=parseInt(f()(e[0]).format("ss")),d=parseInt(f()(e[1]).format("DD")),c=parseInt(f()(e[1]).format("MM")),m=parseInt(f()(e[1]).format("YYYY")),p=parseInt(f()(e[1]).format("hh")),h=parseInt(f()(e[1]).format("mm")),u=parseInt(f()(e[1]).format("ss"));N({...x,dateFrom:a,monthFrom:l,yearFrom:n,hourFrom:o,minuteFrom:s,secondFrom:i,dateUntil:d,monthUntil:c,yearUntil:m,hourUntil:p,minuteUntil:h,secondUntil:u,dateStrings:t}),r(x,k,y,A,M)}else r(void 0)};return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"flex flex-col border-none mb-7 mt-2 ml-1",children:[(0,l.jsx)("span",{id:"subject",className:"mb-5 mt-1 text-[14px] font-bold",children:"Periode"}),(0,l.jsxs)("div",{className:"flex flex-wrap",children:[""===d?(0,l.jsx)(S,{allowClear:p,disabled:!!t||!!m,allowEmpty:[!0,!1],className:"".concat(a," mb-3 lg:mr-3"),showTime:c,onChange:R,disabledDate:u}):"rangemonth"===d?(0,l.jsx)(S,{picker:"month",disabled:!!t||!!m,className:"".concat(a," mb-3 lg:mr-3 sm:w-32"),onChange:R,disabledDate:u}):"triwulan"===d?(0,l.jsx)(S,{picker:"month",placeholder:["Start month","End month"],allowEmpty:[!0,!0],allowClear:!0,value:[O?f()(O,"YYYY-MM"):null,D?f()(D,"YYYY-MM"):null],disabled:[!!t||!!m,!0],onChange:(e,t)=>{if(null==e?void 0:e[0]){let a=parseInt(f()(e[0]).format("DD")),l=parseInt(f()(e[0]).format("MM")),n=parseInt(f()(e[0]).format("YYYY")),o=parseInt(f()(e[0]).format("HH")),s=parseInt(f()(e[0]).format("mm")),i=parseInt(f()(e[0]).format("ss")),d=parseInt(f()(e[0]).add(2,"month").format("DD")),c=parseInt(f()(e[0]).add(2,"month").format("MM")),m=parseInt(f()(e[0]).add(2,"month").format("YYYY")),p=parseInt(f()(e[0]).add(2,"month").format("hh")),h=parseInt(f()(e[0]).add(2,"month").format("mm")),u=parseInt(f()(e[0]).add(2,"month").format("ss")),g=f()(e[0]).locale("id").format("MMMM"),E=parseInt(f()(e[0]).format("M")),_=parseInt(f()(e[0]).format("YYYY")),I=parseInt(f()(e[0]).format("DD"));F(f()(null==e?void 0:e[0]).format("YYYY-MM-DD")),C(f()(null==e?void 0:e[0]).add(2,"month").format("YYYY-MM-DD")),w(g),b(E),Y(_),j(I),N({...x,dateFrom:a,monthFrom:l,yearFrom:n,hourFrom:o,minuteFrom:s,secondFrom:i,dateUntil:d,monthUntil:c,yearUntil:m,hourUntil:p,minuteUntil:h,secondUntil:u,month:E,monthNumber:E,year:_,day:I,dateStrings:t}),r(x,k,y,A,M)}else F(null),C(null),r(void 0)},disabledDate:u}):"rangepicker"===d?(0,l.jsx)(S,{allowClear:p,disabled:!!t||!!m,allowEmpty:[!0,!1],className:"".concat(a," mb-3 lg:mr-3"),showTime:c,onChange:R,disabledDate:u}):"year"===d?(0,l.jsx)(I.default,{disabled:!!t||!!m,className:"".concat(a," mb-3 lg:mr-3 sm:w-[500px] w-96"),value:A?f()(A,"YYYY"):null,onChange:(e,t)=>{if(null===e)Y(null),r(A);else{let a=f()(e).locale("id").format("MMMM"),l=parseInt(f()(e).format("M")),n=parseInt(f()(e).format("YYYY")),o=parseInt(f()(e).format("DD"));w(a),b(l),Y(t),j(o),N({...x,month:a,monthNumber:l,year:n,day:o}),r(x,k,y,A,M)}},allowClear:!0,format:"YYYY",picker:"year",disabledDate:u}):(0,l.jsx)(I.default,{disabled:!!t||!!m,className:"".concat(a," mb-3 lg:mr-3 sm:w-[500px] w-96"),onChange:(e,t)=>{let a=f()(e).locale("id").format("MMMM"),l=parseInt(f()(e).format("M")),n=parseInt(f()(e).format("YYYY")),o=parseInt(f()(e).format("DD"));w(a),b(l),Y(n),j(o),N({...x,month:a,monthNumber:l,year:n,day:o}),r(x,k,y,A,M)},picker:d||"month",disabledDate:u}),(0,l.jsx)(v.default,{disabled:!!t||!!m,showSearch:!0,defaultValue:"",className:"".concat(null!=s?s:"hidden"," sm:ml-2 md:w-32 sm-w-32 "),onChange:e=>{i&&i(e)},placeholder:"Select Distance",filterOption:(e,t)=>((null==t?void 0:t.label)||"").toLowerCase().includes((null!=e?e:"").toLowerCase()),options:g.map((e,t)=>({value:e.value,label:"".concat(e.label)}))})]})]})})},D=a(86658);function C(e){let{className:t,loadingBottom:a,loadingExport:m,childrenInput:g,enableSelect:E,onDistanceSelect:x,typeLoading:N,type:k,codeDelete:w,onDelete:y,downloadPdf:b,downloadExcel:A,loading:I,dateChange:v,children:S,data:C,loadingDisable:O,showTime:F,allowClear:U,warning:K,showModalWarn:R,onApprove:W,onChangeTri:T,disabledDate:P,downloadFalse:H,emptyFalse:Z,noTheme:J,codeMenu:z}=e;(0,n.useContext)(p.Z);let[L,B]=(0,n.useState)(),[G,V]=(0,n.useState)(),[q,Q]=(0,n.useState)(),X=o.Z.useApp(),{message:$}=X;(0,r.usePathname)(),(0,n.useEffect)(()=>{var e,t;Q((null==C?void 0:null===(e=C[0])||void 0===e?void 0:e.approved_at)=="-"?null:null==C?void 0:null===(t=C[0])||void 0===t?void 0:t.approved_at)},[C]),(0,n.useEffect)(()=>{B(m)},[m,$]),(0,n.useEffect)(()=>{V(void 0)},[T]);let ee=async()=>{$.open({key:"approve_report",type:"loading",content:"Approveing...",duration:0});let e=await (0,_.Z)().post("report/approve",{code:w,codeMenu:null!=z?z:null,month:2==G.length?Number(f()(G[0]).format("MM")):Number(f()(G).format("MM")),year:2==G.length?Number(f()(G[0]).format("YYYY")):Number(f()(G).format("YYYY"))});(0,M.Z)({res:e,app:X,msgTrue:!0,key:"approve_report"})&&(Q(new Date),W(!0))},et=async()=>{$.open({key:"unapprove_report",type:"loading",content:"Unapproveing...",duration:0});let e=await (0,_.Z)().post("report/unapprove",{code:w,codeMenu:null!=z?z:null,month:2==G.length?Number(f()(G[0]).format("MM")):Number(f()(G).format("MM")),year:2==G.length?Number(f()(G[0]).format("YYYY")):Number(f()(G).format("YYYY"))});(0,M.Z)({res:e,app:X,msgTrue:!0,key:"unapprove_report"})&&(Q(null),W(!1))},ea=async()=>{$.open({key:"delete_report",type:"loading",content:"Deleting...",duration:0});let e=await (0,_.Z)().post("report/delete",{code:w,codeMenu:null!=z?z:null,month:2==G.length?Number(f()(G[0]).format("MM")):Number(f()(G).format("MM")),year:2==G.length?Number(f()(G[0]).format("YYYY")):Number(f()(G).format("YYYY"))});(0,M.Z)({res:e,app:X,msgTrue:!0,key:"delete_report"})&&y(!0)},{systemTheme:el,theme:en}=(0,c.F)();return(0,l.jsx)(s.ZP,{theme:J?void 0:{components:{Table:"dark"===en?{borderColor:"#fff",headerBorderRadius:0,cellPaddingBlock:5}:"system"===en&&"dark"===el?{borderColor:"#fff",headerBorderRadius:0,cellPaddingBlock:5}:{headerBg:"#79c1eb",borderColor:"#000",headerBorderRadius:0,cellPaddingBlock:5}}},componentSize:"large",children:(0,l.jsxs)(h.Zb,{className:"border-none p-7 w-full shadow-md",children:[(0,l.jsxs)("div",{className:g?"flex flex-wrap mb-6":"flex flex-wrap mb-6 justify-between",children:[(0,l.jsx)(j,{allowClear:U,onDistanceSelect:null!=x?x:void 0,enableSelect:E,disabled:N?I:null!=L&&L,typeDatePicker:"rangepicker"===k?"":"triwulan"===k?"triwulan":void 0===k?"month":k,disabledDate:P,className:g?"":"rangepicker"==k?"w-full lg:w-2/3 xl:w-3/4":"w-full md:w-3/4 lg:w-2/4",onDateSelect:e=>{""===e||isNaN(null==e?void 0:e.monthNumber)?(null==e?void 0:e.dateStrings)?(v(e.dateStrings),V(e.dateStrings)):(v(void 0),V(void 0)):"rangepicker"===k?(null==e?void 0:e.dateStrings)&&(v(e.dateStrings),V(e.dateStrings)):(v(f()(e.year+"-"+e.monthNumber+"-01").format("YYYY-MM-DD")),V(f()(e.year+"-"+e.monthNumber+"-01").format("YYYY-MM-DD")))},loadingDisable:O,showTime:F,onChangeTri:T}),g,null!=C&&!!C.length&&G&&!I&&(0,l.jsxs)("div",{className:g?"flex flex-row md:justify-end w-full sm:justify-start md:-mt-32 mt-3 ml-1":"flex flex-row",children:[K&&(0,l.jsx)(i.ZP,{className:"w-6 md:my-12 mr-2",onClick:()=>{R(!0)},icon:(0,l.jsx)(D.Z,{style:{fontSize:"25px",color:"#ebde34"}})}),(0,l.jsx)(Y,{loadingExport:L,trueApprave:w,approve:q,onApprove:ee,onUnapprove:et,onDelete:ea,falseDelete:!w,title:null==w?void 0:w.toLowerCase().replaceAll("_"," "),downloadFalse:H,date:"rangemonth"==k?(null==G?void 0:G[0])===(null==G?void 0:G[1])&&"".concat(f()(G[0]).format("YYYY MMMM")):"".concat(f()(G).format("YYYY MMMM")),downloadPdf:b,downloadExcel:A,loadingDisable:O})]})]}),G&&(0,l.jsx)(l.Fragment,{children:I?(0,l.jsx)(u.Z,{className:"-mt-6"}):(0,l.jsx)("div",{className:" md:-mt-6 overflow-auto w-full",children:(null==C?void 0:C.length)||Z?(0,l.jsx)("div",{className:t,children:S}):(0,l.jsx)(d.Z,{})})}),a]})})}f().locale("id")},5454:function(e,t,a){"use strict";a.d(t,{O:function(){return r}});var l=a(57437),n=a(13498);function r(e){let{className:t,...a}=e;return(0,l.jsx)("div",{className:(0,n.cn)("animate-pulse rounded-lg bg-zinc-300 dark:bg-zinc-800",t),...a})}},16584:function(e,t,a){"use strict";var l=a(57437),n=a(5454);t.Z=e=>{let{className:t}=e;return(0,l.jsx)("div",{className:"flex flex-col w-full  ".concat(t),children:(0,l.jsxs)("div",{className:"bg-white dark:bg-zinc-950 p-6 rounded-2xl",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(n.O,{className:"h-8 md:w-40"}),(0,l.jsx)(n.O,{className:"h-6 md:w-96"})]}),(0,l.jsx)(n.O,{className:"h-10 w-36 rounded-2xl"})]}),(0,l.jsxs)("div",{className:"flex flex-col w-full",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center w-full mt-6 mb-4",children:[(0,l.jsxs)("div",{className:"space-x-2 flex",children:[(0,l.jsx)(n.O,{className:"h-6 md:w-64"}),(0,l.jsx)(n.O,{className:"h-6 w-28"})]}),(0,l.jsx)(n.O,{className:"h-6 w-28 rounded-2xl"})]}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)(n.O,{className:"h-6 w-full"}),(0,l.jsx)(n.O,{className:"h-6 w-full"}),(0,l.jsx)(n.O,{className:"h-6 w-full"}),(0,l.jsx)(n.O,{className:"h-6 w-full"}),(0,l.jsx)(n.O,{className:"h-6 w-full"}),(0,l.jsx)(n.O,{className:"h-6 w-full"}),(0,l.jsx)(n.O,{className:"h-6 w-full"}),(0,l.jsx)(n.O,{className:"h-6 w-full"})]})]})]})})}}},function(e){e.O(0,[2505,3113,8173,9141,2470,3919,8348,2100,4309,5053,5458,2034,9155,7824,428,8421,8028,4052,5325,6487,8378,4746,5141,7642,2971,7023,1744],function(){return e(e.s=39165)}),_N_E=e.O()}]);