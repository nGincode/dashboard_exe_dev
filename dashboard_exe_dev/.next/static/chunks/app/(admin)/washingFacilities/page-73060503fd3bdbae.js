(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[670,1105],{51071:function(e,t,l){Promise.resolve().then(l.bind(l,63458))},63458:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return k}});var a=l(57437),n=l(2265),r=l(16463),o=l(68348),s=l(72100),i=l(38378),c=l(62737),d=l.n(c),m=l(42005),u=l(41105),f=l(71275),h=l(65188);l(65799);var p=l(51470),g=l.n(p);let b=l(61438);d().locale("id");let x=l(8558);d().extend(x),d().extend(g());let v=e=>{let t=1,l="";for(let a=e.length-1;a>=0;a--){let n=e.toUpperCase().charCodeAt(a);if((n+=t)>90?(n=65,t=1):t=0,l=String.fromCharCode(n)+l,!t){l=e.substring(0,a)+l;break}}return t&&(l="A"+l),l};var Y=(e,t,l,a,n,r,o,s)=>{let i="ABCDEFGHIJKLMNOPQRSTUVWXYZ",c=new b.Workbook,m=c.addWorksheet(),u=6;c.creator="NUTECH",c.lastModifiedBy="LRT",c.created=new Date,c.modified=new Date,c.lastPrinted=new Date,m.getCell("A1").value=null==t?void 0:t.n_line_1,m.getCell("A2").value=null==t?void 0:t.n_line_2,m.mergeCells("A3:C3"),m.getCell("A3").value=1==s?"PERIODE : "+d()(e).format("MMMM YYYY").toUpperCase():2==s?"PERIODE : "+d()(e).format("MMMM YYYY").toUpperCase()+" S/D "+d()(e).add(2,"month").format("MMMM YYYY").toUpperCase():"PERIODE : TAHUN "+d()(e).format("YYYY"),m.getCell("A5").value="NO",m.getCell("B5").value="TRAINSET",m.getCell("C5").value="CUCI INTERIOR",m.getCell("A5").fill={type:"pattern",pattern:"solid",fgColor:{argb:"79c1eb"},bgColor:{argb:"79c1eb"}},m.getCell("B5").fill={type:"pattern",pattern:"solid",fgColor:{argb:"79c1eb"},bgColor:{argb:"79c1eb"}},m.getCell("C5").fill={type:"pattern",pattern:"solid",fgColor:{argb:"79c1eb"},bgColor:{argb:"79c1eb"}},m.columns=[{key:"no",width:5},{key:"i_trainset",width:12.57},{key:"i_interior_wash",width:18.71}],m.getColumn("A").key="no",m.getColumn("B").key="i_trainset",m.getColumn("C").key="i_interior_wash";for(let e=0;e<a.length;e++){let t="B";m.getCell("A"+u).value=e+1,e%2==0&&(m.getCell("A"+u).fill={type:"pattern",pattern:"solid",fgColor:{argb:"f5f5f5"},bgColor:{argb:"f5f5f5"}},m.getCell("B"+u).fill={type:"pattern",pattern:"solid",fgColor:{argb:"f5f5f5"},bgColor:{argb:"f5f5f5"}},m.getCell("C"+u).fill={type:"pattern",pattern:"solid",fgColor:{argb:"f5f5f5"},bgColor:{argb:"f5f5f5"}});for(let l=0;l<Object.keys(a[e]).length;l++)m.getCell(t+u).value=a[e][Object.keys(a[e])[l]]?a[e][Object.keys(a[e])[l]]:"-","number"==typeof a[e][Object.keys(a[e])[l]]&&(m.getCell(t+u).numFmt="#,##0"),t=v(t);m.getRow(u).font={size:9,name:"Calibri"},m.getRow(u).alignment={horizontal:"right",vertical:"middle"},u++}let f=m.lastRow._number+1,h=m.lastColumn._number-1;m.mergeCells("A".concat(f,":B").concat(f)),m.getCell("A".concat(f)).value=r,m.getRow("".concat(f)).font={size:9,bold:!0,name:"Calibri"},m.mergeCells("A1:".concat(i.charAt(h),"1")),m.getRow(1).font={size:11,bold:!0,name:"Calibri"},m.mergeCells("A2:".concat(i.charAt(h),"2")),o.map((e,t)=>{m.getCell("".concat(i.charAt(h-(o.length-(t+1)))).concat(f)).value=0==o[t]?"-":o[t],m.getCell("".concat(i.charAt(h-(o.length-(t+1)))).concat(f)).numFmt="#,##0",m.getCell("".concat(i.charAt(h-(o.length-(t+1)))).concat(f)).alignment={horizontal:"center",vertical:"middle"}}),m.getColumn(1).alignment={horizontal:"center"},m.getColumn(2).alignment={horizontal:"left"},m.getColumn(3).alignment={horizontal:"center"},m.getRow(1).alignment={horizontal:"left",vertical:"middle",wrapText:!0},m.getRow(2).alignment={horizontal:"left"},m.getRow(3).alignment={horizontal:"left"},m.getRow(2).font={name:"Calibri",bold:!0},m.getRow(3).font={name:"Calibri",bold:!0},m.getRow(5).font={size:10,name:"Calibri",bold:!0},m.getRow(5).height=24,m.getRow(5).alignment={horizontal:"center",vertical:"middle",wrapText:!0},m.getCell("A".concat(f)).alignment={horizontal:"center",vertical:"middle"};for(let e=5;e<=m.rowCount;e++)for(let t=1;t<=h+1;t++)m.getCell(e,t).border={top:{style:"thin",color:{argb:"000000"}},left:{style:"thin",color:{argb:"000000"}},bottom:{style:"thin",color:{argb:"000000"}},right:{style:"thin",color:{argb:"000000"}}};let p=(null==t?void 0:t.n_position_1).split("AND");return m.getCell("".concat(i.charAt(h-1)).concat(f+3)).value=p[0]?p[0]:null==t?void 0:t.n_position_1,m.getCell("".concat(i.charAt(h-1)).concat(f+4)).value=p[1]?"AND "+p[1]:"",m.getCell("".concat(i.charAt(h-1)).concat(f+8)).value=t.n_name_1,m.getCell("".concat(i.charAt(h-1)).concat(f+9)).value="Nipp. "+t.i_nipp_1,m.getRow(f+3).font={size:10,name:"Calibri"},m.getRow(f+4).font={size:10,name:"Calibri"},m.getRow(f+8).font={size:10,name:"Calibri"},m.getRow(f+9).font={size:10,name:"Calibri"},m.mergeCells("".concat(i.charAt(h-1)).concat(f+3,":").concat(i.charAt(h)).concat(f+3)),m.mergeCells("".concat(i.charAt(h-1)).concat(f+4,":").concat(i.charAt(h)).concat(f+4)),m.mergeCells("".concat(i.charAt(h-1)).concat(f+8,":").concat(i.charAt(h)).concat(f+8)),m.mergeCells("".concat(i.charAt(h-1)).concat(f+9,":").concat(i.charAt(h)).concat(f+9)),m.getCell("".concat(i.charAt(h-1)).concat(f+3)).font={size:10,bold:!0,name:"Calibri"},m.getCell("".concat(i.charAt(h-1)).concat(f+4)).font={size:10,bold:!0,name:"Calibri"},m.getCell("".concat(i.charAt(h-1)).concat(f+8)).font={size:10,bold:!0,name:"Calibri",underline:!0},m.getCell("".concat(i.charAt(h-1)).concat(f+9)).font={size:10,bold:!0,name:"Calibri"},m.getCell("".concat(i.charAt(h-1)).concat(f+3)).alignment={horizontal:"center"},m.getCell("".concat(i.charAt(h-1)).concat(f+4)).alignment={horizontal:"center"},m.getCell("".concat(i.charAt(h-1)).concat(f+8)).alignment={horizontal:"center"},m.getCell("".concat(i.charAt(h-1)).concat(f+9)).alignment={horizontal:"center"},c.xlsx.writeBuffer().then(e=>{let t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),l=window.URL.createObjectURL(t),a=document.createElement("a");document.body.appendChild(a),a.setAttribute("style","display: none"),a.href=l,a.download=n+".xlsx",a.click(),window.URL.revokeObjectURL(l),a.remove()})},w=l(97501),C=l(27824),y=l.n(C),N=l(64746),M=l.n(N),j=l(38797),S=(e,t,l,a,n,r,o,s,i,c)=>{let d=new w.default;d.setFontSize(11),d.setFont("calibri","bold");let m=[];a.map((e,t)=>{m.push(Object.values(a[t]))}),e.split("/");let u=null;y()(d,{startY:10,theme:"plain",margin:{right:70,left:70},bodyStyles:{fontSize:9},body:[[{content:t.n_line_1.toUpperCase(),styles:{halign:"left",fontSize:9,fontStyle:"bold",cellPadding:0}}],[{content:t.n_line_2.toUpperCase(),styles:{halign:"left",fontSize:9,fontStyle:"bold",cellPadding:0}}],[{content:t.n_line_4.toUpperCase()+" : "+e,styles:{halign:"left",fontStyle:"bold",cellPadding:0,fontSize:9}}]]});let f=[];l.map(e=>{void 0!==e.title_val&&f.push(e.title_val)}),y()(d,{startY:23,theme:"striped",margin:{right:70,left:70},headStyles:{lineWidth:.2,lineColor:[0,0,0],fillColor:[121,193,235],textColor:[0,0,0],halign:"center",valign:"middle",fontSize:8},bodyStyles:{lineWidth:.2,lineColor:[0,0,0],fontSize:7},head:[f],body:[...null==a?void 0:a.map((e,t)=>[t+1,e.trainset,e.cuci_interior?e.cuci_interior:"-"]),[{content:r,colSpan:2,fontStyle:"bold"},...o.map((e,t)=>[0==o[t]?"-":M()(o[t]).format("0,0")])]],columnStyles:{0:{halign:"center"},1:{halign:"left"},2:{halign:"center"}},didParseCell:function(e){u=e.table;var t=e.table.body;"body"===e.section&&e.row.index===t.length-1&&(e.cell.styles.fontStyle="bold"),e.cell&&"head"===e.cell.section&&(e.cell.raw,e.cell.styles.halign="center")}}),t.n_position_1.split("AND"),d.lastAutoTable.finalY,(0,j.Zc)({autoTable:y(),doc:d,globalState:i,tableMeta:u,reportType:t,landscape:"p",pageSize:[210,297],position:{column:2,underlinePadding:-1,paddingTop:-2,marginLeft:-48}}),d.save(n+".pdf")},A=l(30939);function k(){let e=(0,n.useContext)(f.Z),t=(0,r.usePathname)(),l=o.Z.useApp(),{message:c,notification:p,modal:g}=l,[b,x]=(0,n.useState)(null),[v,w]=(0,n.useState)([]),[C,y]=(0,n.useState)([]),[N,M]=(0,n.useState)(!1),[k,D]=(0,n.useState)(0),[T,_]=(0,n.useState)(0),I=new Intl.NumberFormat("id-ID",{style:"decimal",maximumFractionDigits:2}),[O,U]=(0,n.useState)([1,"rangepicker"]);(0,n.useEffect)(()=>{(async()=>{let e=await (0,m.Z)().get("report-type/WASHING_FACILITIES");(0,A.Z)({res:e,app:l})&&w(e.data)})()},[l]),(0,n.useEffect)(()=>{let e=d()(b).format("YYYY"),t=d()(b).format("MM");"year"==O[1]&&(t="01"),M(!0),null!==b?(async()=>{let a=await (0,m.Z)().get("report/washing-facilities?month="+t+"&year="+e+"&status="+O[0]);(0,A.Z)({res:a,app:l})&&y(a.data),M(!1)})():y([])},[O,b,k,l]);let z=[{title:"NO",key:"no",dataIndex:"no",render:(e,t,l)=>l+1,align:"center",width:"3%"},{title:"TRAINSET",key:"i_trainset",name:"i_trainset",align:"left",dataIndex:"i_trainset"},{title:"CUCI INTERIOR",key:"i_interior_wash",name:"i_interior_wash",dataIndex:"i_interior_wash",align:"center",render:e=>0==e?"-":I.format(e)}],R=(t,l,a,n,r)=>{let o=d()(t).format("MMMM/YYYY"),s=o.split("/"),i="",c="";1==O[0]?(i="TOTAL PER BULAN",o=d()(t).format("MMMM YYYY").toUpperCase(),c=l.n_line_1+" "+s[0].toUpperCase()+" "+s[1]):(2==O[0]?(i="TOTAL PER TRIWULAN",o=d()(t).format("MMMM YYYY").toUpperCase()+" S/D "+d()(t).add(2,"month").format("MMMM YYYY").toUpperCase()):(i="TOTAL PER TAHUN",o="TAHUN "+d()(t).format("YYYY")),c=l.n_line_1+" "+o);let m=[],u=[],f=0;if(Object.keys(n).forEach(e=>{u.push({trainset:n[e].i_trainset,cuci_interior:n[e].i_interior_wash}),f+=n[e].i_interior_wash}),m.push(f),"excel"==r)Y(t,l,a,u,c,i,m,O[0]);else if("pdf"==r){var h,p;S(o,l,a,u,c,i,m,null==e?void 0:null===(p=e.dataUser)||void 0===p?void 0:null===(h=p.user)||void 0===h?void 0:h.fullname,e,O[0])}},[E,Z]=(0,n.useState)(!1),$=async e=>{Z(!0);let t=async()=>{try{return"pdf"==e?R(b,v,j.x4.web.headerTable(z),C,"pdf"):R(b,v,j.x4.web.headerTable(z),C,"excel"),!0}catch(e){return!1}};setTimeout(async()=>{await t()?setTimeout(()=>{c.open({type:"success",content:(0,a.jsx)("span",{className:" capitalize",children:"Export Success"})}),Z(!1)},1e3):setTimeout(()=>{c.open({type:"error",content:(0,a.jsx)("span",{className:" capitalize",children:"Export Invalid"})}),Z(!1)},1e3)},500)};return(0,a.jsx)(h.Z,{pathname:t,globalState:e,children:(0,a.jsx)(u.Z,{type:1==O[0]?"month":2==O[0]?"triwulan":"year",className:" flex justify-center",loadingExport:E,childrenInput:(0,a.jsxs)("div",{className:"flex flex-col max-md:w-full ml-2",children:[(0,a.jsx)("span",{id:"subject",className:"mb-5 mt-3  text-[14px]",children:"Tipe"}),(0,a.jsx)(s.default,{disabled:E,placeholder:"Select Filter",onChange:e=>{_(T+1),y([]);let t="",l=0;"rangepicker"==e?(t="rangepicker",l=1):"triwulan"==e?(t="month",l=2):(t="year",l=3),U([l,t])},defaultValue:"Per Bulan",className:"max-md:w-full",options:[{value:"rangepicker",label:"Per Bulan"},{value:"triwulan",label:"Per Triwulan"},{value:"year",label:"Per Tahun"}]})]}),data:C,loading:N,dateChange:e=>{e&&x(d()(e).format("YYYY-MM"))},downloadPdf:()=>$("pdf"),downloadExcel:()=>$("excel"),codeDelete:1==O[0]?"WASHING_FACILITIES":"",onDelete:()=>{D(k+1)},onChangeTri:T,children:(0,a.jsxs)("div",{className:" w-[350px]",children:[j.x4.web.header(v,1==O[0]?"PERIODE : "+d()(b).format("MMMM YYYY"):2==O[0]?"PERIODE : "+d()(b).format("MMMM YYYY")+" S/D "+d()(b).add(2,"month").format("MMMM YYYY"):"PERIODE : TAHUN "+d()(b).format("YYYY")),(0,a.jsx)(i.Z,{rowClassName:j.x4.web.striped,bordered:!0,rowKey:"i_id",className:"",columns:j.x4.web.headerTable(z),dataSource:C,pagination:!1,summary:e=>{let t=0;return e.forEach(e=>{let{i_interior_wash:l}=e;t+=l}),(0,a.jsxs)(i.Z.Summary.Row,{className:"font-bold",children:[(0,a.jsx)(i.Z.Summary.Cell,{index:0,colSpan:2,align:"center",children:1==O[0]?"TOTAL PER BULAN":2==O[0]?"TOTAL PER TRIWULAN":"TOTAL PER TAHUN"}),(0,a.jsx)(i.Z.Summary.Cell,{index:1,align:"center",children:0==t?"-":I.format(t)})]},"1")}})]})})})}},57608:function(e,t,l){"use strict";l.d(t,{Ol:function(){return s},SZ:function(){return c},Zb:function(){return o},aY:function(){return d},ll:function(){return i}});var a=l(57437),n=l(2265),r=l(13498);let o=n.forwardRef((e,t)=>{let{className:l,classNameFalse:n,...o}=e;return(0,a.jsx)("div",{ref:t,className:n?l:(0,r.cn)("rounded-2xl my-2 border border-zinc-200 bg-white text-zinc-950 shadow dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",l),...o})});o.displayName="Card",n.forwardRef((e,t)=>{let{className:l,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("rounded-2xl border border-zinc-200 bg-white text-zinc-950 shadow dark:border-zinc-800 dark:bg-zinc-900 dark:text-zinc-50",l),...n})}).displayName="Card900";let s=n.forwardRef((e,t)=>{let{className:l,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 px-6 py-3  rounded-t-2xl  bg-white dark:bg-black",l),...n})});s.displayName="CardHeader";let i=n.forwardRef((e,t)=>{let{className:l,...n}=e;return(0,a.jsx)("h3",{ref:t,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",l),...n})});i.displayName="CardTitle";let c=n.forwardRef((e,t)=>{let{className:l,...n}=e;return(0,a.jsx)("p",{ref:t,className:(0,r.cn)("text-sm text-zinc-500 dark:text-zinc-400 ",l),...n})});c.displayName="CardDescription";let d=n.forwardRef((e,t)=>{let{className:l,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("p-6 pt-5 bg-white dark:bg-black rounded-b-2xl",l),...n})});d.displayName="CardContent",n.forwardRef((e,t)=>{let{className:l,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",l),...n})}).displayName="CardFooter"},41105:function(e,t,l){"use strict";l.d(t,{Z:function(){return I}});var a=l(57437),n=l(2265),r=l(16463),o=l(68348),s=l(62586),i=l(46682),c=l(62575),d=l(85169),m=l(62737),u=l.n(m);l(65799);var f=l(71275),h=l(57608),p=l(16584),g=l(32034),b=l(23288),x=l(85313),v=l(90696),Y=l(9707),w=l(66407),C=l(63843),y=l(99945),N=l(73717),M=e=>{let{downloadFalse:t,loadingExport:l,trueApprave:r,downloadPdf:s,downloadExcel:c,title:d,onDelete:m,falseDelete:u,date:h,approve:p,onApprove:M,onUnapprove:j,loadingDisable:S}=e,A=(0,n.useContext)(f.Z),[k,D]=(0,n.useState)([]),[T,_]=(0,n.useState)([]),{message:I,notification:O,modal:U}=o.Z.useApp(),{confirm:z}=U;return(0,n.useEffect)(()=>{var e,l,n,o,i;let f=[],g=[];(null==A?void 0:null===(e=A.permission)||void 0===e?void 0:e.indexOf("export excel"))!==-1&&c&&!t&&f.push({key:"excel",label:(0,a.jsx)("a",{className:"w-full text-left",onClick:c,children:"Excel"}),icon:(0,a.jsx)(x.Z,{style:{color:"green"}}),className:"h-10"}),(null==A?void 0:null===(l=A.permission)||void 0===l?void 0:l.indexOf("export pdf"))!==-1&&s&&!t&&f.push({key:"pdf",label:(0,a.jsx)("a",{className:"w-full text-left",onClick:s,children:"PDF"}),icon:(0,a.jsx)(v.Z,{style:{color:"red"}}),className:"h-10"}),(null==A?void 0:null===(n=A.permission)||void 0===n?void 0:n.indexOf("delete"))===-1||u||g.push({key:"delete",label:(0,a.jsx)("a",{className:"w-full text-left",onClick:()=>{z({title:"Delete data?",icon:(0,a.jsx)(Y.Z,{}),content:"Are you sure want to delete this ".concat(d," data in ").concat(h," ?"),okText:"Yes",okType:"danger",cancelText:"No",onOk(){m(!0)}})},children:"Delete"}),icon:(0,a.jsx)(Y.Z,{style:{color:"red"}}),className:"h-10"}),h&&(p?(null==A?void 0:null===(i=A.permission)||void 0===i?void 0:i.indexOf("unapprove"))!==-1&&r&&g.push({key:"unapprove",label:(0,a.jsx)("a",{className:"w-full text-left",onClick:()=>{z({title:"Unapprove data?",icon:(0,a.jsx)(C.Z,{}),content:"Are you sure want to Unapprove this ".concat(d," data in ").concat(h," ?"),okText:"Yes",okType:"danger",cancelText:"No",onOk(){j(!0)}})},children:"Unapprove"}),icon:(0,a.jsx)(C.Z,{style:{color:"red"}}),className:"h-10"}):(null==A?void 0:null===(o=A.permission)||void 0===o?void 0:o.indexOf("approve"))!==-1&&r&&g.push({key:"approve",label:(0,a.jsx)("a",{className:"w-full text-left",onClick:()=>{z({title:"Approve data?",icon:(0,a.jsx)(w.Z,{style:{color:"green"}}),content:"Are you sure want to Approve this ".concat(d," data in ").concat(h," ?"),okText:"Yes",cancelText:"No",onOk(){M(!0)}})},children:"Approve"}),icon:(0,a.jsx)(w.Z,{style:{color:"green"}}),className:"h-10"})),D(f),_(g)},[z,t,r,u,A,d,h,m,s,c,p,M,j]),(0,a.jsxs)(a.Fragment,{children:[T.length?(0,a.jsx)("div",{className:"",children:(0,a.jsx)(g.Z,{className:"md:mt-12 float-right mr-4",disabled:l,menu:{items:T},children:(0,a.jsx)(i.ZP,{children:(0,a.jsxs)(b.Z,{children:[(0,a.jsx)(y.Z,{})," Opsi"]})})})}):null,k.length?(0,a.jsx)("div",{className:"",children:(0,a.jsx)(g.Z,{className:"md:mt-12 float-right",disabled:!!l||!!S,menu:{items:k},children:(0,a.jsx)(i.ZP,{loading:l,children:(0,a.jsxs)(b.Z,{children:[l?"":(0,a.jsx)(N.Z,{})," Export"]})})})}):null]})},j=l(42005),S=l(30939),A=l(95053),k=l(72100);let{RangePicker:D}=A.default;var T=e=>{let{disabled:t,className:l,onDateSelect:r,widthDate:o,enableSelect:s,onDistanceSelect:i,typeDatePicker:c,showTime:d,loadingDisable:m,allowClear:f,onChangeTri:h,disabledDate:p}=e,[g,b]=(0,n.useState)([]),[x,v]=(0,n.useState)(""),[Y,w]=(0,n.useState)(""),[C,y]=(0,n.useState)(0),[N,M]=(0,n.useState)(null),[S,T]=(0,n.useState)(0),[_,I]=(0,n.useState)(null),[O,U]=(0,n.useState)(null),[z,R]=(0,n.useState)([null,null]);(0,n.useEffect)(()=>{r(x)},[x]),(0,n.useEffect)(()=>{U(null),I(null),M(null)},[h]),(0,n.useEffect)(()=>{(async()=>{let e=await (0,j.Z)().get("/distance/"),t=null==e?void 0:e.data;if(void 0!==t){let e=[];e.push({value:"",label:"All Data"}),t.map((t,l)=>e.push({value:t.distance,label:t.distance})),b(e)}})()},[]);let E=(e,t)=>{if(null==e?void 0:e[0]){let l=parseInt(u()(e[0]).format("DD")),a=parseInt(u()(e[0]).format("MM")),n=parseInt(u()(e[0]).format("YYYY")),o=parseInt(u()(e[0]).format("HH")),s=parseInt(u()(e[0]).format("mm")),i=parseInt(u()(e[0]).format("ss")),c=parseInt(u()(e[1]).format("DD")),d=parseInt(u()(e[1]).format("MM")),m=parseInt(u()(e[1]).format("YYYY")),f=parseInt(u()(e[1]).format("hh")),h=parseInt(u()(e[1]).format("mm")),p=parseInt(u()(e[1]).format("ss"));v({...x,dateFrom:l,monthFrom:a,yearFrom:n,hourFrom:o,minuteFrom:s,secondFrom:i,dateUntil:c,monthUntil:d,yearUntil:m,hourUntil:f,minuteUntil:h,secondUntil:p,dateStrings:t}),r(x,Y,C,N,S)}else r(void 0)};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex flex-col border-none mb-7 mt-2 ml-1",children:[(0,a.jsx)("span",{id:"subject",className:"mb-5 mt-1 text-[14px] font-bold",children:"Periode"}),(0,a.jsxs)("div",{className:"flex flex-wrap",children:[""===c?(0,a.jsx)(D,{allowClear:f,disabled:!!t||!!m,allowEmpty:[!0,!1],className:"".concat(l," mb-3 lg:mr-3"),showTime:d,onChange:E,disabledDate:p}):"rangemonth"===c?(0,a.jsx)(D,{picker:"month",disabled:!!t||!!m,className:"".concat(l," mb-3 lg:mr-3 sm:w-32"),onChange:E,disabledDate:p}):"triwulan"===c?(0,a.jsx)(D,{picker:"month",placeholder:["Start month","End month"],allowEmpty:[!0,!0],allowClear:!0,value:[O?u()(O,"YYYY-MM"):null,_?u()(_,"YYYY-MM"):null],disabled:[!!t||!!m,!0],onChange:(e,t)=>{if(null==e?void 0:e[0]){let l=parseInt(u()(e[0]).format("DD")),a=parseInt(u()(e[0]).format("MM")),n=parseInt(u()(e[0]).format("YYYY")),o=parseInt(u()(e[0]).format("HH")),s=parseInt(u()(e[0]).format("mm")),i=parseInt(u()(e[0]).format("ss")),c=parseInt(u()(e[0]).add(2,"month").format("DD")),d=parseInt(u()(e[0]).add(2,"month").format("MM")),m=parseInt(u()(e[0]).add(2,"month").format("YYYY")),f=parseInt(u()(e[0]).add(2,"month").format("hh")),h=parseInt(u()(e[0]).add(2,"month").format("mm")),p=parseInt(u()(e[0]).add(2,"month").format("ss")),g=u()(e[0]).locale("id").format("MMMM"),b=parseInt(u()(e[0]).format("M")),j=parseInt(u()(e[0]).format("YYYY")),A=parseInt(u()(e[0]).format("DD"));U(u()(null==e?void 0:e[0]).format("YYYY-MM-DD")),I(u()(null==e?void 0:e[0]).add(2,"month").format("YYYY-MM-DD")),w(g),y(b),M(j),T(A),v({...x,dateFrom:l,monthFrom:a,yearFrom:n,hourFrom:o,minuteFrom:s,secondFrom:i,dateUntil:c,monthUntil:d,yearUntil:m,hourUntil:f,minuteUntil:h,secondUntil:p,month:b,monthNumber:b,year:j,day:A,dateStrings:t}),r(x,Y,C,N,S)}else U(null),I(null),r(void 0)},disabledDate:p}):"rangepicker"===c?(0,a.jsx)(D,{allowClear:f,disabled:!!t||!!m,allowEmpty:[!0,!1],className:"".concat(l," mb-3 lg:mr-3"),showTime:d,onChange:E,disabledDate:p}):"year"===c?(0,a.jsx)(A.default,{disabled:!!t||!!m,className:"".concat(l," mb-3 lg:mr-3 sm:w-[500px] w-96"),value:N?u()(N,"YYYY"):null,onChange:(e,t)=>{if(null===e)M(null),r(N);else{let l=u()(e).locale("id").format("MMMM"),a=parseInt(u()(e).format("M")),n=parseInt(u()(e).format("YYYY")),o=parseInt(u()(e).format("DD"));w(l),y(a),M(t),T(o),v({...x,month:l,monthNumber:a,year:n,day:o}),r(x,Y,C,N,S)}},allowClear:!0,format:"YYYY",picker:"year",disabledDate:p}):(0,a.jsx)(A.default,{disabled:!!t||!!m,className:"".concat(l," mb-3 lg:mr-3 sm:w-[500px] w-96"),onChange:(e,t)=>{let l=u()(e).locale("id").format("MMMM"),a=parseInt(u()(e).format("M")),n=parseInt(u()(e).format("YYYY")),o=parseInt(u()(e).format("DD"));w(l),y(a),M(n),T(o),v({...x,month:l,monthNumber:a,year:n,day:o}),r(x,Y,C,N,S)},picker:c||"month",disabledDate:p}),(0,a.jsx)(k.default,{disabled:!!t||!!m,showSearch:!0,defaultValue:"",className:"".concat(null!=s?s:"hidden"," sm:ml-2 md:w-32 sm-w-32 "),onChange:e=>{i&&i(e)},placeholder:"Select Distance",filterOption:(e,t)=>((null==t?void 0:t.label)||"").toLowerCase().includes((null!=e?e:"").toLowerCase()),options:g.map((e,t)=>({value:e.value,label:"".concat(e.label)}))})]})]})})},_=l(86658);function I(e){let{className:t,loadingBottom:l,loadingExport:m,childrenInput:g,enableSelect:b,onDistanceSelect:x,typeLoading:v,type:Y,codeDelete:w,onDelete:C,downloadPdf:y,downloadExcel:N,loading:A,dateChange:k,children:D,data:I,loadingDisable:O,showTime:U,allowClear:z,warning:R,showModalWarn:E,onApprove:Z,onChangeTri:$,disabledDate:P,downloadFalse:F,emptyFalse:L,noTheme:B,codeMenu:H}=e;(0,n.useContext)(f.Z);let[W,G]=(0,n.useState)(),[V,K]=(0,n.useState)(),[J,Q]=(0,n.useState)(),X=o.Z.useApp(),{message:q}=X;(0,r.usePathname)(),(0,n.useEffect)(()=>{var e,t;Q((null==I?void 0:null===(e=I[0])||void 0===e?void 0:e.approved_at)=="-"?null:null==I?void 0:null===(t=I[0])||void 0===t?void 0:t.approved_at)},[I]),(0,n.useEffect)(()=>{G(m)},[m,q]),(0,n.useEffect)(()=>{K(void 0)},[$]);let ee=async()=>{q.open({key:"approve_report",type:"loading",content:"Approveing...",duration:0});let e=await (0,j.Z)().post("report/approve",{code:w,codeMenu:null!=H?H:null,month:2==V.length?Number(u()(V[0]).format("MM")):Number(u()(V).format("MM")),year:2==V.length?Number(u()(V[0]).format("YYYY")):Number(u()(V).format("YYYY"))});(0,S.Z)({res:e,app:X,msgTrue:!0,key:"approve_report"})&&(Q(new Date),Z(!0))},et=async()=>{q.open({key:"unapprove_report",type:"loading",content:"Unapproveing...",duration:0});let e=await (0,j.Z)().post("report/unapprove",{code:w,codeMenu:null!=H?H:null,month:2==V.length?Number(u()(V[0]).format("MM")):Number(u()(V).format("MM")),year:2==V.length?Number(u()(V[0]).format("YYYY")):Number(u()(V).format("YYYY"))});(0,S.Z)({res:e,app:X,msgTrue:!0,key:"unapprove_report"})&&(Q(null),Z(!1))},el=async()=>{q.open({key:"delete_report",type:"loading",content:"Deleting...",duration:0});let e=await (0,j.Z)().post("report/delete",{code:w,codeMenu:null!=H?H:null,month:2==V.length?Number(u()(V[0]).format("MM")):Number(u()(V).format("MM")),year:2==V.length?Number(u()(V[0]).format("YYYY")):Number(u()(V).format("YYYY"))});(0,S.Z)({res:e,app:X,msgTrue:!0,key:"delete_report"})&&C(!0)},{systemTheme:ea,theme:en}=(0,d.F)();return(0,a.jsx)(s.ZP,{theme:B?void 0:{components:{Table:"dark"===en?{borderColor:"#fff",headerBorderRadius:0,cellPaddingBlock:5}:"system"===en&&"dark"===ea?{borderColor:"#fff",headerBorderRadius:0,cellPaddingBlock:5}:{headerBg:"#79c1eb",borderColor:"#000",headerBorderRadius:0,cellPaddingBlock:5}}},componentSize:"large",children:(0,a.jsxs)(h.Zb,{className:"border-none p-7 w-full shadow-md",children:[(0,a.jsxs)("div",{className:g?"flex flex-wrap mb-6":"flex flex-wrap mb-6 justify-between",children:[(0,a.jsx)(T,{allowClear:z,onDistanceSelect:null!=x?x:void 0,enableSelect:b,disabled:v?A:null!=W&&W,typeDatePicker:"rangepicker"===Y?"":"triwulan"===Y?"triwulan":void 0===Y?"month":Y,disabledDate:P,className:g?"":"rangepicker"==Y?"w-full lg:w-2/3 xl:w-3/4":"w-full md:w-3/4 lg:w-2/4",onDateSelect:e=>{""===e||isNaN(null==e?void 0:e.monthNumber)?(null==e?void 0:e.dateStrings)?(k(e.dateStrings),K(e.dateStrings)):(k(void 0),K(void 0)):"rangepicker"===Y?(null==e?void 0:e.dateStrings)&&(k(e.dateStrings),K(e.dateStrings)):(k(u()(e.year+"-"+e.monthNumber+"-01").format("YYYY-MM-DD")),K(u()(e.year+"-"+e.monthNumber+"-01").format("YYYY-MM-DD")))},loadingDisable:O,showTime:U,onChangeTri:$}),g,null!=I&&!!I.length&&V&&!A&&(0,a.jsxs)("div",{className:g?"flex flex-row md:justify-end w-full sm:justify-start md:-mt-32 mt-3 ml-1":"flex flex-row",children:[R&&(0,a.jsx)(i.ZP,{className:"w-6 md:my-12 mr-2",onClick:()=>{E(!0)},icon:(0,a.jsx)(_.Z,{style:{fontSize:"25px",color:"#ebde34"}})}),(0,a.jsx)(M,{loadingExport:W,trueApprave:w,approve:J,onApprove:ee,onUnapprove:et,onDelete:el,falseDelete:!w,title:null==w?void 0:w.toLowerCase().replaceAll("_"," "),downloadFalse:F,date:"rangemonth"==Y?(null==V?void 0:V[0])===(null==V?void 0:V[1])&&"".concat(u()(V[0]).format("YYYY MMMM")):"".concat(u()(V).format("YYYY MMMM")),downloadPdf:y,downloadExcel:N,loadingDisable:O})]})]}),V&&(0,a.jsx)(a.Fragment,{children:A?(0,a.jsx)(p.Z,{className:"-mt-6"}):(0,a.jsx)("div",{className:" md:-mt-6 overflow-auto w-full",children:(null==I?void 0:I.length)||L?(0,a.jsx)("div",{className:t,children:D}):(0,a.jsx)(c.Z,{})})}),l]})})}u().locale("id")},5454:function(e,t,l){"use strict";l.d(t,{O:function(){return r}});var a=l(57437),n=l(13498);function r(e){let{className:t,...l}=e;return(0,a.jsx)("div",{className:(0,n.cn)("animate-pulse rounded-lg bg-zinc-300 dark:bg-zinc-800",t),...l})}},16584:function(e,t,l){"use strict";var a=l(57437),n=l(5454);t.Z=e=>{let{className:t}=e;return(0,a.jsx)("div",{className:"flex flex-col w-full  ".concat(t),children:(0,a.jsxs)("div",{className:"bg-white dark:bg-zinc-950 p-6 rounded-2xl",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.O,{className:"h-8 md:w-40"}),(0,a.jsx)(n.O,{className:"h-6 md:w-96"})]}),(0,a.jsx)(n.O,{className:"h-10 w-36 rounded-2xl"})]}),(0,a.jsxs)("div",{className:"flex flex-col w-full",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center w-full mt-6 mb-4",children:[(0,a.jsxs)("div",{className:"space-x-2 flex",children:[(0,a.jsx)(n.O,{className:"h-6 md:w-64"}),(0,a.jsx)(n.O,{className:"h-6 w-28"})]}),(0,a.jsx)(n.O,{className:"h-6 w-28 rounded-2xl"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(n.O,{className:"h-6 w-full"}),(0,a.jsx)(n.O,{className:"h-6 w-full"}),(0,a.jsx)(n.O,{className:"h-6 w-full"}),(0,a.jsx)(n.O,{className:"h-6 w-full"}),(0,a.jsx)(n.O,{className:"h-6 w-full"}),(0,a.jsx)(n.O,{className:"h-6 w-full"}),(0,a.jsx)(n.O,{className:"h-6 w-full"}),(0,a.jsx)(n.O,{className:"h-6 w-full"})]})]})]})})}},8558:function(e){var t;t=function(){"use strict";var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,l=/([+-]|\d\d)/g;return function(a,n,r){var o=n.prototype;r.utc=function(e){var t={date:e,utc:!0,args:arguments};return new n(t)},o.utc=function(t){var l=r(this.toDate(),{locale:this.$L,utc:!0});return t?l.add(this.utcOffset(),e):l},o.local=function(){return r(this.toDate(),{locale:this.$L,utc:!1})};var s=o.parse;o.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),s.call(this,e)};var i=o.init;o.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else i.call(this)};var c=o.utcOffset;o.utcOffset=function(a,n){var r=this.$utils().u;if(r(a))return this.$u?0:r(this.$offset)?c.call(this):this.$offset;if("string"==typeof a&&null===(a=function(e){void 0===e&&(e="");var a=e.match(t);if(!a)return null;var n=(""+a[0]).match(l)||["-",0,0],r=n[0],o=60*+n[1]+ +n[2];return 0===o?0:"+"===r?o:-o}(a)))return this;var o=16>=Math.abs(a)?60*a:a,s=this;if(n)return s.$offset=o,s.$u=0===a,s;if(0!==a){var i=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(s=this.local().add(o+i,e)).$offset=o,s.$x.$localOffset=i}else s=this.utc();return s};var d=o.format;o.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return d.call(this,t)},o.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},o.isUTC=function(){return!!this.$u},o.toISOString=function(){return this.toDate().toISOString()},o.toString=function(){return this.toDate().toUTCString()};var m=o.toDate;o.toDate=function(e){return"s"===e&&this.$offset?r(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():m.call(this)};var u=o.diff;o.diff=function(e,t,l){if(e&&this.$u===e.$u)return u.call(this,e,t,l);var a=this.local(),n=r(e).local();return u.call(a,n,t,l)}}},e.exports=t()}},function(e){e.O(0,[2505,3113,8173,9141,2470,3919,8348,2100,4309,5053,5458,2034,9155,7824,428,8421,8028,4052,5325,6487,8378,4746,5141,7642,2971,7023,1744],function(){return e(e.s=51071)}),_N_E=e.O()}]);