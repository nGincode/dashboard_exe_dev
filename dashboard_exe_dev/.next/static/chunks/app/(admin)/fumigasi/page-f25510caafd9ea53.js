(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9607,1105],{50860:function(e,t,l){Promise.resolve().then(l.bind(l,28566))},28566:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return I}});var n=l(57437),a=l(16463),o=l(2265),r=l(71275),c=l(65188),s=l(61438),i=l(97501),d=l(62737),u=l.n(d),m=l(30252),f=l(68348),p=l(72100),g=l(77733),h=l(95381),x=l(38378),b=l(22599),y=l.n(b),v=l(64746),w=l.n(v),C=l(42005),Y=l(41105),j=l(30939),N=l(38797);let{Text:M,Title:S}=m.default;var k=()=>{let e=f.Z.useApp(),{message:t,notification:l,modal:a}=e,[c,d]=(0,o.useState)(),[m,b]=(0,o.useState)(!1),[v,S]=(0,o.useState)(),[k,I]=(0,o.useState)(),[O,A]=(0,o.useState)(null),D=(0,o.useContext)(r.Z),[Z,E]=(0,o.useState)([1,"rangepicker"]),[z,T]=(0,o.useState)("TOTAL PER BULAN"),[R,_]=(0,o.useState)(0),F=new Intl.NumberFormat("id-ID",{style:"decimal",maximumFractionDigits:2});(0,o.useEffect)(()=>{let t=async()=>{let t=await (0,C.Z)().get("report-type/FUMIGASI"),l="",n="";if(2==Z[0]){let e=u()(k).add(2,"month");l=u()(k).format("YYYY-MM-DD").toUpperCase(),n=u()(e).format("YYYY-MM-DD"),A("".concat(u()(l).format("MMMM YYYY").toUpperCase()," S/D ").concat(u()(n).format("MMMM YYYY").toUpperCase())),T("TOTAL PER TRIWULAN")}else 1==Z[0]?(l=u()(k).format("YYYY-MM-DD"),n=u()(k).format("YYYY-MM-DD"),A("".concat(u()(l).format("MMMM YYYY").toUpperCase())),T("TOTAL PER BULAN")):3==Z[0]&&(l="".concat(u()(k).format("YYYY"),"-01-01"),n="".concat(u()(k).format("YYYY"),"-12-01"),A("TAHUN ".concat(u()(l).format("YYYY").toUpperCase())),T("TOTAL PER TAHUN"));let a=await (0,C.Z)().get("report/fumigasi?start_date="+l+"&end_date="+n);(0,j.Z)({res:a,app:e})&&(a.data.length?d(a.data.map((e,t)=>({no:t+1,key:t,trainset:e.i_trainset,bulan:e.i_total_month}))):d(void 0)),(0,j.Z)({res:t,app:e})&&S(null==t?void 0:t.data),b(!1)};k&&(b(!0),t())},[k,Z,e]);let P=async(e,t)=>{new i.default;let l=0;for(let t=0;t<e.length;t++){var n;l+=Number("".concat(null!==(n=e[t].bulan)&&void 0!==n?n:0).replaceAll("Rp ","").replaceAll(".",""))}let a="PERIODE : "+O;N.x4.pdf({globalState:D,reportType:t,date:a,positionSignature:{column:2,underlinePadding:-2,paddingTop:-1,marginLeft:-43,fontSize:8},headStyle:{cellPadding:1,marginLeft:70,marginRight:60},columnStyles:{0:{cellWidth:10},1:{cellWidth:25},2:{cellWidth:40}},dataHead:[[{content:"NO",styles:{fontSize:8}},{content:"TRAINSET",styles:{fontSize:8}},{content:"REALISASI FUMIGASI",styles:{fontSize:8}}]],dataBody:[...G.map((e,t)=>[{content:t+1,styles:{valign:"middle",halign:"center",fontSize:7}},{content:e.trainset,styles:{valign:"middle",halign:"left",fontSize:7}},{content:0==e.bulan?"-":w()(e.bulan).format("0,0"),styles:{valign:"middle",halign:"center",fontSize:7}}]),[{content:"".concat(z),colSpan:2,styles:{fontStyle:"bold",valign:"middle",halign:"center",fontSize:7}},{content:"".concat(0==l?"-":w()(l).format("0,0")),styles:{fontStyle:"bold",valign:"middle",halign:"center",fontSize:7}}]],nameFile:t.n_line_1+" "+O})},U=async(e,t)=>{let l=new s.Workbook,n=l.addWorksheet("Sheet 1");u()("".concat(u()(k).format("YYYY"),"-").concat(u()(k).format("MM"),"-01")).format("MMMM"),t.n_line_3.split(" "),t.n_position_1.split(" "),n.mergeCells("A1:C1"),n.getCell("A1").value=t.n_line_1,n.mergeCells("A2:C2"),n.getCell("A2").value=t.n_line_2,n.mergeCells("A3:C3"),n.getCell("A3").value="PERIODE : ".concat(O),n.getCell("A5").value="NO",n.getCell("B5").value="TRAINSET",n.getCell("C5").value="REALISASI FUMIGASI",n.columns=[{key:"no"},{key:"trainset",width:15},{key:"bulan",width:20}],n.getColumn("A").key="no",n.getColumn("B").key="trainset",n.getColumn("C").key="bulan",e.forEach(function(e,t){n.addRow({no:t+1,trainset:e.trainset,bulan:0==e.bulan?"-":e.bulan})});let a=n.rowCount;for(let e=6;e<=a;e++)n.getCell("A".concat(e)).alignment={horizontal:"center"},n.getCell("B".concat(e)).alignment={horizontal:"left"},n.getCell("C".concat(e)).alignment={horizontal:"center"},n.getCell("A".concat(e)).font={size:9},n.getCell("B".concat(e)).font={size:9},n.getCell("C".concat(e)).font={size:9},e%2!=0&&(n.getCell("A".concat(e)).fill={type:"pattern",pattern:"solid",fgColor:{argb:"F5F5F5"}},n.getCell("B".concat(e)).fill={type:"pattern",pattern:"solid",fgColor:{argb:"F5F5F5"}},n.getCell("C".concat(e)).fill={type:"pattern",pattern:"solid",fgColor:{argb:"F5F5F5"}});let o=0;for(let t=0;t<e.length;t++){var r;o+=Number("".concat(null!==(r=e[t].bulan)&&void 0!==r?r:0).replaceAll("Rp ","").replaceAll(".",""))}n.mergeCells("A".concat(a+1,":B").concat(a+1)),n.getCell("A".concat(a+1)).value=z,n.getCell("C".concat(a+1)).value="".concat(0==o?"-":o),n.getCell("B1").font={bold:!0,size:11},n.getCell("A1").alignment={wrapText:!0},n.getCell("A".concat(a+1)).font={bold:!0,size:9},n.getCell("C".concat(a+1)).font={bold:!0,size:9},n.getRow(2).font={bold:!0},n.getRow(3).font={bold:!0},n.getRow(4).font={bold:!0},n.getRow(5).font={bold:!0},n.getRow(4).alignment={horizontal:"center",vertical:"middle"},n.getRow(5).alignment={horizontal:"center",vertical:"middle"},n.getCell("A".concat(a+1)).alignment={horizontal:"center"},n.getCell("C".concat(a+1)).alignment={horizontal:"center"};for(let e=5;e<=n.rowCount;e++)for(let t=1;t<=3;t++)n.getCell(e,t).border={top:{style:"thin",color:{argb:"000000"}},left:{style:"thin",color:{argb:"000000"}},bottom:{style:"thin",color:{argb:"000000"}},right:{style:"thin",color:{argb:"000000"}}},n.getCell(e,t).numFmt="#,##0";let c=n.rowCount;n.mergeCells("B".concat(c+3,":C").concat(c+3)),n.mergeCells("B".concat(c+4,":C").concat(c+4)),n.mergeCells("B".concat(c+8,":C").concat(c+8)),n.mergeCells("B".concat(c+9,":C").concat(c+9));let i=(null==t?void 0:t.n_position_1).split("AND");n.getCell("B".concat(c+3)).value=i[0]?i[0]:null==t?void 0:t.n_position_1,n.getCell("B".concat(c+4)).value=i[1]?"AND "+i[1]:"",n.getCell("B".concat(c+8)).value="".concat(t.n_name_1),n.getCell("B".concat(c+9)).value="Nipp. ".concat(t.i_nipp_1),n.getCell("C".concat(c+3)).font={bold:!0,size:10},n.getCell("C".concat(c+4)).font={bold:!0,size:10},n.getCell("C".concat(c+8)).font={bold:!0,underline:!0,size:10},n.getCell("C".concat(c+9)).font={bold:!0,size:10},n.getCell("C".concat(c+3)).alignment={horizontal:"center"},n.getCell("C".concat(c+4)).alignment={horizontal:"center"},n.getCell("C".concat(c+8)).alignment={horizontal:"center"},n.getCell("C".concat(c+9)).alignment={horizontal:"center"},n.getCell("A5").fill={type:"pattern",pattern:"solid",fgColor:{argb:"79c1eb"}},n.getCell("B5").fill={type:"pattern",pattern:"solid",fgColor:{argb:"79c1eb"}},n.getCell("C5").fill={type:"pattern",pattern:"solid",fgColor:{argb:"79c1eb"}},n.getRow(5).font={bold:!0,size:10};let d=await l.xlsx.writeBuffer(),m=document.createElement("a");m.href=URL.createObjectURL(new Blob([d])),m.download="".concat(t.n_line_1," ").concat(O,".xlsx"),document.body.appendChild(m),m.click(),document.body.removeChild(m)},[B,L]=(0,o.useState)(!1),W=async e=>{L(!0);let l=async()=>{try{return"pdf"==e?P(G,v):U(G,v),!0}catch(e){return!1}};setTimeout(async()=>{await l()?setTimeout(()=>{t.open({type:"success",content:(0,n.jsx)("span",{className:" capitalize",children:"Export Success"})}),L(!1)},1e3):setTimeout(()=>{t.open({type:"error",content:(0,n.jsx)("span",{className:" capitalize",children:"Export Invalid"})}),L(!1)},1e3)},500)},G=y().sortBy(c,[function(e){return Number(e.trainset.replace("Trainset ",""))}]).map((e,t)=>(e.key=t,e.no=t+1,e));return(0,n.jsx)(Y.Z,{type:1==Z[0]?"month":2==Z[0]?"triwulan":"year",loadingExport:B,childrenInput:(0,n.jsxs)("div",{className:"flex flex-col ml-2",children:[(0,n.jsx)("span",{id:"subject",className:"mb-5 mt-3  text-[14px]",children:"Tipe"}),(0,n.jsx)(p.default,{disabled:B,placeholder:"Select Filter",onChange:e=>{_(R+1),I(null);let t="",l=0;"rangepicker"==e?(t="rangepicker",l=1):"triwulan"==e?(t="month",l=2):(t="year",l=3),E([l,t])},defaultValue:"Per Bulan",className:"max-md:w-full",options:[{value:"rangepicker",label:"Per Bulan"},{value:"triwulan",label:"Per Triwulan"},{value:"year",label:"Per Tahun"}]})]}),codeDelete:1!=Z[0]?"":"FUMIGASI",onDelete:()=>d(void 0),data:G,loading:m,dateChange:e=>{I(e)},downloadPdf:()=>W("pdf"),downloadExcel:()=>W("excel"),onChangeTri:R,children:(0,n.jsx)(g.Z,{children:(0,n.jsxs)(h.Z,{span:9,offset:7,children:[N.x4.web.header(v,"PERIODE : ".concat(O)),(0,n.jsx)(x.Z,{rowClassName:N.x4.web.striped,dataSource:G,columns:N.x4.web.headerTable([{title:"NO",dataIndex:"no",key:"no",width:"3%",align:"center",render:e=>(0,n.jsx)("a",{children:e})},{title:"TRAINSET",dataIndex:"trainset",key:"trainset",align:"center",width:"40%",render:e=>(0,n.jsx)("div",{style:{textAlign:"left"},children:e})},{title:"REALISASI FUMIGASI",dataIndex:"bulan",key:"bulan",width:"50%",align:"center",render:e=>0==e?"-":F.format(e)}]),bordered:!0,pagination:!1,summary:e=>{let t=0;return e.forEach(e=>{let{bulan:l}=e;t+=Number("".concat(null!=l?l:0).replaceAll("Rp ","").replaceAll(".",""))}),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(x.Z.Summary.Row,{children:[(0,n.jsx)(x.Z.Summary.Cell,{index:0,colSpan:2,align:"center",children:(0,n.jsx)(M,{strong:!0,children:z})}),(0,n.jsx)(x.Z.Summary.Cell,{className:"font-bold",index:1,align:"center",children:(0,n.jsx)(M,{children:0===t?"-":w()(t).format("0,0")})})]})})}})]})})})},I=e=>{let{}=e,t=(0,o.useContext)(r.Z),l=(0,a.usePathname)();return(0,n.jsx)(c.Z,{pathname:l,globalState:t,children:(0,n.jsx)(k,{})})}},57608:function(e,t,l){"use strict";l.d(t,{Ol:function(){return c},SZ:function(){return i},Zb:function(){return r},aY:function(){return d},ll:function(){return s}});var n=l(57437),a=l(2265),o=l(13498);let r=a.forwardRef((e,t)=>{let{className:l,classNameFalse:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:a?l:(0,o.cn)("rounded-2xl my-2 border border-zinc-200 bg-white text-zinc-950 shadow dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",l),...r})});r.displayName="Card",a.forwardRef((e,t)=>{let{className:l,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,o.cn)("rounded-2xl border border-zinc-200 bg-white text-zinc-950 shadow dark:border-zinc-800 dark:bg-zinc-900 dark:text-zinc-50",l),...a})}).displayName="Card900";let c=a.forwardRef((e,t)=>{let{className:l,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,o.cn)("flex flex-col space-y-1.5 px-6 py-3  rounded-t-2xl  bg-white dark:bg-black",l),...a})});c.displayName="CardHeader";let s=a.forwardRef((e,t)=>{let{className:l,...a}=e;return(0,n.jsx)("h3",{ref:t,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",l),...a})});s.displayName="CardTitle";let i=a.forwardRef((e,t)=>{let{className:l,...a}=e;return(0,n.jsx)("p",{ref:t,className:(0,o.cn)("text-sm text-zinc-500 dark:text-zinc-400 ",l),...a})});i.displayName="CardDescription";let d=a.forwardRef((e,t)=>{let{className:l,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,o.cn)("p-6 pt-5 bg-white dark:bg-black rounded-b-2xl",l),...a})});d.displayName="CardContent",a.forwardRef((e,t)=>{let{className:l,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,o.cn)("flex items-center p-6 pt-0",l),...a})}).displayName="CardFooter"},41105:function(e,t,l){"use strict";l.d(t,{Z:function(){return Z}});var n=l(57437),a=l(2265),o=l(16463),r=l(68348),c=l(62586),s=l(46682),i=l(62575),d=l(85169),u=l(62737),m=l.n(u);l(65799);var f=l(71275),p=l(57608),g=l(16584),h=l(32034),x=l(23288),b=l(85313),y=l(90696),v=l(9707),w=l(66407),C=l(63843),Y=l(99945),j=l(73717),N=e=>{let{downloadFalse:t,loadingExport:l,trueApprave:o,downloadPdf:c,downloadExcel:i,title:d,onDelete:u,falseDelete:m,date:p,approve:g,onApprove:N,onUnapprove:M,loadingDisable:S}=e,k=(0,a.useContext)(f.Z),[I,O]=(0,a.useState)([]),[A,D]=(0,a.useState)([]),{message:Z,notification:E,modal:z}=r.Z.useApp(),{confirm:T}=z;return(0,a.useEffect)(()=>{var e,l,a,r,s;let f=[],h=[];(null==k?void 0:null===(e=k.permission)||void 0===e?void 0:e.indexOf("export excel"))!==-1&&i&&!t&&f.push({key:"excel",label:(0,n.jsx)("a",{className:"w-full text-left",onClick:i,children:"Excel"}),icon:(0,n.jsx)(b.Z,{style:{color:"green"}}),className:"h-10"}),(null==k?void 0:null===(l=k.permission)||void 0===l?void 0:l.indexOf("export pdf"))!==-1&&c&&!t&&f.push({key:"pdf",label:(0,n.jsx)("a",{className:"w-full text-left",onClick:c,children:"PDF"}),icon:(0,n.jsx)(y.Z,{style:{color:"red"}}),className:"h-10"}),(null==k?void 0:null===(a=k.permission)||void 0===a?void 0:a.indexOf("delete"))===-1||m||h.push({key:"delete",label:(0,n.jsx)("a",{className:"w-full text-left",onClick:()=>{T({title:"Delete data?",icon:(0,n.jsx)(v.Z,{}),content:"Are you sure want to delete this ".concat(d," data in ").concat(p," ?"),okText:"Yes",okType:"danger",cancelText:"No",onOk(){u(!0)}})},children:"Delete"}),icon:(0,n.jsx)(v.Z,{style:{color:"red"}}),className:"h-10"}),p&&(g?(null==k?void 0:null===(s=k.permission)||void 0===s?void 0:s.indexOf("unapprove"))!==-1&&o&&h.push({key:"unapprove",label:(0,n.jsx)("a",{className:"w-full text-left",onClick:()=>{T({title:"Unapprove data?",icon:(0,n.jsx)(C.Z,{}),content:"Are you sure want to Unapprove this ".concat(d," data in ").concat(p," ?"),okText:"Yes",okType:"danger",cancelText:"No",onOk(){M(!0)}})},children:"Unapprove"}),icon:(0,n.jsx)(C.Z,{style:{color:"red"}}),className:"h-10"}):(null==k?void 0:null===(r=k.permission)||void 0===r?void 0:r.indexOf("approve"))!==-1&&o&&h.push({key:"approve",label:(0,n.jsx)("a",{className:"w-full text-left",onClick:()=>{T({title:"Approve data?",icon:(0,n.jsx)(w.Z,{style:{color:"green"}}),content:"Are you sure want to Approve this ".concat(d," data in ").concat(p," ?"),okText:"Yes",cancelText:"No",onOk(){N(!0)}})},children:"Approve"}),icon:(0,n.jsx)(w.Z,{style:{color:"green"}}),className:"h-10"})),O(f),D(h)},[T,t,o,m,k,d,p,u,c,i,g,N,M]),(0,n.jsxs)(n.Fragment,{children:[A.length?(0,n.jsx)("div",{className:"",children:(0,n.jsx)(h.Z,{className:"md:mt-12 float-right mr-4",disabled:l,menu:{items:A},children:(0,n.jsx)(s.ZP,{children:(0,n.jsxs)(x.Z,{children:[(0,n.jsx)(Y.Z,{})," Opsi"]})})})}):null,I.length?(0,n.jsx)("div",{className:"",children:(0,n.jsx)(h.Z,{className:"md:mt-12 float-right",disabled:!!l||!!S,menu:{items:I},children:(0,n.jsx)(s.ZP,{loading:l,children:(0,n.jsxs)(x.Z,{children:[l?"":(0,n.jsx)(j.Z,{})," Export"]})})})}):null]})},M=l(42005),S=l(30939),k=l(95053),I=l(72100);let{RangePicker:O}=k.default;var A=e=>{let{disabled:t,className:l,onDateSelect:o,widthDate:r,enableSelect:c,onDistanceSelect:s,typeDatePicker:i,showTime:d,loadingDisable:u,allowClear:f,onChangeTri:p,disabledDate:g}=e,[h,x]=(0,a.useState)([]),[b,y]=(0,a.useState)(""),[v,w]=(0,a.useState)(""),[C,Y]=(0,a.useState)(0),[j,N]=(0,a.useState)(null),[S,A]=(0,a.useState)(0),[D,Z]=(0,a.useState)(null),[E,z]=(0,a.useState)(null),[T,R]=(0,a.useState)([null,null]);(0,a.useEffect)(()=>{o(b)},[b]),(0,a.useEffect)(()=>{z(null),Z(null),N(null)},[p]),(0,a.useEffect)(()=>{(async()=>{let e=await (0,M.Z)().get("/distance/"),t=null==e?void 0:e.data;if(void 0!==t){let e=[];e.push({value:"",label:"All Data"}),t.map((t,l)=>e.push({value:t.distance,label:t.distance})),x(e)}})()},[]);let _=(e,t)=>{if(null==e?void 0:e[0]){let l=parseInt(m()(e[0]).format("DD")),n=parseInt(m()(e[0]).format("MM")),a=parseInt(m()(e[0]).format("YYYY")),r=parseInt(m()(e[0]).format("HH")),c=parseInt(m()(e[0]).format("mm")),s=parseInt(m()(e[0]).format("ss")),i=parseInt(m()(e[1]).format("DD")),d=parseInt(m()(e[1]).format("MM")),u=parseInt(m()(e[1]).format("YYYY")),f=parseInt(m()(e[1]).format("hh")),p=parseInt(m()(e[1]).format("mm")),g=parseInt(m()(e[1]).format("ss"));y({...b,dateFrom:l,monthFrom:n,yearFrom:a,hourFrom:r,minuteFrom:c,secondFrom:s,dateUntil:i,monthUntil:d,yearUntil:u,hourUntil:f,minuteUntil:p,secondUntil:g,dateStrings:t}),o(b,v,C,j,S)}else o(void 0)};return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"flex flex-col border-none mb-7 mt-2 ml-1",children:[(0,n.jsx)("span",{id:"subject",className:"mb-5 mt-1 text-[14px] font-bold",children:"Periode"}),(0,n.jsxs)("div",{className:"flex flex-wrap",children:[""===i?(0,n.jsx)(O,{allowClear:f,disabled:!!t||!!u,allowEmpty:[!0,!1],className:"".concat(l," mb-3 lg:mr-3"),showTime:d,onChange:_,disabledDate:g}):"rangemonth"===i?(0,n.jsx)(O,{picker:"month",disabled:!!t||!!u,className:"".concat(l," mb-3 lg:mr-3 sm:w-32"),onChange:_,disabledDate:g}):"triwulan"===i?(0,n.jsx)(O,{picker:"month",placeholder:["Start month","End month"],allowEmpty:[!0,!0],allowClear:!0,value:[E?m()(E,"YYYY-MM"):null,D?m()(D,"YYYY-MM"):null],disabled:[!!t||!!u,!0],onChange:(e,t)=>{if(null==e?void 0:e[0]){let l=parseInt(m()(e[0]).format("DD")),n=parseInt(m()(e[0]).format("MM")),a=parseInt(m()(e[0]).format("YYYY")),r=parseInt(m()(e[0]).format("HH")),c=parseInt(m()(e[0]).format("mm")),s=parseInt(m()(e[0]).format("ss")),i=parseInt(m()(e[0]).add(2,"month").format("DD")),d=parseInt(m()(e[0]).add(2,"month").format("MM")),u=parseInt(m()(e[0]).add(2,"month").format("YYYY")),f=parseInt(m()(e[0]).add(2,"month").format("hh")),p=parseInt(m()(e[0]).add(2,"month").format("mm")),g=parseInt(m()(e[0]).add(2,"month").format("ss")),h=m()(e[0]).locale("id").format("MMMM"),x=parseInt(m()(e[0]).format("M")),M=parseInt(m()(e[0]).format("YYYY")),k=parseInt(m()(e[0]).format("DD"));z(m()(null==e?void 0:e[0]).format("YYYY-MM-DD")),Z(m()(null==e?void 0:e[0]).add(2,"month").format("YYYY-MM-DD")),w(h),Y(x),N(M),A(k),y({...b,dateFrom:l,monthFrom:n,yearFrom:a,hourFrom:r,minuteFrom:c,secondFrom:s,dateUntil:i,monthUntil:d,yearUntil:u,hourUntil:f,minuteUntil:p,secondUntil:g,month:x,monthNumber:x,year:M,day:k,dateStrings:t}),o(b,v,C,j,S)}else z(null),Z(null),o(void 0)},disabledDate:g}):"rangepicker"===i?(0,n.jsx)(O,{allowClear:f,disabled:!!t||!!u,allowEmpty:[!0,!1],className:"".concat(l," mb-3 lg:mr-3"),showTime:d,onChange:_,disabledDate:g}):"year"===i?(0,n.jsx)(k.default,{disabled:!!t||!!u,className:"".concat(l," mb-3 lg:mr-3 sm:w-[500px] w-96"),value:j?m()(j,"YYYY"):null,onChange:(e,t)=>{if(null===e)N(null),o(j);else{let l=m()(e).locale("id").format("MMMM"),n=parseInt(m()(e).format("M")),a=parseInt(m()(e).format("YYYY")),r=parseInt(m()(e).format("DD"));w(l),Y(n),N(t),A(r),y({...b,month:l,monthNumber:n,year:a,day:r}),o(b,v,C,j,S)}},allowClear:!0,format:"YYYY",picker:"year",disabledDate:g}):(0,n.jsx)(k.default,{disabled:!!t||!!u,className:"".concat(l," mb-3 lg:mr-3 sm:w-[500px] w-96"),onChange:(e,t)=>{let l=m()(e).locale("id").format("MMMM"),n=parseInt(m()(e).format("M")),a=parseInt(m()(e).format("YYYY")),r=parseInt(m()(e).format("DD"));w(l),Y(n),N(a),A(r),y({...b,month:l,monthNumber:n,year:a,day:r}),o(b,v,C,j,S)},picker:i||"month",disabledDate:g}),(0,n.jsx)(I.default,{disabled:!!t||!!u,showSearch:!0,defaultValue:"",className:"".concat(null!=c?c:"hidden"," sm:ml-2 md:w-32 sm-w-32 "),onChange:e=>{s&&s(e)},placeholder:"Select Distance",filterOption:(e,t)=>((null==t?void 0:t.label)||"").toLowerCase().includes((null!=e?e:"").toLowerCase()),options:h.map((e,t)=>({value:e.value,label:"".concat(e.label)}))})]})]})})},D=l(86658);function Z(e){let{className:t,loadingBottom:l,loadingExport:u,childrenInput:h,enableSelect:x,onDistanceSelect:b,typeLoading:y,type:v,codeDelete:w,onDelete:C,downloadPdf:Y,downloadExcel:j,loading:k,dateChange:I,children:O,data:Z,loadingDisable:E,showTime:z,allowClear:T,warning:R,showModalWarn:_,onApprove:F,onChangeTri:P,disabledDate:U,downloadFalse:B,emptyFalse:L,noTheme:W,codeMenu:G}=e;(0,a.useContext)(f.Z);let[H,V]=(0,a.useState)(),[X,$]=(0,a.useState)(),[J,q]=(0,a.useState)(),K=r.Z.useApp(),{message:Q}=K;(0,o.usePathname)(),(0,a.useEffect)(()=>{var e,t;q((null==Z?void 0:null===(e=Z[0])||void 0===e?void 0:e.approved_at)=="-"?null:null==Z?void 0:null===(t=Z[0])||void 0===t?void 0:t.approved_at)},[Z]),(0,a.useEffect)(()=>{V(u)},[u,Q]),(0,a.useEffect)(()=>{$(void 0)},[P]);let ee=async()=>{Q.open({key:"approve_report",type:"loading",content:"Approveing...",duration:0});let e=await (0,M.Z)().post("report/approve",{code:w,codeMenu:null!=G?G:null,month:2==X.length?Number(m()(X[0]).format("MM")):Number(m()(X).format("MM")),year:2==X.length?Number(m()(X[0]).format("YYYY")):Number(m()(X).format("YYYY"))});(0,S.Z)({res:e,app:K,msgTrue:!0,key:"approve_report"})&&(q(new Date),F(!0))},et=async()=>{Q.open({key:"unapprove_report",type:"loading",content:"Unapproveing...",duration:0});let e=await (0,M.Z)().post("report/unapprove",{code:w,codeMenu:null!=G?G:null,month:2==X.length?Number(m()(X[0]).format("MM")):Number(m()(X).format("MM")),year:2==X.length?Number(m()(X[0]).format("YYYY")):Number(m()(X).format("YYYY"))});(0,S.Z)({res:e,app:K,msgTrue:!0,key:"unapprove_report"})&&(q(null),F(!1))},el=async()=>{Q.open({key:"delete_report",type:"loading",content:"Deleting...",duration:0});let e=await (0,M.Z)().post("report/delete",{code:w,codeMenu:null!=G?G:null,month:2==X.length?Number(m()(X[0]).format("MM")):Number(m()(X).format("MM")),year:2==X.length?Number(m()(X[0]).format("YYYY")):Number(m()(X).format("YYYY"))});(0,S.Z)({res:e,app:K,msgTrue:!0,key:"delete_report"})&&C(!0)},{systemTheme:en,theme:ea}=(0,d.F)();return(0,n.jsx)(c.ZP,{theme:W?void 0:{components:{Table:"dark"===ea?{borderColor:"#fff",headerBorderRadius:0,cellPaddingBlock:5}:"system"===ea&&"dark"===en?{borderColor:"#fff",headerBorderRadius:0,cellPaddingBlock:5}:{headerBg:"#79c1eb",borderColor:"#000",headerBorderRadius:0,cellPaddingBlock:5}}},componentSize:"large",children:(0,n.jsxs)(p.Zb,{className:"border-none p-7 w-full shadow-md",children:[(0,n.jsxs)("div",{className:h?"flex flex-wrap mb-6":"flex flex-wrap mb-6 justify-between",children:[(0,n.jsx)(A,{allowClear:T,onDistanceSelect:null!=b?b:void 0,enableSelect:x,disabled:y?k:null!=H&&H,typeDatePicker:"rangepicker"===v?"":"triwulan"===v?"triwulan":void 0===v?"month":v,disabledDate:U,className:h?"":"rangepicker"==v?"w-full lg:w-2/3 xl:w-3/4":"w-full md:w-3/4 lg:w-2/4",onDateSelect:e=>{""===e||isNaN(null==e?void 0:e.monthNumber)?(null==e?void 0:e.dateStrings)?(I(e.dateStrings),$(e.dateStrings)):(I(void 0),$(void 0)):"rangepicker"===v?(null==e?void 0:e.dateStrings)&&(I(e.dateStrings),$(e.dateStrings)):(I(m()(e.year+"-"+e.monthNumber+"-01").format("YYYY-MM-DD")),$(m()(e.year+"-"+e.monthNumber+"-01").format("YYYY-MM-DD")))},loadingDisable:E,showTime:z,onChangeTri:P}),h,null!=Z&&!!Z.length&&X&&!k&&(0,n.jsxs)("div",{className:h?"flex flex-row md:justify-end w-full sm:justify-start md:-mt-32 mt-3 ml-1":"flex flex-row",children:[R&&(0,n.jsx)(s.ZP,{className:"w-6 md:my-12 mr-2",onClick:()=>{_(!0)},icon:(0,n.jsx)(D.Z,{style:{fontSize:"25px",color:"#ebde34"}})}),(0,n.jsx)(N,{loadingExport:H,trueApprave:w,approve:J,onApprove:ee,onUnapprove:et,onDelete:el,falseDelete:!w,title:null==w?void 0:w.toLowerCase().replaceAll("_"," "),downloadFalse:B,date:"rangemonth"==v?(null==X?void 0:X[0])===(null==X?void 0:X[1])&&"".concat(m()(X[0]).format("YYYY MMMM")):"".concat(m()(X).format("YYYY MMMM")),downloadPdf:Y,downloadExcel:j,loadingDisable:E})]})]}),X&&(0,n.jsx)(n.Fragment,{children:k?(0,n.jsx)(g.Z,{className:"-mt-6"}):(0,n.jsx)("div",{className:" md:-mt-6 overflow-auto w-full",children:(null==Z?void 0:Z.length)||L?(0,n.jsx)("div",{className:t,children:O}):(0,n.jsx)(i.Z,{})})}),l]})})}m().locale("id")},5454:function(e,t,l){"use strict";l.d(t,{O:function(){return o}});var n=l(57437),a=l(13498);function o(e){let{className:t,...l}=e;return(0,n.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-lg bg-zinc-300 dark:bg-zinc-800",t),...l})}},16584:function(e,t,l){"use strict";var n=l(57437),a=l(5454);t.Z=e=>{let{className:t}=e;return(0,n.jsx)("div",{className:"flex flex-col w-full  ".concat(t),children:(0,n.jsxs)("div",{className:"bg-white dark:bg-zinc-950 p-6 rounded-2xl",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(a.O,{className:"h-8 md:w-40"}),(0,n.jsx)(a.O,{className:"h-6 md:w-96"})]}),(0,n.jsx)(a.O,{className:"h-10 w-36 rounded-2xl"})]}),(0,n.jsxs)("div",{className:"flex flex-col w-full",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center w-full mt-6 mb-4",children:[(0,n.jsxs)("div",{className:"space-x-2 flex",children:[(0,n.jsx)(a.O,{className:"h-6 md:w-64"}),(0,n.jsx)(a.O,{className:"h-6 w-28"})]}),(0,n.jsx)(a.O,{className:"h-6 w-28 rounded-2xl"})]}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)(a.O,{className:"h-6 w-full"}),(0,n.jsx)(a.O,{className:"h-6 w-full"}),(0,n.jsx)(a.O,{className:"h-6 w-full"}),(0,n.jsx)(a.O,{className:"h-6 w-full"}),(0,n.jsx)(a.O,{className:"h-6 w-full"}),(0,n.jsx)(a.O,{className:"h-6 w-full"}),(0,n.jsx)(a.O,{className:"h-6 w-full"}),(0,n.jsx)(a.O,{className:"h-6 w-full"})]})]})]})})}},95381:function(e,t,l){"use strict";var n=l(90265);t.Z=n.Z},13413:function(e,t,l){"use strict";let n=(0,l(2265).createContext)({});t.Z=n},90265:function(e,t,l){"use strict";var n=l(2265),a=l(56800),o=l.n(a),r=l(38750),c=l(13413),s=l(38669),i=function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(l[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(l[n[a]]=e[n[a]]);return l};function d(e){return"number"==typeof e?"".concat(e," ").concat(e," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?"0 0 ".concat(e):e}let u=["xs","sm","md","lg","xl","xxl"],m=n.forwardRef((e,t)=>{let{getPrefixCls:l,direction:a}=n.useContext(r.E_),{gutter:m,wrap:f}=n.useContext(c.Z),{prefixCls:p,span:g,order:h,offset:x,push:b,pull:y,className:v,children:w,flex:C,style:Y}=e,j=i(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),N=l("col",p),[M,S,k]=(0,s.cG)(N),I={},O={};u.forEach(t=>{let l={},n=e[t];"number"==typeof n?l.span=n:"object"==typeof n&&(l=n||{}),delete j[t],O=Object.assign(Object.assign({},O),{["".concat(N,"-").concat(t,"-").concat(l.span)]:void 0!==l.span,["".concat(N,"-").concat(t,"-order-").concat(l.order)]:l.order||0===l.order,["".concat(N,"-").concat(t,"-offset-").concat(l.offset)]:l.offset||0===l.offset,["".concat(N,"-").concat(t,"-push-").concat(l.push)]:l.push||0===l.push,["".concat(N,"-").concat(t,"-pull-").concat(l.pull)]:l.pull||0===l.pull,["".concat(N,"-rtl")]:"rtl"===a}),l.flex&&(O["".concat(N,"-").concat(t,"-flex")]=!0,I["--".concat(N,"-").concat(t,"-flex")]=d(l.flex))});let A=o()(N,{["".concat(N,"-").concat(g)]:void 0!==g,["".concat(N,"-order-").concat(h)]:h,["".concat(N,"-offset-").concat(x)]:x,["".concat(N,"-push-").concat(b)]:b,["".concat(N,"-pull-").concat(y)]:y},v,O,S,k),D={};if(m&&m[0]>0){let e=m[0]/2;D.paddingLeft=e,D.paddingRight=e}return C&&(D.flex=d(C),!1!==f||D.minWidth||(D.minWidth=0)),M(n.createElement("div",Object.assign({},j,{style:Object.assign(Object.assign(Object.assign({},D),Y),I),className:A,ref:t}),w))});t.Z=m},43134:function(e,t,l){"use strict";var n=l(2265),a=l(56800),o=l.n(a),r=l(6987),c=l(38750),s=l(13413),i=l(38669),d=function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(l[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(l[n[a]]=e[n[a]]);return l};function u(e,t){let[l,a]=n.useState("string"==typeof e?e:""),o=()=>{if("string"==typeof e&&a(e),"object"==typeof e)for(let l=0;l<r.c4.length;l++){let n=r.c4[l];if(!t[n])continue;let o=e[n];if(void 0!==o){a(o);return}}};return n.useEffect(()=>{o()},[JSON.stringify(e),t]),l}let m=n.forwardRef((e,t)=>{let{prefixCls:l,justify:a,align:m,className:f,style:p,children:g,gutter:h=0,wrap:x}=e,b=d(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:y,direction:v}=n.useContext(c.E_),[w,C]=n.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),[Y,j]=n.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),N=u(m,Y),M=u(a,Y),S=n.useRef(h),k=(0,r.ZP)();n.useEffect(()=>{let e=k.subscribe(e=>{j(e);let t=S.current||0;(!Array.isArray(t)&&"object"==typeof t||Array.isArray(t)&&("object"==typeof t[0]||"object"==typeof t[1]))&&C(e)});return()=>k.unsubscribe(e)},[]);let I=y("row",l),[O,A,D]=(0,i.VM)(I),Z=(()=>{let e=[void 0,void 0];return(Array.isArray(h)?h:[h,void 0]).forEach((t,l)=>{if("object"==typeof t)for(let n=0;n<r.c4.length;n++){let a=r.c4[n];if(w[a]&&void 0!==t[a]){e[l]=t[a];break}}else e[l]=t}),e})(),E=o()(I,{["".concat(I,"-no-wrap")]:!1===x,["".concat(I,"-").concat(M)]:M,["".concat(I,"-").concat(N)]:N,["".concat(I,"-rtl")]:"rtl"===v},f,A,D),z={},T=null!=Z[0]&&Z[0]>0?-(Z[0]/2):void 0;T&&(z.marginLeft=T,z.marginRight=T);let[R,_]=Z;z.rowGap=_;let F=n.useMemo(()=>({gutter:[R,_],wrap:x}),[R,_,x]);return O(n.createElement(s.Z.Provider,{value:F},n.createElement("div",Object.assign({},b,{className:E,style:Object.assign(Object.assign({},z),p),ref:t}),g)))});t.Z=m},38669:function(e,t,l){"use strict";l.d(t,{VM:function(){return d},cG:function(){return u}});var n=l(37540),a=l(2330),o=l(35413);let r=e=>{let{componentCls:t}=e;return{[t]:{position:"relative",maxWidth:"100%",minHeight:1}}},c=(e,t)=>{let{prefixCls:l,componentCls:n,gridColumns:a}=e,o={};for(let e=a;e>=0;e--)0===e?(o["".concat(n).concat(t,"-").concat(e)]={display:"none"},o["".concat(n,"-push-").concat(e)]={insetInlineStart:"auto"},o["".concat(n,"-pull-").concat(e)]={insetInlineEnd:"auto"},o["".concat(n).concat(t,"-push-").concat(e)]={insetInlineStart:"auto"},o["".concat(n).concat(t,"-pull-").concat(e)]={insetInlineEnd:"auto"},o["".concat(n).concat(t,"-offset-").concat(e)]={marginInlineStart:0},o["".concat(n).concat(t,"-order-").concat(e)]={order:0}):(o["".concat(n).concat(t,"-").concat(e)]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:"0 0 ".concat(e/a*100,"%"),maxWidth:"".concat(e/a*100,"%")}],o["".concat(n).concat(t,"-push-").concat(e)]={insetInlineStart:"".concat(e/a*100,"%")},o["".concat(n).concat(t,"-pull-").concat(e)]={insetInlineEnd:"".concat(e/a*100,"%")},o["".concat(n).concat(t,"-offset-").concat(e)]={marginInlineStart:"".concat(e/a*100,"%")},o["".concat(n).concat(t,"-order-").concat(e)]={order:e});return o["".concat(n).concat(t,"-flex")]={flex:"var(--".concat(l).concat(t,"-flex)")},o},s=(e,t)=>c(e,t),i=(e,t,l)=>({["@media (min-width: ".concat((0,n.bf)(t),")")]:Object.assign({},s(e,l))}),d=(0,a.I$)("Grid",e=>{let{componentCls:t}=e;return{[t]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},()=>({})),u=(0,a.I$)("Grid",e=>{let t=(0,o.IX)(e,{gridColumns:24}),l={"-sm":t.screenSMMin,"-md":t.screenMDMin,"-lg":t.screenLGMin,"-xl":t.screenXLMin,"-xxl":t.screenXXLMin};return[r(t),s(t,""),s(t,"-xs"),Object.keys(l).map(e=>i(t,l[e],e)).reduce((e,t)=>Object.assign(Object.assign({},e),t),{})]},()=>({}))},77733:function(e,t,l){"use strict";var n=l(43134);t.Z=n.Z}},function(e){e.O(0,[2505,3113,1866,8173,9141,2470,3919,8348,2100,4309,5053,5458,2034,9155,7824,428,8421,8028,4052,5325,6487,8378,4746,5141,252,7642,2971,7023,1744],function(){return e(e.s=50860)}),_N_E=e.O()}]);