"use strict";exports.id=2530,exports.ids=[2530],exports.modules={52530:(e,t,s)=>{s.d(t,{Z:()=>ep});var a=s(10326),l=s(17577),n=s.n(l),i=s(63866),r=s.n(i),d=s(35047),o=s(15865),m=s(67602),c=s(24895),p=s(49965),u=s(24395),h=s(63191),x=s(46024),w=s(19736),j=s(16771),f=s(32643),y=s(41681),k=s(59270),v=s(34626),g=s(46752),N=s(6400),_=s(21394),b=s(79743),Z=s(3204),L=s(60816),C=s(55113),M=s(75958),S=s(91726),E=s(37619),P=s(91862),I=s(99985),D=s(30462),B=s(50784),O=s(35285),A=s(88295),W=s.n(A);s(55675);var F=s(62989),z=s.n(F),V=s(44624),T=s(24470),U=s(43059),$=s(98247),H=s(11204),q=s(73340),Y=s(86991),R=s(47517),K=s(55786),G=s(66272),J=s(52279),Q=s(20341),X=s(79912),ee=s(7625),et=s(40815),es=s(77432),ea=s(77197),el=s(82616),en=s(58690),ei=s.n(en),er=s(87296),ed=s(32653),eo=s.n(ed);W().locale("id");let em=s(8534);W().extend(em),W().extend(z());let{TextArea:ec}=k.default,ep=({columnData:e,fetch:t,type:s,modalTitle:i,loadFirst:A,load:F,urlData:z,updateFetch:en})=>{let ed=(0,d.usePathname)(),em=(0,l.useContext)(Q.Z),ep=v.Z.useApp(),[eu,eh]=(0,l.useState)([]),[ex,ew]=(0,l.useState)(!1),[ej,ef]=(0,l.useState)([]),[ey,ek]=(0,l.useState)([]),[ev,eg]=g.ZP.useMessage(),[eN,e_]=(0,l.useState)([]),[eb,eZ]=(0,l.useState)({});(0,l.useEffect)(()=>{ew(F),"Role"===i&&(async()=>{let e=await (0,J.Z)().get("menu"),t=await (0,J.Z)().get("action");if("00"==e.code&&"00"==t.code){let s=[];t.data?.edges?t.data?.edges?.reverse().map(e=>{s.push(e.node)}):s=t.data,ek(s),ef(e.data)}})()},[F,i]);let eL=async t=>{let s=t?.map((t,s)=>{let a={};a.key=s+1,e.map(e=>{a[e.key]=t[e.key]});let l=t=>t.sub_menu.map((t,s)=>{let a={};return e.map(e=>{a[e.key]=t[e.key],a.key=t.id}),t.sub_menu&&(a.children=l(t)),a});return t.sub_menu&&(a.children=l(t)),a}),l=[];for(let e=0;e<s.length;e++){let t=s[e],n=e,i={};if(Array.isArray(t.permission)&&(i.permission=a.jsx("div",{className:"flex flex-wrap",children:t.permission?.map((e,t)=>a.jsxs("div",{className:"sm:flex w-full mb-2",children:[a.jsx("div",{children:e.name}),a.jsxs("div",{className:"flex sm:absolute right-2",children:[e.data.indexOf("view")!==-1&&a.jsx(N.Z,{title:"View",children:a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),e.data.indexOf("create")!==-1&&a.jsx(N.Z,{title:"Create",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})}),e.data.indexOf("update")!==-1&&a.jsx(N.Z,{title:"Update",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})})}),e.data.indexOf("delete")!==-1&&a.jsx(N.Z,{title:"Delete",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}),e.data.indexOf("export")!==-1&&a.jsx(N.Z,{title:"Export",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})})}),e.data.indexOf("export excel")!==-1&&a.jsx(N.Z,{title:"Export Excel",children:a.jsx(o.Z,{className:"ml-2"})}),e.data.indexOf("export pdf")!==-1&&a.jsx(N.Z,{title:"Export PDF",children:a.jsx(m.Z,{className:"ml-2"})}),e.data.indexOf("export pdf")!==-1&&a.jsx(N.Z,{title:"Export PDF",children:a.jsx(m.Z,{className:"ml-2"})}),e.data.indexOf("approve")!==-1&&a.jsx(N.Z,{title:"Approve",children:a.jsx(c.Z,{className:"ml-2"})}),e.data.indexOf("unapprove")!==-1&&a.jsx(N.Z,{title:"Unapprove",children:a.jsx(p.Z,{className:"ml-2"})})]})]},t))},n)),t.avatar||null===t.avatar){if(t?.avatar==null)i.avatar_input=t.avatar,i.avatar=a.jsx(_.C,{style:{backgroundColor:"#"+Math.floor(16777215*Math.random()).toString(16)},children:(t.name??t.username??t.fullName)?.substring(0,2)});else{let e=await window.convertImageToBase64(window.makeUrl("avatar/"+t.avatar));i.avatar_input=e,i.avatar=(0,a.jsxs)(a.Fragment,{children:[a.jsx(_.C,{style:{cursor:"pointer"},src:e,onClick:()=>{document.getElementById(t.key+n).click()}}),a.jsx(b.Z,{id:t.key+n,style:{display:"none"},alt:t.title,src:e})]})}}t.icon&&(i.icon=(0,a.jsxs)("div",{className:"flex items-center",children:[(0,K.s)(t.icon),"\xa0",t.icon]})),t.action&&(i.action_input=t.action.map(e=>e?.id).filter(e=>e),i.action=a.jsx("div",{className:"flex flex-wrap",children:t.action?.map((e,t)=>a.jsxs("div",{className:"mb-2",children:[e?.name=="view"&&a.jsx(N.Z,{title:"View",children:a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),e?.name=="create"&&a.jsx(N.Z,{title:"Create",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})}),e?.name=="update"&&a.jsx(N.Z,{title:"Update",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})})}),e?.name=="delete"&&a.jsx(N.Z,{title:"Delete",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}),e?.name=="import"&&a.jsx(N.Z,{title:"Import",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})})}),e?.name=="export"&&a.jsx(N.Z,{title:"Export",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})})}),e?.name=="export excel"&&a.jsx(N.Z,{title:"Export Excel",children:a.jsx(o.Z,{className:"ml-2"})}),e?.name=="export pdf"&&a.jsx(N.Z,{title:"Export PDF",children:a.jsx(m.Z,{className:"ml-2"})})]},t))},n));let r=e=>{if(e.children)return e.children.map(e=>{let t={icon:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,K.s)(e.icon),"\xa0",e.icon]}),action_input:e.action.map(e=>e?.id).filter(e=>e),action:a.jsx("div",{className:"flex flex-wrap",children:e.action?.map((e,t)=>a.jsxs("div",{className:"mb-2",children:[e?.name=="view"&&a.jsx(N.Z,{title:"View",children:a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),e?.name=="create"&&a.jsx(N.Z,{title:"Create",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})}),e?.name=="update"&&a.jsx(N.Z,{title:"Update",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})})}),e?.name=="delete"&&a.jsx(N.Z,{title:"Delete",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}),e?.name=="import"&&a.jsx(N.Z,{title:"Import",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})})}),e?.name=="export"&&a.jsx(N.Z,{title:"Export",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})})}),e?.name=="export excel"&&a.jsx(N.Z,{title:"Export Excel",children:a.jsx(o.Z,{className:"ml-2"})}),e?.name=="export pdf"&&a.jsx(N.Z,{title:"Export PDF",children:a.jsx(m.Z,{className:"ml-2"})}),e?.name=="approve"&&a.jsx(N.Z,{title:"Approve",children:a.jsx(c.Z,{className:"ml-2"})}),e?.name=="unapprove"&&a.jsx(N.Z,{title:"Unapprove",children:a.jsx(p.Z,{className:"ml-2"})})]},t))},n)};return e?.children?{...e,...t,children:r(e)}:{...e,...t}})};t.children&&(i.children=r(t)),l.push({...t,...i})}return l};(0,l.useEffect)(()=>{let l=e=>{e?.filter((e,t)=>{e.key=t+1;let a=e.date;if(s.filterDate?.start_date&&s.filterDate?.end_date)return a>=s.filterDate.start_date&&a<=s.filterDate.end_date})};(async t=>{let s=t?.map((t,s)=>{let a={};a.key=s+1,e.map(e=>{a[e.key]=t[e.key]});let l=t=>t.sub_menu.map((t,s)=>{let a={};return e.map(e=>{a[e.key]=t[e.key],a.key=t.id}),t.sub_menu&&(a.children=l(t)),a});return t.sub_menu&&(a.children=l(t)),a}),l=[];for(let e=0;e<s.length;e++){let t=s[e],n=e,i={};if(Array.isArray(t.permission)&&(i.permission=a.jsx("div",{className:"flex flex-wrap",children:t.permission?.map((e,t)=>a.jsxs("div",{className:"flex items-center w-full mb-2 border-b border-gray-300 px-1 pb-1",children:[a.jsx("div",{className:"flex-1",children:e.name}),a.jsxs("div",{className:"flex",children:[e.data.indexOf("view")!==-1&&a.jsx(N.Z,{title:"View",children:a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),e.data.indexOf("create")!==-1&&a.jsx(N.Z,{title:"Create",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})}),e.data.indexOf("update")!==-1&&a.jsx(N.Z,{title:"Update",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})})}),e.data.indexOf("delete")!==-1&&a.jsx(N.Z,{title:"Delete",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}),e.data.indexOf("import")!==-1&&a.jsx(N.Z,{title:"Import",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})})}),e.data.indexOf("export")!==-1&&a.jsx(N.Z,{title:"Export",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})})}),e.data.indexOf("export excel")!==-1&&a.jsx(N.Z,{title:"Export Excel",children:a.jsx(o.Z,{className:"ml-2"})}),e.data.indexOf("export pdf")!==-1&&a.jsx(N.Z,{title:"Export PDF",children:a.jsx(m.Z,{className:"ml-2"})}),e.data.indexOf("approve")!==-1&&a.jsx(N.Z,{title:"Approve",children:a.jsx(c.Z,{className:"ml-2"})}),e.data.indexOf("unapprove")!==-1&&a.jsx(N.Z,{title:"Unapprove",children:a.jsx(p.Z,{className:"ml-2"})})]})]},t))},n)),t.avatar||null===t.avatar){if(t?.avatar==null)i.avatar_input=t.avatar,i.avatar=a.jsx(_.C,{style:{backgroundColor:"#"+Math.floor(16777215*Math.random()).toString(16)},children:(t.name??t.username??t.fullName)?.substring(0,2)});else{let e=await window.convertImageToBase64(window.makeUrl("avatar/"+t.avatar));i.avatar_input=e,i.avatar=(0,a.jsxs)(a.Fragment,{children:[a.jsx(_.C,{style:{cursor:"pointer"},src:e,onClick:()=>{document.getElementById(t.key+n).click()}}),a.jsx(b.Z,{id:t.key+n,style:{display:"none"},alt:t.title,src:e})]})}}t.icon&&(i.icon=(0,a.jsxs)("div",{className:"flex items-center",children:[(0,K.s)(t.icon),"\xa0",t.icon]})),t.action&&(i.action_input=t.action.map(e=>e?.id).filter(e=>e),i.action=a.jsx("div",{className:"flex flex-wrap",children:t.action?.map((e,t)=>a.jsxs("div",{className:"mb-2",children:[e?.name=="view"&&a.jsx(N.Z,{title:"View",children:a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),e?.name=="create"&&a.jsx(N.Z,{title:"Create",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})}),e?.name=="update"&&a.jsx(N.Z,{title:"Update",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})})}),e?.name=="delete"&&a.jsx(N.Z,{title:"Delete",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}),e?.name=="import"&&a.jsx(N.Z,{title:"Import",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})})}),e?.name=="export"&&a.jsx(N.Z,{title:"Export",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})})}),e?.name=="export excel"&&a.jsx(N.Z,{title:"Export Excel",children:a.jsx(o.Z,{className:"ml-2"})}),e?.name=="export pdf"&&a.jsx(N.Z,{title:"Export PDF",children:a.jsx(m.Z,{className:"ml-2"})})]},t))},n));let r=e=>{if(e.children)return e.children.map(e=>{let t={icon:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,K.s)(e.icon),"\xa0",e.icon]}),action_input:e.action.map(e=>e?.id).filter(e=>e),action:a.jsx("div",{className:"flex flex-wrap",children:e.action?.map((e,t)=>a.jsxs("div",{className:"mb-2",children:[e?.name=="view"&&a.jsx(N.Z,{title:"View",children:a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),e?.name=="create"&&a.jsx(N.Z,{title:"Create",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})}),e?.name=="update"&&a.jsx(N.Z,{title:"Update",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})})}),e?.name=="delete"&&a.jsx(N.Z,{title:"Delete",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}),e?.name=="import"&&a.jsx(N.Z,{title:"Import",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})})}),e?.name=="export"&&a.jsx(N.Z,{title:"Export",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})})}),e?.name=="export excel"&&a.jsx(N.Z,{title:"Export Excel",children:a.jsx(o.Z,{className:"ml-2"})}),e?.name=="export pdf"&&a.jsx(N.Z,{title:"Export PDF",children:a.jsx(m.Z,{className:"ml-2"})}),e?.name=="approve"&&a.jsx(N.Z,{title:"Approve",children:a.jsx(c.Z,{className:"ml-2"})}),e?.name=="unapprove"&&a.jsx(N.Z,{title:"Unapprove",children:a.jsx(p.Z,{className:"ml-2"})})]},t))},n)};return e?.children?{...e,...t,children:r(e)}:{...e,...t}})};t.children&&(i.children=r(t)),l.push({...t,...i})}return l})(t).then(e=>{eh(e),e_(s.filterDate?l(e):e)})},[t,e,s,ey]);let[eC,eM]=(0,l.useState)(),[eS,eE]=(0,l.useState)([s.filterDate?.start_date??null,s.filterDate?.end_date??null]),eP=(e,t)=>{if(t)return eu?.filter(t=>{let s=t.date;if(e?.[0]&&e?.[1])return s>=e[0]&&s<=e?.[1]});eE(e),s.filterDate?.api?(ew(!0),ew(!1)):e_(eu?.filter(t=>{let s=t.date;if(e?.[0]&&e?.[1])return s>=e[0]&&s<=e?.[1]}))},eI=(t,s)=>{if("export"==s){let s=[];return t.map(t=>{let a={};if(e.filter(e=>e.export).map(e=>{if(t[e.key]){if("icon"===e.key)a.icon=t.icon.props.children[2];else if("permission"===e.key){let e="";t.menu_list?.map(t=>{e+=t.title+" ="+(t?.permission?.map(e=>" "+e)??"")+" \n",t.submenuItems&&t.submenuItems.map((t,s)=>{e+=s+1+") "+t.title+" :"+(t?.permission?.map(e=>" "+e)??"")+" \n"})}),a.permission=e}else"menu_list"!==e.key&&(a[e.key]=t[e.key])}else a[e.key]=t[e.key]}),s.push({...a}),t.children){let a=[];t.children.map(s=>{let l={};e.filter(e=>e.export).map(e=>{if(s[e.key]){if("icon"===e.key)l.icon=s.icon.props.children[2];else if("permission"===e.key){let e="";t.menu_list?.map(t=>{e+=t.title+" ="+(t?.permission?.map(e=>" "+e)??"")+" \n",t.submenuItems&&t.submenuItems.map((t,s)=>{e+=s+1+") "+t.title+" :"+(t?.permission?.map(e=>" "+e)??"")+" \n"})}),l.permission=e}else"menu_list"!==e.key&&(l[e.key]=s[e.key])}}),a.push(l)}),s.push(...a)}}),s}if("search"==s){let s=[];return t.map((t,a)=>{let l={};e.filter(e=>e.export).map(e=>{if(t[e.key]){if("icon"===e.key)l.icon=t.icon.props.children[2];else if("permission"===e.key){let e="";t.menu_list?.map(t=>{e+=t.title+" ="+(t?.permission?.map(e=>" "+e)??"")+" \n",t.submenuItems&&t.submenuItems.map((t,s)=>{e+=s+1+") "+t.title+" :"+(t?.permission?.map(e=>" "+e)??"")+" \n"})}),l.permission=e}else"menu_list"!==e.key&&(l[e.key]=t[e.key])}}),s.push({key:a+1,...l})}),s}},eD=(e,t,s)=>void 0===t||""===t?e:e.filter(e=>{let a;for(let l in e)if(a=!1,s?.find(e=>e!=l)&&(a=e[l]?.toString().toLowerCase().indexOf(t.toLowerCase())>-1),a)break;return a}),[eB,eO]=(0,l.useState)(""),[eA,eW]=(0,l.useState)(""),eF=(0,l.useRef)(null),ez=e=>({filterDropdown:({setSelectedKeys:t,selectedKeys:s,confirm:l,close:n})=>(0,a.jsxs)("div",{style:{padding:8},onKeyDown:e=>e.stopPropagation(),children:[a.jsx(k.default,{ref:eF,placeholder:`Search ${e}`,value:s[0],onChange:e=>t(e.target.value?[e.target.value]:[]),onPressEnter:()=>eV(s,l,e),style:{marginBottom:8,display:"block"}}),(0,a.jsxs)(Z.Z,{children:[a.jsx(L.ZP,{type:"primary",onClick:()=>eV(s,l,e),icon:a.jsx(u.Z,{}),size:"small",style:{width:90},children:"Search"}),a.jsx(L.ZP,{size:"small",style:{width:90},onClick:()=>{n()},children:"Close"})]})]}),filterIcon:e=>a.jsx(u.Z,{style:{color:e?"#1677ff":void 0}}),onFilter:(t,s)=>s[e].toString().toLowerCase().includes(t.toLowerCase()),onFilterDropdownOpenChange:e=>{e&&setTimeout(()=>eF.current?.select(),100)},render:t=>eA===e?a.jsx(r(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[eB],autoEscape:!0,textToHighlight:t?t.toString():""}):t}),eV=(e,t,s)=>{t(),eO(e[0]),eW(s)},eT=[];s.short&&eT.push({key:"sort"}),e.map((e,t)=>{let s,a,l,n,i;e.sort&&(s={sorter:{compare:(t,s)=>isNaN(t[e.key])?t[e.key].localeCompare(s[e.key]):t[e.key]-s[e.key],multiple:t+1}}),e.search&&(a={...ez(e.key)}),e.width&&(l={width:e.width}),e.ellipsis&&(n={ellipsis:{showTitle:!1}}),e.render&&(i={render:e.render}),e.hidden||e.tableHidden||eT.push({title:e.title,dataIndex:e.key,key:e.key,...s,...a,...l,...n,...i})}),s.action&&(s.action?.delete||s.action?.edit)&&eT.push({title:"Action",dataIndex:"action",width:s.action?.change_password?160:100,minWidth:s.action.change_password?160:100,render:(e,t)=>eN.length>=1?(0,a.jsxs)("div",{className:" text-center",children:[s.action.delete?a.jsx(C.Z,{title:"Sure to delete?",onConfirm:()=>eK(t),children:a.jsx("span",{children:a.jsx(N.Z,{title:"Delete",placement:"left",color:"red",children:a.jsx(h.Z,{className:" cursor-pointer",style:{color:"red",fontSize:"18px"}})})})}):null,s.action.edit?a.jsx("a",{className:"ml-4",onClick:()=>{eZ(void 0),eX(t)},children:a.jsx(N.Z,{title:"Edit",color:"orange",children:a.jsx(x.Z,{style:{color:"orange",fontSize:"18px"}})})}):null,s.action.change_password?a.jsx("a",{className:"ml-4",onClick:()=>e1(t),children:a.jsx(N.Z,{title:"Change Password",children:a.jsx(w.Z,{style:{color:"gray",fontSize:"18px"}})})}):null]}):null});let[eU,e$]=(0,l.useState)(!1),[eH,eq]=(0,l.useState)(),[eY,eR]=M.Z.useModal(),eK=async e=>{ev.open({key:e,type:"loading",content:`Deleting ${e.name??""}...`,duration:0});let t=await (0,J.Z)().post(s.action.delete,{id:[e.id]});if((0,V.Z)({res:t,key:e,app:ep})){ev.destroy(e);let t=[];if(eN.map(s=>{s.key!==e.key&&(s.children?t.push({...s,children:s.children.filter(t=>{if(t.key!=e.key)return t})}):t.push(s))}),en){let t=await (0,J.Z)().get(z);(0,V.Z)({res:t,key:e,app:ep})&&en(t.data)}else e_(t);ev.open({key:e,type:"success",content:`Delete ${e.name??""}`,duration:2}),setTimeout(()=>{ev.destroy(e)},3e3)}else ev.destroy(e)},eG=async()=>{let e="manyDelete",t=[],a=[];eN.map(e=>{-1==e7.indexOf(e.key)?e.children?a.push({...e,children:e.children.filter(e=>{if(-1==e7.indexOf(e.key))return e;t.push(e.id)})}):a.push(e):(e.children&&e.children.map(e=>{t.push(e.id)}),t.push(e.id))});let l=await (0,J.Z)().post(s.action.delete,{id:t});if((0,V.Z)({res:l,key:e,app:ep})){if(en){let t=await (0,J.Z)().get(z);t?.code=="00"?en(t.data):t?.code=="ERR_NETWORK"?ev.open({key:e,type:"error",content:"Server Cannot be Reached",duration:10}):ev.open({key:e,type:"error",content:`Code:${t?.response?.data?.code} | Message:${t?.response?.data?.message}`,duration:10})}else e_(a);return ev.open({key:e,type:"success",content:"Delete",duration:2}),e8([]),!0}},[eJ,eQ]=(0,l.useState)(!1),eX=e=>{eZ(void 0),eQ(!0),eq(e),ta(!0)},[e0]=S.Z.useForm(),[e2,e1]=(0,l.useState)(),e5=async e=>{if(e$(!0),e2?.id){let t=await (0,J.Z)().get("/user/"+e2?.id);if((0,V.Z)({res:t,app:ep,key:t.code})){e.username=t.data.username;let s=await (0,J.Z)().post("/user/reset-password/"+e2?.id,e);(0,V.Z)({res:s,app:ep,key:s.code})?(e$(!1),ev.open({key:s.code,type:"success",content:"Password updated successfully",duration:2}),e0.resetFields(),e1(void 0)):e$(!1)}else e$(!1)}else ev.open({key:eN,type:"error",content:"ID Not Found",duration:10})},[e4,e6]=(0,l.useState)(!1),e3=()=>{e6(!0),ta(!0)},[e7,e8]=(0,l.useState)([]),e9={selectedRowKeys:e7,onChange:e=>{console.log("selectedRowKeys changed: ",e),e8(e)},selections:e7.length&&s.action?.delete?[E.Z.SELECTION_ALL,{key:"delete",text:a.jsx("a",{onClick:()=>{eY.confirm({title:"Do you want to delete selected items?",icon:a.jsx(j.Z,{}),content:"You will delete the selected data",okText:"Yes",cancelText:"No",onOk:()=>eG(),onCancel(){}})},children:"Delete"})}]:[E.Z.SELECTION_ALL]},te=(e,t,s,a)=>{eM(a.currentDataSource)},tt=[],[ts,ta]=(0,l.useState)(),[tl]=S.Z.useForm(),tn=t=>(setTimeout(()=>{ta(!1)},300),ts)?(0,a.jsxs)(a.Fragment,{children:["Group Users"==i?a.jsx("div",{className:`mt-6 grid ${e?.find(e=>"permission"==e.type)??"lg:grid-cols-2 lg:gap-2"} `,children:(0,a.jsxs)("div",{className:"flex",children:[a.jsx("div",{className:"w-1/2 text-center py-3",children:"Name"}),a.jsx("div",{className:"w-1/2 text-center py-3",children:"Permission"})]})}):null,(0,a.jsxs)("div",{className:`flex w-full ${"Group Users"!=i?"mt-10":""}`,children:[(0,a.jsxs)("div",{className:"space-y-3 lg:w-1/2 w-full",children:[a.jsx(Y.O,{className:"h-6 w-full"}),a.jsx(Y.O,{className:"h-6 w-full"}),a.jsx(Y.O,{className:"h-6 w-full"}),a.jsx(Y.O,{className:"h-6 w-full"}),a.jsx(Y.O,{className:"h-6 w-full"}),a.jsx(Y.O,{className:"h-6 w-full"}),a.jsx(Y.O,{className:"h-6 w-full"}),a.jsx(Y.O,{className:"h-6 w-full"})]}),(0,a.jsxs)("div",{className:"ml-3 space-y-3 lg:w-1/2 w-full",children:[a.jsx(Y.O,{className:"h-6 w-full"}),a.jsx(Y.O,{className:"h-6 w-full"}),a.jsx(Y.O,{className:"h-6 w-full"}),a.jsx(Y.O,{className:"h-6 w-full"}),a.jsx(Y.O,{className:"h-6 w-full"}),a.jsx(Y.O,{className:"h-6 w-full"}),a.jsx(Y.O,{className:"h-6 w-full"}),a.jsx(Y.O,{className:"h-6 w-full"})]})]})]}):e?.map((s,l)=>{if(!s.hidden&&!s.inputHidden&&(!s.editHidden&&t||!s.createHidden&&!t)){if("text"==s.type||"number"==s.type||"email"==s.type)return"icon"==s.name?(tt.push({name:[s.name],value:eH?.[s.key]?.props?.children?.[2]??""}),a.jsx($.Z,{disabled:eU||(t?s.disabledEdit:s.disabledCreate),className:"lg:w-1/2 p-1",label:s.title,name:s.name,rules:s.rules,type:s.type,id:s.key+s.title,placeholder:s.placeholder},l)):s.change?(tt.push({name:[s.name],value:eH?.[s.key]}),a.jsx($.Z,{onChange:e=>{s.change.value==e.target.value?document.getElementById((t?"edit_":"create_")+s.change.type+s.change.key).style.display="none":document.getElementById((t?"edit_":"create_")+s.change.type+s.change.key).style.display="block"},disabled:eU||(t?s.disabledEdit:s.disabledCreate),className:"lg:w-1/2 p-1",label:s.title,name:s.name,rules:s.rules,type:s.type,id:s.key+s.title,placeholder:s.placeholder},l)):(tt.push({name:[s.name],value:eH?.[s.key]}),a.jsx($.Z,{disabled:eU||(t?s.disabledEdit:s.disabledCreate),className:"lg:w-1/2 p-1",label:s.title,name:s.name,rules:s.rules,type:s.type,id:s.key+s.title,placeholder:s.placeholder},l));if("date"==s.type)return tt.push({name:[s.name],value:W()(eH?.[s.key],"YYYY-MM-DD")}),a.jsx(S.Z.Item,{name:s.name,rules:s.rules,label:s.title,className:"lg:w-1/2 p-1",children:a.jsx(P.default,{disabled:eU,className:"w-full",name:s.name,id:s.key+s.title})},l);if("file"==s.type)return a.jsx(S.Z.Item,{name:s.name,rules:s.rules,label:s.title,className:"lg:w-full p-1",children:a.jsx(k.default,{type:"file",disabled:eU,accept:s.accept,className:"w-full",name:s.name,id:t?"edit_"+s.key:"create_"+s.key})},l);if("textarea"==s.type)return a.jsx("div",{className:"",children:a.jsxs("div",{className:"mb-2",children:[a.jsx(I.default.Title,{level:5,children:s.title}),a.jsx(ec,{disabled:eU,rows:4})]})},l);else if("permission"==s.type)return a.jsxs("div",{className:"w-full border-b",children:[a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"w-1/2 text-center py-3",children:"Name Menu"}),a.jsx("div",{className:"w-1/2 text-center py-3",children:"Permission"})]}),ej?.map((e,t)=>e.sub_menu_length?a.jsxs("div",{children:[a.jsx("div",{className:"flex border-t -mb-2",children:a.jsxs("div",{className:"py-2 w-1/2",children:[" ",e.name," "]})}),e.sub_menu.map((e,t)=>e.sub_menu_length?a.jsxs("div",{children:[a.jsxs("div",{className:"flex",children:[a.jsxs("div",{className:"w-1/2 ",children:["- ",e.name," "]}),a.jsx("div",{className:"w-1/2",children:e.action.map((t,s)=>{let l=!!eH?.menu_list.find(s=>s.submenuItems?.find(s=>s.permission.find(a=>{if(a+"|"+s.title+"|$"==t.name+"|"+e.name+"|"+e.path)return a})));return a.jsx(q.Z,{checked:!e4&&l,className:"",id:t.name+"|"+e.name+"|"+e.path,name:e.id+"|"+t.id,label:t.name},s)})})]}),e.sub_menu.map((e,t)=>e.sub_menu_length?a.jsxs("div",{children:[a.jsxs("div",{className:"flex",children:[a.jsxs("div",{className:"w-1/2 ml-2",children:[" - ",e.name," "]}),a.jsx("div",{className:"w-1/2 -ml-2",children:e.action.map((t,s)=>{let l=!!eH?.menu_list.find(s=>s.submenuItems?.find(s=>s.submenuItems?.find(s=>s.permission.find(a=>{if(a+"|"+s.title+"|%"==t.name+"|"+e.name+"|"+e.path)return a}))));return a.jsx(q.Z,{checked:!e4&&l,className:"",id:t.name+"|"+e.name+"|"+e.path,name:e.id+"|"+t.id,label:t.name},s)})})]}),e.sub_menu.map((e,t)=>e.sub_menu_length?a.jsxs("div",{children:[a.jsxs("div",{className:"flex",children:[a.jsxs("div",{className:"w-1/2 ml-4",children:[" - ",e.name," "]}),a.jsx("div",{className:"w-1/2 -ml-4",children:e.action.map((t,s)=>{let l=!!eH?.menu_list.find(s=>s.submenuItems?.find(s=>s.submenuItems?.find(s=>s.submenuItems?.find(s=>s.permission.find(a=>{if(a+"|"+s.title+"|&"==t.name+"|"+e.name+"|"+e.path)return a})))));return a.jsx(q.Z,{checked:!e4&&l,className:"",id:t.name+"|"+e.name+"|"+e.path,name:e.id+"|"+t.id,label:t.name},s)})})]}),e.sub_menu.map((e,t)=>a.jsxs("div",{className:"flex ",children:[a.jsxs("div",{className:"w-1/2 pl-6",children:[" - ",e.name]}),a.jsx("div",{className:"w-1/2",children:e.action.map((t,s)=>{let l=!!eH?.menu_list.find(s=>s.submenuItems?.find(s=>s.submenuItems?.find(s=>s.submenuItems?.find(s=>s.submenuItems?.find(s=>s.permission.find(a=>{if(a+"|"+s.title+"|"+s.path==t.name+"|"+e.name+"|"+e.path)return a}))))));return a.jsx(q.Z,{checked:!e4&&l,className:"",id:t.name+"|"+e.name+"|"+e.path,name:e.id+"|"+t.id,label:t.name},s)})})]},t))]},t):a.jsxs("div",{className:"flex ",children:[a.jsxs("div",{className:"w-1/2 pl-4",children:[" - ",e.name]}),a.jsx("div",{className:"w-1/2",children:e.action.map((t,s)=>{let l=!!eH?.menu_list.find(s=>s.submenuItems?.find(s=>s.submenuItems?.find(s=>s.submenuItems?.find(s=>s.permission.find(a=>{if(a+"|"+s.title+"|"+s.path==t.name+"|"+e.name+"|"+e.path)return a})))));return a.jsx(q.Z,{checked:!e4&&l,className:"",id:t.name+"|"+e.name+"|"+e.path,name:e.id+"|"+t.id,label:t.name},s)})})]},t))]},t):a.jsxs("div",{className:"flex ",children:[a.jsxs("div",{className:"w-1/2 pl-4",children:[" - ",e.name]}),a.jsx("div",{className:"w-1/2",children:e.action.map((t,s)=>{let l=!!eH?.menu_list.find(s=>s.submenuItems?.find(s=>s.submenuItems?.find(s=>s.permission.find(a=>{if(a+"|"+s.title+"|"+s.path==t.name+"|"+e.name+"|"+e.path)return a}))));return a.jsx(q.Z,{checked:!e4&&l,className:"",id:t.name+"|"+e.name+"|"+e.path,name:e.id+"|"+t.id,label:t.name},s)})})]},t))]},t):a.jsxs("div",{className:"flex",children:[a.jsxs("div",{className:"w-1/2",children:[" - ",e.name]}),a.jsx("div",{className:"w-1/2",children:e.action.map((t,s)=>{let l=!!eH?.menu_list.find(s=>s.submenuItems?.find(s=>s.permission.find(a=>{if(a+"|"+s.title+"|"+s.path==t.name+"|"+e.name+"|"+e.path)return a})));return a.jsx(q.Z,{checked:!e4&&l,className:"",id:t.name+"|"+e.name+"|"+e.path,name:e.id+"|"+t.id,label:t.name},s)})})]},t))]},t):a.jsxs("div",{className:"flex border-t",children:[a.jsxs("div",{className:"py-3 w-1/2",children:[" ",e.name," "]}),a.jsx("div",{className:"py-3 w-1/2",children:e.action.map((t,s)=>{let l=!!eH?.menu_list.find(s=>s.permission?.find(a=>{if(a+"|"+s.title+"|"+s.path==t.name+"|"+e.name+"|"+e.path)return a}));return a.jsx(q.Z,{onChange:e=>{},checked:!e4&&l,id:t.name+"|"+e.name+"|"+e.path,name:e.id+"|"+t.id,label:t.name},s)})})]},t))]},l);else if("select"==s.type)return s.select?.type?("icon"==s.key?tt.push({name:[s.name],value:eH?.[s.key]?.props?.children?.[2]}):"action"==s.key?tt.push({name:[s.name],value:eH?.action_input}):tt.push({name:[s.name],value:eH?.[s.key]}),a.jsx("div",{id:(t?"edit_":"create_")+s.type+s.key,className:"lg:w-1/2 p-1",children:a.jsx(H.Z,{disabled:eU,mode:s.mode,label:s.title,type:!0,id:s.name,name:s.name,placeholder:"Select..",className:"w-full",options:s.select.data,rules:s.rules})},l)):a.jsx("div",{id:s.type+s.key,className:"lg:w-1/2 p-1",children:a.jsx(H.Z,{disabled:eU,placeholder:"Select..",className:"w-full",id:s.name,options:s.select,label:s.title})},l);else if("avatar"==s.type)return a.jsx(R.Z,{label:s.title,rules:s.rules,name:s.name,id:t?"edit_"+s.key:"create_"+s.key,src:t?eH?.[s.key+"_input"]:void 0,empty:t?!eH?.[s.key+"_input"]&&eH?.[s.key+"_input"]:void 0},l);else if("password"==s.type)return a.jsxs("div",{className:" w-full",children:[a.jsx(S.Z.Item,{hasFeedback:!0,label:"Password",name:"password",rules:[{required:!0},()=>({validator:(e,t)=>t?.length>=8?Promise.resolve():Promise.reject(Error("Password min 8 characters!"))})],children:a.jsx(k.default,{disabled:eU,type:"password",placeholder:"Password"})}),a.jsx(S.Z.Item,{label:"Confirm Password",name:"password_confirm",dependencies:["password"],hasFeedback:!0,rules:[{required:!0},({getFieldValue:e})=>({validator:(t,s)=>s&&e("password")!==s?Promise.reject(Error("The new password that you entered do not match!")):Promise.resolve()})],children:a.jsx(k.default,{disabled:eU,type:"password",placeholder:"New Password"})})]},l);else if("path_menu_parent_id"==s.type)return tt.find(e=>"menu_type"==e.name[0])?eb?.menu_type?tt.push({name:["menu_type"],value:eb.menu_type}):eH?.path=="#"||eH?.path=="$"||eH?.path=="%"||eH?.path=="&"||eH?.path=="*"?(tt.push({name:["menu_type"],value:"Primary_Sub"}),eZ({menu_type:"Primary_Sub"})):!eH?.menu_parent_id&&eH?.path?(tt.push({name:["menu_type"],value:"Primary"}),eZ({menu_type:"Primary"})):eH?.menu_parent_id&&eH?.path&&(tt.push({name:["menu_type"],value:"Sub"}),eZ({menu_type:"Sub"})):eH?.path=="#"||eH?.path=="$"||eH?.path=="%"||eH?.path=="&"||eH?.path=="*"?(tt.push({name:["menu_type"],value:"Primary_Sub"}),tt.push({name:["path"],value:eH?.path})):!eH?.menu_parent_id&&eH?.path?tt.push({name:["menu_type"],value:"Primary"}):eH?.menu_parent_id&&eH?.path&&tt.push({name:["menu_type"],value:"Sub"}),tt.push({name:["path"],value:eH?.path}),tt.push({name:["menu_parent_id"],value:eH?.path=="#"?"primary":eH?.menu_parent_id}),a.jsxs("div",{className:" w-full lg:flex lg:flex-wrap pl-2",children:[a.jsx(S.Z.Item,{label:"Menu Type",className:"lg:w-1/2",name:"menu_type",rules:[{required:!0}],children:a.jsx(D.ZP.Group,{options:[{label:"Primary",value:"Primary"},{label:"Primary Sub",value:"Primary_Sub"},{label:"Sub",value:"Sub"}],onChange:({target:{value:e}})=>{tt.push({name:["menu_type"],value:e}),eZ({menu_type:e})},optionType:"button",buttonStyle:"solid"})}),eb?.menu_type==="Sub"?a.jsxs("div",{className:"lg:w-1/2 lg:flex lg:flex-wrap",children:[a.jsx("div",{className:"lg:w-1/2 p-1",children:a.jsx($.Z,{rules:[{required:!0},()=>({validator:(e,t)=>"#"==t||"$"==t||"%"==t||"&"==t||"*"==t?Promise.reject(Error("Value is not allowed!")):"/"!=t.slice(0,1)&&t?Promise.reject(Error('Value must begin with "/"')):Promise.resolve()})],label:"Path",name:"path",id:(t?"edit_":"create_")+"path",disabled:eU||(t?s.disabledEdit:s.disabledCreate),type:"text",placeholder:"/path"})}),a.jsx("div",{id:(t?"edit_":"create_")+s.type+s.key,className:"lg:w-1/2 p-1",children:a.jsx(H.Z,{disabled:eU,label:"Menu Primary",id:(t?"edit_":"create_")+"menu_parent_id",name:"menu_parent_id",placeholder:"Select..",className:"w-full",options:e.find(e=>"menu_parent_id"==e.key)?.select.data,rules:[{required:!0}]})})]}):eb?.menu_type==="Primary_Sub"?a.jsx("div",{className:"lg:w-1/2 lg:flex lg:flex-wrap",children:a.jsx("div",{id:(t?"edit_":"create_")+s.type+s.key,className:"lg:w-full p-1",children:a.jsx(H.Z,{disabled:eU,label:"Menu Section",name:"menu_parent_id",id:(t?"edit_":"create_")+"menu_section",placeholder:"Select..",className:"w-full",options:[{label:"Primary Menu",type:0,value:"primary"},...e.find(e=>"menu_parent_id"==e.key)?.select.data],rules:[{required:!0}]})})}):eb?.menu_type==="Primary"?a.jsx("div",{className:"lg:w-1/2 lg:flex lg:flex-wrap",children:a.jsx("div",{id:(t?"edit_":"create_")+s.type+s.key,className:"lg:w-full p-1",children:a.jsx($.Z,{rules:[{required:!0},()=>({validator:(e,t)=>"#"==t||"$"==t||"%"==t||"&"==t||"*"==t?Promise.reject(Error("Value is not allowed!")):"/"!=t.slice(0,1)&&t?Promise.reject(Error('Value must begin with "/"')):Promise.resolve()})],label:"Path",name:"path",id:(t?"edit_":"create_")+"path",disabled:eU||(t?s.disabledEdit:s.disabledCreate),type:"text",placeholder:"/path"})})}):null]},l);else if("kategori_sertifikat"==s.type)return tt.push({name:["unit"],value:eb?.unit??eH?.[s.key].sub_kategori}),tt.push({name:["kategori"],value:eb?.kategori??eH?.[s.key].id}),a.jsxs("div",{className:"lg:w-1/2 p-1",children:[a.jsx(H.Z,{disabled:eU,label:"Unit",type:!0,name:"unit",id:"unit",placeholder:"Select..",className:"w-full",onChange:e=>{eZ({unit:e,kategori:s.select.find(t=>t.sub_kategori==e)?.id})},options:ei().uniqBy(s.select.map(e=>({label:e.sub_kategori,value:e.sub_kategori})),"label")}),eb?.unit??eH?.[s.key].sub_kategori?a.jsx(H.Z,{disabled:eU,label:"Kategori",type:!0,name:"kategori",id:"kategori",placeholder:"Select..",className:"w-full",options:s.select.map(e=>({label:e.sub_kategori_sub,value:e.id,sub:e.sub_kategori})).filter(e=>e.sub==(eb?.unit??eH?.[s.key].sub_kategori))}):null]},l)}}),ti=async(t,a)=>{let l=null,n=new FormData;for(let e in t)t[e]&&n.append(e,t[e]);let r=!1;if(e.filter(e=>e?.hidden?void 0:!t[e.key]).map(s=>{if("avatar"==s.type){let e=document.getElementById("add"!==a?"edit_"+s.key:"create_"+s.key)?.files;e?.[0]&&n.append(s.key,e[0]),document.getElementById(`imgDel_edit_${s.key}`)?.value&&(n.append(s.key,""),t[s.name]=null)}else if("date"==s.type);else if("permission"==s.type){let e=Array.from(new FormData(eJ?document.getElementById("editModal"):document.getElementById("addModal")).entries()),s=[];e.map(e=>{let t=e[0].split("|");if(2==t.length){if(s.length){let e=s.find(e=>e.menu_id==t[0]);e?s=[...s.filter(e=>e.menu_id!=t[0]),{menu_id:t[0],action:[...e.action,t[1]]}]:s.push({menu_id:t[0],action:[t[1]]})}else s.push({menu_id:t[0],action:[t[1]]})}}),s.length||(ev.open({key:"menu_list",type:"info",content:"There are no menus checked, please check at least one menu",duration:2}),r=!0),t.menu_list=s,n.append("menu_list",s)}else!Array.from(n.entries()).find(e=>s.name==e[0])&&((t[s.name]||"password"!==s.name)&&(t[s.name]||"action"!==s.name)&&(t[s.name]||"path"!==s.name?(t[s.name]||"action"!==s.name)&&n.append(s.name,""):(n.append(s.name,"primary"==t.menu_parent_id?"#":t.path??e.find(e=>"menu_parent_id"==e.key)?.select.data.find(e=>e.value==t.menu_parent_id)?.type),n.append("menu_parent_id","primary"==t.menu_parent_id||""==t.menu_parent_id?null:t.menu_parent_id))),t[s.name]||"action"!=s.name?t[s.name]||"path"!=s.name?t[s.name]||"menu_parent_id"!=s.name?(t[s.name]||"password"!=s.name)&&(t[s.name]=""):t[s.name]="primary"==t[s.name]||""==t[s.name]?null:t[s.name]:(t[s.name]="primary"==t.menu_parent_id?"#":t.path??e.find(e=>"menu_parent_id"==e.key)?.select.data.find(e=>e.value==t.menu_parent_id)?.type,t.menu_parent_id="primary"==t.menu_parent_id||""==t.menu_parent_id?null:t.menu_parent_id):t[s.name]=[])}),e.filter(e=>{"number"==e.type&&"nik"!==e.key?t[e.name]=t[e.name]?Number(t[e.name]):null:"date"==e.type&&(t[e.name]=W()(t[e.name]).format("YYYY-MM-DD"))}),e.find(e=>{if("file"==e.type){let t=document.getElementById("add"!==a?"edit_"+e.key:"create_"+e.key)?.files;if(t?.[0])return n.delete(e.key),n.append(e.key,t?.[0]),!0}else if("avatar"==e.type)return!0})&&(l={"Content-Type":"multipart/form-data"}),!r){if(e$(!0),"add"==a){ev.open({key:t,type:"loading",content:"Loading...",duration:0});let e=await (0,J.Z)(l).post(s.action?.create,l?n:t);if((0,V.Z)({res:e,app:ep,key:t})){let e=await (0,J.Z)().get(z);(0,V.Z)({res:e,app:ep,key:t})&&(e$(!1),en?en(e.data):e_(await eL(e.data)),ev.destroy(),e6(!1),tl.resetFields(),eZ(void 0),ev.open({key:t,type:"success",content:"Created Successfully",duration:2}))}else ev.destroy(),e$(!1)}else if("edit"==a){if(eH.id){ev.open({key:t,type:"loading",content:"Loading...",duration:0});let e=await (0,J.Z)(l).post(s.action.edit+"/"+eH.id,l?n:t);if((0,V.Z)({res:e,app:ep,key:t})){let e=await (0,J.Z)().get(z);(0,V.Z)({res:e,app:ep,key:t})&&(ev.destroy(),e$(!1),en?en(e.data):e_(await eL(e.data)),eQ(!1),eZ(void 0),ev.open({key:t,type:"success",content:"Successfully Updated",duration:2}))}else ev.destroy(),e$(!1);let a=async()=>{let e=await (0,J.Z)().refresh_Token();if((0,V.Z)({res:e,app:ep})){em.dataUser=e.data;let t=[];e.data.menuList.find(e=>{e.submenuItems?e.submenuItems.find(e=>{e.path===ed.replace("/admin","")&&(t=e.permission)}):e.path===ed.replace("/admin","")&&(t=e.permission)}),em.permission=t}};("Role"===i||"Menu"===i)&&a()}else ev.destroy(),e$(!1),ev.open({key:s.action.edit,type:"error",content:"Edit Data Not Found",duration:2})}else if("sort"==a){e$(!1);let e={};Object.keys(t).map(s=>{"icon"==s?e[s]=t[s]?.props?.children[2]:e[s]=t[s]});let s=await (0,J.Z)().post(z+"/update/"+t.id,e);(0,V.Z)({res:s,app:ep,key:s})?(ev.destroy(),eZ(void 0),ev.open({key:s,type:"success",content:"Sorting was successful",duration:2})):(ev.destroy(),e_(eN))}}},tr=e=>{if("excel"==e.key)td(eC??eN,s.export?.excel?.subject);else if("pdf"===e.key){let e=new er.default({orientation:"p",unit:"mm",format:"a4"});eo()(e,{theme:"plain",body:[[{content:s.export?.excel?.subject.toUpperCase(),styles:{halign:"left",fontSize:13,fontStyle:"bold"}}]]});let t=Object.keys((eC??eN)?.[0]).filter(e=>"id"!=e&&"key"!=e&&"file"!=e),a=[t.map(e=>({content:e.toUpperCase()?.replaceAll("_"," ")=="HTML"?"KETERANGAN":e.toUpperCase()?.replaceAll("_"," "),styles:{halign:"center"}}))],l=(eC??eN).map(e=>{let s=[];return t.map(t=>{e[t]?.props?s.push({content:e[t]?.props?.children?.map((e,t)=>t>0?e:"").join("")??"-",styles:{halign:"center"}}):e[t]?.sub_kategori?s.push({content:e[t]?.sub_kategori??"-",styles:{halign:"center"}}):s.push({content:e[t]?.replaceAll("_"," ")??"-",styles:{halign:"center"}})}),s});eo()(e,{theme:"striped",headStyles:{lineWidth:.1,lineColor:[0,0,0],fillColor:[121,193,235],textColor:[0,0,0],halign:"center",valign:"middle",fontStyle:"bold"},bodyStyles:{lineWidth:.1,lineColor:[0,0,0],textColor:[0,0,0]},head:a,body:l}),e.save(s.export?.excel?.subject+".pdf")}},td=(e,t)=>{let s=eI(e,"export");s.forEach(e=>{"html"in e&&(e.keterangan=e.html?.props?.children?.map((e,t)=>t>0?e:"").join(""),delete e.html)}),(0,G.Z)(s.map(e=>Object.keys(e).reduce((t,s)=>(s.includes("_")?t[s.replace(/_/g," ")]=e[s]:t[s]=e[s],t),{})),t)},to=()=>{let e=[];return s.export?.excel&&e.push({key:"excel",label:(0,a.jsxs)(N.Z,{placement:"left",title:"Download Excel",children:[a.jsx(o.Z,{})," Excel"]})}),s.export?.pdf&&e.push({key:"pdf",label:(0,a.jsxs)(N.Z,{placement:"left",title:"Download PDF",children:[a.jsx(m.Z,{})," PDF"]})}),e};return a.jsx(a.Fragment,{children:A?a.jsx(ee.Z,{}):(0,a.jsxs)(B.Z,{className:" rounded-2xl border-none shadow",children:[eg,eR,s.filterDate&&a.jsx(T.Z,{onChange:eP,end_date:s.filterDate.end_date,start_date:s.filterDate.start_date,rangeDayPick:s.filterDate.rangeDayPick,className:" w-full  xl:w-1/3 mb-2"}),(0,a.jsxs)("div",{className:"float-right w-full xl:w-1/2 mb-2 ",children:[(0,a.jsxs)("div",{className:"md:hidden",children:[s.action?.create?a.jsx(N.Z,{title:"Create Data",color:"blue",children:a.jsx(L.ZP,{className:"mb-2 w-full",type:"primary",onClick:()=>{eZ(void 0),tl.resetFields(),e3()},children:"+ Add"})}):null,s.export?.excel||s.export?.pdf?a.jsx(O.Z,{className:"mb-2 w-full",menu:{items:to(),onClick:tr},children:a.jsx(L.ZP,{children:(0,a.jsxs)(Z.Z,{children:[a.jsx(y.Z,{})," Export"]})})}):null,s.import?a.jsx(X.Z,{className:"mb-2 w-full",urlFormat:s.import?.url}):null]}),(0,a.jsxs)("div",{className:"flex justify-end",children:[s.nonSearchAll?null:a.jsx(U.Z,{className:"w-full",directChange:()=>{ew(!0)},onChange:e=>{if(s.filterApiSearch);else{if(s.filterDate)""==e?eP(eS,!1):e_(eD(eP(eS,!0),e));else{let t=eD(eI(eu,"search"),e,["key"]);e_(eu.filter(e=>{if(t.find(t=>t.key==e.key))return e}))}eM(void 0)}ew(!1)}}),(0,a.jsxs)("div",{className:"flex max-md:hidden",children:[s.action?.create?a.jsx(N.Z,{title:"Create Data",color:"blue",children:a.jsx(L.ZP,{className:"ml-2",type:"primary",onClick:()=>{eZ(void 0),tl.resetFields(),e3()},children:"+ Add"})}):null,s.export?.excel||s.export?.pdf?a.jsx(O.Z,{className:"ml-2 w-full",menu:{items:to(),onClick:tr},children:a.jsx(L.ZP,{children:(0,a.jsxs)(Z.Z,{children:[a.jsx(y.Z,{}),"   Export"]})})}):null,s.import?a.jsx(X.Z,{className:"ml-2",urlFormat:s.import?.url}):null]})]})]}),a.jsx(M.Z,{title:`Create ${i}`,open:e4,onOk:()=>{document.getElementById("addModalSubmit").click()},confirmLoading:eU,onCancel:()=>{e6(!1)},width:"80%",className:"z-50",children:(0,a.jsxs)(S.Z,{autoComplete:"off",layout:"vertical",id:"addModal",form:tl,fields:[],onFinish:e=>ti(e,"add"),className:"lg:flex lg:flex-wrap",children:[tn(),a.jsx("button",{type:"submit",id:"addModalSubmit"})]})}),a.jsx(M.Z,{className:"z-50",title:`Edit ${i}  ${eH?.name??eH?.username??""}`,open:eJ,onOk:()=>{document.getElementById("editModalSubmit").click()},confirmLoading:eU,onCancel:()=>{eQ(!1)},width:"80%",children:(0,a.jsxs)(S.Z,{layout:"vertical",onFinish:e=>ti(e,"edit"),autoComplete:"off",fields:tt,onFieldsChange:(e,t)=>{tt=t},id:"editModal",className:"lg:flex lg:flex-wrap",children:[tn("edit"),a.jsx("button",{type:"submit",id:"editModalSubmit"})]})}),a.jsx(M.Z,{className:"z-50",title:"Change Password",open:e2,footer:"",confirmLoading:eU,onCancel:()=>e1(!1),width:"80%",children:(0,a.jsxs)(S.Z,{autoComplete:"off",layout:"vertical",onFinish:e5,form:e0,children:[(0,a.jsxs)("div",{className:"lg:flex lg:flex-wrap",children:[a.jsx(S.Z.Item,{hasFeedback:!0,label:"New Password",className:"lg:w-1/2 p-1",name:"new_password",rules:[{required:!0},()=>({validator:(e,t)=>t?.length>=8?Promise.resolve():Promise.reject(Error("Password min 8 characters!"))})],children:a.jsx(k.default,{type:"password",disabled:eU,placeholder:"Password"})}),a.jsx(S.Z.Item,{label:"Confirm Password",name:"confim_password",className:"lg:w-1/2 p-1",dependencies:["new_password"],hasFeedback:!0,rules:[{required:!0},({getFieldValue:e})=>({validator:(t,s)=>s&&e("new_password")!==s?Promise.reject(Error("The new password that you entered do not match!")):Promise.resolve()})],children:a.jsx(k.default,{type:"password",disabled:eU,placeholder:"New Password"})})]}),a.jsx(S.Z.Item,{children:a.jsx(L.ZP,{loading:eU,type:"dashed",danger:!0,htmlType:"submit",className:"w-full p-1",children:"Change Password"})})]})}),s.sort?a.jsx(et.LB,{modifiers:[es.DL],onDragEnd:({active:e,over:t})=>{if(e.id!==t?.id){let s=eN.findIndex(t=>t.key===e.id);ti({sort:eN.findIndex(e=>e.key===t?.id)+1,...eN[s]},"sort"),e_(s=>{let a=s.findIndex(t=>t.key===e.id),l=s.findIndex(e=>e.key===t?.id);return(0,ea.Rp)(s,a,l)})}},children:a.jsx(ea.Fo,{items:eN.map(e=>e.key),strategy:ea.qw,children:a.jsx(E.Z,{components:{body:{row:({children:e,...t})=>{let{attributes:l,listeners:i,setNodeRef:r,setActivatorNodeRef:d,transform:o,transition:m,isDragging:c}=(0,ea.nB)({id:t["data-row-key"]}),p={...t.style,transform:el.ux.Transform.toString(o&&{...o,scaleY:1}),transition:m,...c?{position:"relative",zIndex:9999}:{}};return a.jsx("tr",{...t,ref:r,style:p,...l,children:n().Children.map(e,e=>"sort"===e.key&&s.short?n().cloneElement(e,{children:a.jsx(f.Z,{ref:d,style:{touchAction:"none",cursor:"move"},...i})}):e)})}}},rowKey:"key",scroll:{x:800},loading:ex,rowSelection:s.rowSelection?{...e9,checkStrictly:!1}:void 0,columns:eT,dataSource:eN,onChange:te})})}):a.jsx(E.Z,{pagination:!s.nonPagination&&void 0,showHeader:!s.nonShowHeader&&void 0,scroll:{x:800},loading:ex,rowSelection:s.rowSelection?{...e9,checkStrictly:!1}:void 0,columns:eT,dataSource:eN,onChange:te,rowClassName:e=>e?.status=="Nonactive"||e?.status=="Nonaktif"?"bg-red-100 dark:bg-red-800 dark:bg-opacity-10":""})]})})}}};