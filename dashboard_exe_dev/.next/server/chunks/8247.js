exports.id=8247,exports.ids=[8247],exports.modules={68854:(e,t,s)=>{"use strict";s.d(t,{Z:()=>D});var a=s(10326),i=s(17577),l=s(35047),n=s(34626),d=s(6400),r=s(79743),c=s(60816),o=s(37619),m=s(21063),f=s(29116),u=s(58968),p=s(24895),h=s(30278),x=s(72380),y=s(49965),v=s(46024),g=s(63191),k=s(88295),j=s.n(k);s(55675);var I=s(62989),N=s.n(I),E=s(20341),_=s(95425),C=s(52279),w=s(46821),M=s(44624),Z=s(97194);j().locale("id");let S=s(8534);function D(){let e=(0,i.useContext)(E.Z),t=(0,l.usePathname)(),s=n.Z.useApp(),{message:k,notification:I,modal:N}=s,S=t.split("/").filter(e=>e).join("_").toUpperCase(),D=e?.dataUser?.menuList.map(e=>(function e(t,s){if(Array.isArray(t.submenuItems))for(let a of t.submenuItems){if(a.path===s)return{parent:t,submenuItem:a};let i=e(a,s);if(i)return i}return null})(e,t)).find(Boolean),B=D?.submenuItem?.path.split("/").pop().toLowerCase(),Y="daftarhadirdinasan"==B?"prasarana-upload/daftar-hadir-dinasan":"serahterimadinasan"==B?"prasarana-upload/serah-terima-dinasan":"datakelambatan"==B?"prasarana-upload/data-kelambatan":"",[$,L]=(0,i.useState)(),[z,A]=(0,i.useState)(),[H,b]=(0,i.useState)(null),[T,O]=(0,i.useState)([2,"month"]),[U,F]=(0,i.useState)(!1),[R,V]=(0,i.useState)([]),[P,K]=(0,i.useState)(0),W=e=>{if(!e)return"-";if("xlsx"==e.split(".").pop().toLowerCase())return a.jsx("a",{onClick:()=>{window.location.href=window.makeUrl("/file/"+e)},children:a.jsx(d.Z,{placement:"top",title:"Download Excel \n"+e,children:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",className:"w-5 h-5 m-1",children:[a.jsx("path",{fill:"#169154",d:"M29,6H15.744C14.781,6,14,6.781,14,7.744v7.259h15V6z"}),a.jsx("path",{fill:"#18482a",d:"M14,33.054v7.202C14,41.219,14.781,42,15.743,42H29v-8.946H14z"}),a.jsx("path",{fill:"#0c8045",d:"M14 15.003H29V24.005000000000003H14z"}),a.jsx("path",{fill:"#17472a",d:"M14 24.005H29V33.055H14z"}),(0,a.jsxs)("g",{children:[a.jsx("path",{fill:"#29c27f",d:"M42.256,6H29v9.003h15V7.744C44,6.781,43.219,6,42.256,6z"}),a.jsx("path",{fill:"#27663f",d:"M29,33.054V42h13.257C43.219,42,44,41.219,44,40.257v-7.202H29z"}),a.jsx("path",{fill:"#19ac65",d:"M29 15.003H44V24.005000000000003H29z"}),a.jsx("path",{fill:"#129652",d:"M29 24.005H44V33.055H29z"})]}),a.jsx("path",{fill:"#0c7238",d:"M22.319,34H5.681C4.753,34,4,33.247,4,32.319V15.681C4,14.753,4.753,14,5.681,14h16.638 C23.247,14,24,14.753,24,15.681v16.638C24,33.247,23.247,34,22.319,34z"}),a.jsx("path",{fill:"#fff",d:"M9.807 19L12.193 19 14.129 22.754 16.175 19 18.404 19 15.333 24 18.474 29 16.123 29 14.013 25.07 11.912 29 9.526 29 12.719 23.982z"})]})})});if("pdf"!=e.split(".").pop().toLowerCase())return a.jsx("a",{onClick:()=>{window.location.href=window.makeUrl("/file/"+e)},children:a.jsx(d.Z,{placement:"top",title:"Download File \n"+e,children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 m-1",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})})})});{let t="";return a.jsx(d.Z,{placement:"top",title:"Download Pdf \n"+e,children:a.jsx(r.Z,{width:25,onClick:()=>{t=window.makeUrl("/file/"+e)},preview:{mask:a.jsx(f.Z,{}),destroyOnClose:!0,imageRender:()=>a.jsx("iframe",{className:"px-20 pt-3",width:"100%",height:"100%",src:t}),toolbarRender:()=>null},src:"/assets/pdf.svg"})})}},[q,G]=(0,i.useState)(!1),[J,Q]=(0,i.useState)(),X=async e=>{if(!e.code)return k.warning("Code Tidak Terdeteksi");let t=e.file?.files?.[0]??e.file[0];F(!0);let i=await (0,C.Z)({"Content-Type":"multipart/form-data"}).post(Y,{period:j()($).format("YYYY-MM-DD"),menu_at:S,code:e.code,description:e.deskripsi,file:t});(0,M.Z)({res:i,app:s})?(F(!1),V(R.filter(t=>t!==e.key)),Q({dataInput:J.dataInput.map(t=>(t.key==e.key&&(t.create=!1,t.deskripsi=a.jsx("input",{defaultValue:e.deskripsi,className:"h-10 mt-2 mr-2 p-2 border  rounded w-full  text-center",name:"deskripsi",id:"deskripsi_"+t.key}),t.file=(0,a.jsxs)("label",{htmlFor:"file_"+e.key,className:" cursor-pointer",onMouseEnter:()=>{document.getElementById("file_"+e.key).value&&(document.getElementById("fileEmpty_"+e.key)?.classList.remove("hidden"),document.getElementById("fileCheck_"+e.key)?.classList.add("hidden"))},onMouseLeave:()=>{document.getElementById("file_"+e.key).value&&(document.getElementById("fileEmpty_"+e.key)?.classList.add("hidden"),document.getElementById("fileCheck_"+e.key)?.classList.remove("hidden"))},children:[(0,a.jsxs)(d.Z,{placement:"top",className:" w-5 h-5 m-1",title:"Upload File",children:[a.jsx(u.Z,{style:{fontSize:"20px"},id:"fileEmpty_"+e.key}),a.jsx(p.Z,{style:{fontSize:"20px",color:"blue"},className:"hidden",id:"fileCheck_"+e.key})]}),a.jsx("input",{id:"file_"+e.key,onChange:e=>{e.target.value?(document.getElementById("fileEmpty_"+e.key)?.classList.add("hidden"),document.getElementById("fileCheck_"+e.key)?.classList.remove("hidden")):(document.getElementById("fileEmpty_"+e.key)?.classList.remove("hidden"),document.getElementById("fileCheck_"+e.key)?.classList.add("hidden"))},accept:".pdf",type:"file",className:"hidden"})]})),t)),data:J.data.map(s=>(s.key==e.key&&(s.create=!1,s.deskripsi=e.deskripsi,s.file=t?W(S+"_"+e.code+"_"+j()($).format("YYYYMMDD")+".pdf"):s.file),s))})):F(!1)},ee=async e=>{F(!0);let t=await (0,C.Z)().post(Y.replaceAll("-upload","")+"/delete",{period:j()($).format("YYYY-MM-DD"),menu_at:S,code:e.code});(0,M.Z)({res:t,app:s})?(F(!1),Q({dataInput:J.dataInput.filter(t=>t.key!=e.key),data:J.data.filter(t=>t.key!=e.key)})):F(!1)};return a.jsx(_.Z,{pathname:t,globalState:e,children:a.jsx(w.Z,{loadingExport:q,onApprove:e=>{A(e)},codeDelete:S.includes("DAFTARHADIRDINASAN")?"DAFTAR_HADIR_DINASAN":S.includes("DATAKELAMBATAN")?"DATA_KELAMBATAN":S.includes("SERAHTERIMADINASAN")?"SERAH_TERIMA_DINASAN":"",type:"month",data:J?.data,codeMenu:S,loading:H,onChangeTri:P,dateChange:e=>L(e),emptyFalse:!0,downloadFalse:!0,children:a.jsx("div",{className:"flex justify-center",children:(0,a.jsxs)("div",{className:"w-full md:w-auto",children:[Z.x4.web.header(null,(0,a.jsxs)("div",{className:" uppercase",children:[D?.submenuItem?.title," ",D?.parent?.title,a.jsx("br",{}),2==T[0]?"PERIODE : "+j()($).format("MMMM YYYY"):1==T[0]?"PERIODE : "+j()($).format("MMMM YYYY")+" S/D "+j()($).add(2,"month").format("MMMM YYYY"):"PERIODE : TAHUN "+j()($).format("YYYY")]})),J?.data?.[0]?.approved_at||!e?.permission.includes("create")?null:a.jsx("div",{className:" w-full text-right",children:a.jsx(c.ZP,{onClick:()=>{let e=(J?.dataInput.length??0)+1,t=s=>J?.dataInput.find(e=>e.code==s+"_"+S)?t(e):j()($).format("YYYY_MM|")+s+"_"+S,s=t(e);V([...R,e]),J?.dataInput?Q({dataInput:[...J.dataInput,{key:e,create:!0,code:s,action:a.jsx("div",{className:"flex justify-center",children:a.jsx("label",{onClick:()=>{X({code:s,key:e,file:document.getElementById("file_"+e).files,deskripsi:document.getElementById("deskripsi_"+e).value})},className:" cursor-pointer",children:a.jsx(d.Z,{placement:"top",className:" mt-1 ",title:"Save",children:a.jsx(h.Z,{style:{fontSize:"20px",color:"green"},className:"mr-3"})})})}),no:e,deskripsi:a.jsx("input",{className:"h-10 mt-2 mr-2 p-2 border  rounded w-full  text-center",name:"deskripsi",id:"deskripsi_"+e}),file:(0,a.jsxs)("label",{htmlFor:"file_"+e,className:" cursor-pointer",onMouseEnter:()=>{document.getElementById("file_"+e).value&&(document.getElementById("fileEmpty_"+e)?.classList.remove("hidden"),document.getElementById("fileCheck_"+e)?.classList.add("hidden"))},onMouseLeave:()=>{document.getElementById("file_"+e).value&&(document.getElementById("fileEmpty_"+e)?.classList.add("hidden"),document.getElementById("fileCheck_"+e)?.classList.remove("hidden"))},children:[(0,a.jsxs)(d.Z,{placement:"top",className:" w-5 h-5 m-1",title:"Upload File",children:[a.jsx(u.Z,{style:{fontSize:"20px"},id:"fileEmpty_"+e}),a.jsx(p.Z,{style:{fontSize:"20px",color:"blue"},className:"hidden",id:"fileCheck_"+e})]}),a.jsx("input",{id:"file_"+e,onChange:t=>{t.target.value?(document.getElementById("fileEmpty_"+e)?.classList.add("hidden"),document.getElementById("fileCheck_"+e)?.classList.remove("hidden")):(document.getElementById("fileEmpty_"+e)?.classList.remove("hidden"),document.getElementById("fileCheck_"+e)?.classList.add("hidden"))},accept:".pdf",type:"file",className:"hidden"})]})}],data:[...J.data,{key:e,create:!0,code:s,action:a.jsx("div",{className:"flex justify-center",children:a.jsx("label",{onClick:()=>{X({code:s,key:e,file:document.getElementById("file_"+e).files,deskripsi:document.getElementById("deskripsi_"+e).value})},className:" cursor-pointer",children:a.jsx(d.Z,{placement:"top",className:" mt-1 ",title:"Save",children:a.jsx(h.Z,{style:{fontSize:"20px",color:"green"},className:"mr-3"})})})}),no:e,deskripsi:"",file:""}]}):Q({dataInput:[{key:e,create:!0,code:s,action:a.jsx("div",{className:"flex justify-center",children:a.jsx("label",{onClick:()=>{X({code:s,key:e,file:document.getElementById("file_"+e).files,deskripsi:document.getElementById("deskripsi_"+e).value})},className:" cursor-pointer",children:a.jsx(d.Z,{placement:"top",className:" mt-1 ",title:"Save",children:a.jsx(h.Z,{style:{fontSize:"20px",color:"green"},className:"mr-3"})})})}),no:e,deskripsi:a.jsx("input",{className:"h-10 mt-2 mr-2 p-2 border  rounded w-full  text-center",name:"deskripsi",id:"deskripsi_"+e}),file:(0,a.jsxs)("label",{htmlFor:"file_"+e,className:" cursor-pointer",children:[a.jsx(d.Z,{placement:"top",className:" mt-1  mr-3",title:"Upload File",children:a.jsx(u.Z,{style:{fontSize:"20px"}})}),a.jsx("input",{id:"file_"+e,accept:".pdf",type:"file",className:"hidden"})]})}],data:[{key:e,create:!0,code:s,action:a.jsx("div",{className:"flex justify-center",children:a.jsx("label",{onClick:()=>{X({code:s,key:e,file:document.getElementById("file_"+e).files,deskripsi:document.getElementById("deskripsi_"+e).value})},className:" cursor-pointer",children:a.jsx(d.Z,{placement:"top",className:" mt-1 ",title:"Save",children:a.jsx(h.Z,{style:{fontSize:"20px",color:"green"},className:"mr-3"})})})}),no:e,deskripsi:"",file:""}]})},icon:a.jsx(x.Z,{}),className:" mt-2 mr-2",type:"primary",style:{marginBottom:16}})}),a.jsx(o.Z,{bordered:!0,scroll:{x:800},dataSource:J?.data.map((e,t)=>{let s=e.key;return R.find(e=>e===s)&&(e=J.dataInput[t]),{...e,action:a.jsx("div",{className:"flex justify-center",children:e.create?a.jsx(a.Fragment,{children:U&&R.find(e=>e===s)?a.jsx(m.Z,{}):a.jsx("label",{onClick:()=>X({code:e.code,key:s,deskripsi:document.getElementById("deskripsi_"+s)?.value,file:document.getElementById("file_"+s).files}),className:" cursor-pointer",children:a.jsx(d.Z,{placement:"top",className:" mt-1 ",title:"Save",children:a.jsx(h.Z,{style:{fontSize:"20px",color:"green"},className:"mr-3"})})})}):a.jsx(a.Fragment,{children:U&&R.find(e=>e===s)?a.jsx(m.Z,{}):a.jsxs(a.Fragment,{children:[R.find(e=>e===s)?a.jsx("label",{onClick:()=>{V(R.filter(e=>e!==s))},className:" cursor-pointer",children:a.jsx(d.Z,{placement:"left",className:" mt-1 ",children:a.jsx(y.Z,{style:{fontSize:"20px"},className:"mr-3"})})}):a.jsx("label",{onClick:()=>{V([...R,s])},className:" cursor-pointer",children:a.jsx(d.Z,{placement:"left",className:" mt-1 ",children:a.jsx(v.Z,{style:{fontSize:"20px"}})})}),R.find(e=>e===s)?a.jsxs(a.Fragment,{children:[a.jsx("label",{onClick:()=>X({code:e.code,key:s,deskripsi:document.getElementById("deskripsi_"+s).value,file:document.getElementById("file_"+s)}),className:" cursor-pointer",children:a.jsx(d.Z,{placement:"top",className:" mt-1 ",title:"Save",children:a.jsx(h.Z,{style:{fontSize:"20px",color:"green"},className:"mr-3"})})}),a.jsx("label",{onClick:()=>ee({code:e.code,key:s}),className:" cursor-pointer",children:a.jsx(d.Z,{placement:"top",className:" mt-1 ",title:"Delete",children:a.jsx(g.Z,{style:{fontSize:"20px",color:"red"}})})})]}):null]})})})}}),pagination:!1,columns:J?.data?.[0]?.approved_at||!e?.permission.includes("create")?[{title:"NO",dataIndex:"no",width:"5%",align:"center"},{title:"DESKRIPSI",dataIndex:"deskripsi",align:"center"},{title:"FILE",dataIndex:"file",align:"center",width:"10%"}]:[{title:"NO",dataIndex:"no",width:"5%",align:"center"},{title:"DESKRIPSI",dataIndex:"deskripsi",align:"center"},{title:"FILE",dataIndex:"file",align:"center",width:"10%"},{title:"ACTION",dataIndex:"action",align:"center",width:"5%"}]})]})})})})}j().extend(S),j().extend(N())},58968:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var a=s(45353),i=s(17577);let l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M518.3 459a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V856c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V613.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 459z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-upload",theme:"outlined"};var n=s(74082);let d=i.forwardRef(function(e,t){return i.createElement(n.Z,(0,a.Z)({},e,{ref:t,icon:l}))})},46024:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var a=s(45353),i=s(17577);let l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};var n=s(74082);let d=i.forwardRef(function(e,t){return i.createElement(n.Z,(0,a.Z)({},e,{ref:t,icon:l}))})},30278:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var a=s(45353),i=s(17577);let l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"};var n=s(74082);let d=i.forwardRef(function(e,t){return i.createElement(n.Z,(0,a.Z)({},e,{ref:t,icon:l}))})},8534:function(e){var t;t=function(){"use strict";var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,s=/([+-]|\d\d)/g;return function(a,i,l){var n=i.prototype;l.utc=function(e){var t={date:e,utc:!0,args:arguments};return new i(t)},n.utc=function(t){var s=l(this.toDate(),{locale:this.$L,utc:!0});return t?s.add(this.utcOffset(),e):s},n.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var d=n.parse;n.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),d.call(this,e)};var r=n.init;n.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else r.call(this)};var c=n.utcOffset;n.utcOffset=function(a,i){var l=this.$utils().u;if(l(a))return this.$u?0:l(this.$offset)?c.call(this):this.$offset;if("string"==typeof a&&null===(a=function(e){void 0===e&&(e="");var a=e.match(t);if(!a)return null;var i=(""+a[0]).match(s)||["-",0,0],l=i[0],n=60*+i[1]+ +i[2];return 0===n?0:"+"===l?n:-n}(a)))return this;var n=16>=Math.abs(a)?60*a:a,d=this;if(i)return d.$offset=n,d.$u=0===a,d;if(0!==a){var r=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(d=this.local().add(n+r,e)).$offset=n,d.$x.$localOffset=r}else d=this.utc();return d};var o=n.format;n.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return o.call(this,t)},n.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},n.isUTC=function(){return!!this.$u},n.toISOString=function(){return this.toDate().toISOString()},n.toString=function(){return this.toDate().toUTCString()};var m=n.toDate;n.toDate=function(e){return"s"===e&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():m.call(this)};var f=n.diff;n.diff=function(e,t,s){if(e&&this.$u===e.$u)return f.call(this,e,t,s);var a=this.local(),i=l(e).local();return f.call(a,i,t,s)}}},e.exports=t()}};