"use strict";exports.id=6821,exports.ids=[6821],exports.modules={97859:(e,a,l)=>{l.d(a,{Ol:()=>o,SZ:()=>m,Zb:()=>n,aY:()=>i,ll:()=>d});var t=l(10326),s=l(17577),r=l(96102);let n=s.forwardRef(({className:e,classNameFalse:a,...l},s)=>t.jsx("div",{ref:s,className:a?e:(0,r.cn)("rounded-2xl my-2 border border-zinc-200 bg-white text-zinc-950 shadow dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",e),...l}));n.displayName="Card",s.forwardRef(({className:e,...a},l)=>t.jsx("div",{ref:l,className:(0,r.cn)("rounded-2xl border border-zinc-200 bg-white text-zinc-950 shadow dark:border-zinc-800 dark:bg-zinc-900 dark:text-zinc-50",e),...a})).displayName="Card900";let o=s.forwardRef(({className:e,...a},l)=>t.jsx("div",{ref:l,className:(0,r.cn)("flex flex-col space-y-1.5 px-6 py-3  rounded-t-2xl  bg-white dark:bg-black",e),...a}));o.displayName="CardHeader";let d=s.forwardRef(({className:e,...a},l)=>t.jsx("h3",{ref:l,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));d.displayName="CardTitle";let m=s.forwardRef(({className:e,...a},l)=>t.jsx("p",{ref:l,className:(0,r.cn)("text-sm text-zinc-500 dark:text-zinc-400 ",e),...a}));m.displayName="CardDescription";let i=s.forwardRef(({className:e,...a},l)=>t.jsx("div",{ref:l,className:(0,r.cn)("p-6 pt-5 bg-white dark:bg-black rounded-b-2xl",e),...a}));i.displayName="CardContent",s.forwardRef(({className:e,...a},l)=>t.jsx("div",{ref:l,className:(0,r.cn)("flex items-center p-6 pt-0",e),...a})).displayName="CardFooter"},46821:(e,a,l)=>{l.d(a,{Z:()=>F});var t=l(10326),s=l(17577),r=l(35047),n=l(34626),o=l(32929),d=l(60816),m=l(75698),i=l(3574),c=l(88295),p=l.n(c);l(55675);var f=l(20341),u=l(97859),x=l(7625),h=l(35285),Y=l(3204),b=l(15865),w=l(67602),N=l(63191),j=l(11221),g=l(54535),y=l(26031),v=l(41681);let M=({downloadFalse:e,loadingExport:a,trueApprave:l,downloadPdf:r,downloadExcel:o,title:m,onDelete:i,falseDelete:c,date:p,approve:u,onApprove:x,onUnapprove:M,loadingDisable:k})=>{let D=(0,s.useContext)(f.Z),[Z,C]=(0,s.useState)([]),[I,S]=(0,s.useState)([]),{message:O,notification:F,modal:T}=n.Z.useApp(),{confirm:U}=T;return(0,s.useEffect)(()=>{let a=[],s=[];D?.permission?.indexOf("export excel")!==-1&&o&&!e&&a.push({key:"excel",label:t.jsx("a",{className:"w-full text-left",onClick:o,children:"Excel"}),icon:t.jsx(b.Z,{style:{color:"green"}}),className:"h-10"}),D?.permission?.indexOf("export pdf")!==-1&&r&&!e&&a.push({key:"pdf",label:t.jsx("a",{className:"w-full text-left",onClick:r,children:"PDF"}),icon:t.jsx(w.Z,{style:{color:"red"}}),className:"h-10"}),D?.permission?.indexOf("delete")===-1||c||s.push({key:"delete",label:t.jsx("a",{className:"w-full text-left",onClick:()=>{U({title:"Delete data?",icon:t.jsx(N.Z,{}),content:`Are you sure want to delete this ${m} data in ${p} ?`,okText:"Yes",okType:"danger",cancelText:"No",onOk(){i(!0)}})},children:"Delete"}),icon:t.jsx(N.Z,{style:{color:"red"}}),className:"h-10"}),p&&(u?D?.permission?.indexOf("unapprove")!==-1&&l&&s.push({key:"unapprove",label:t.jsx("a",{className:"w-full text-left",onClick:()=>{U({title:"Unapprove data?",icon:t.jsx(g.Z,{}),content:`Are you sure want to Unapprove this ${m} data in ${p} ?`,okText:"Yes",okType:"danger",cancelText:"No",onOk(){M(!0)}})},children:"Unapprove"}),icon:t.jsx(g.Z,{style:{color:"red"}}),className:"h-10"}):D?.permission?.indexOf("approve")!==-1&&l&&s.push({key:"approve",label:t.jsx("a",{className:"w-full text-left",onClick:()=>{U({title:"Approve data?",icon:t.jsx(j.Z,{style:{color:"green"}}),content:`Are you sure want to Approve this ${m} data in ${p} ?`,okText:"Yes",cancelText:"No",onOk(){x(!0)}})},children:"Approve"}),icon:t.jsx(j.Z,{style:{color:"green"}}),className:"h-10"})),C(a),S(s)},[U,e,l,c,D,m,p,i,r,o,u,x,M]),(0,t.jsxs)(t.Fragment,{children:[I.length?t.jsx("div",{className:"",children:t.jsx(h.Z,{className:"md:mt-12 float-right mr-4",disabled:a,menu:{items:I},children:t.jsx(d.ZP,{children:(0,t.jsxs)(Y.Z,{children:[t.jsx(y.Z,{})," Opsi"]})})})}):null,Z.length?t.jsx("div",{className:"",children:t.jsx(h.Z,{className:"md:mt-12 float-right",disabled:!!a||!!k,menu:{items:Z},children:t.jsx(d.ZP,{loading:a,children:(0,t.jsxs)(Y.Z,{children:[a?"":t.jsx(v.Z,{})," Export"]})})})}):null]})};var k=l(52279),D=l(44624),Z=l(91862),C=l(82650);let{RangePicker:I}=Z.default,S=({disabled:e,className:a,onDateSelect:l,widthDate:r,enableSelect:n,onDistanceSelect:o,typeDatePicker:d,showTime:m,loadingDisable:i,allowClear:c,onChangeTri:f,disabledDate:u})=>{let[x,h]=(0,s.useState)([]),[Y,b]=(0,s.useState)(""),[w,N]=(0,s.useState)(""),[j,g]=(0,s.useState)(0),[y,v]=(0,s.useState)(null),[M,D]=(0,s.useState)(0),[S,O]=(0,s.useState)(null),[F,T]=(0,s.useState)(null),[U,$]=(0,s.useState)([null,null]);(0,s.useEffect)(()=>{l(Y)},[Y]),(0,s.useEffect)(()=>{T(null),O(null),v(null)},[f]),(0,s.useEffect)(()=>{(async()=>{let e=await (0,k.Z)().get("/distance/"),a=e?.data;if(void 0!==a){let e=[];e.push({value:"",label:"All Data"}),a.map((a,l)=>e.push({value:a.distance,label:a.distance})),h(e)}})()},[]);let z=(e,a)=>{if(e?.[0]){let t=parseInt(p()(e[0]).format("DD")),s=parseInt(p()(e[0]).format("MM")),r=parseInt(p()(e[0]).format("YYYY")),n=parseInt(p()(e[0]).format("HH")),o=parseInt(p()(e[0]).format("mm")),d=parseInt(p()(e[0]).format("ss")),m=parseInt(p()(e[1]).format("DD")),i=parseInt(p()(e[1]).format("MM")),c=parseInt(p()(e[1]).format("YYYY")),f=parseInt(p()(e[1]).format("hh")),u=parseInt(p()(e[1]).format("mm")),x=parseInt(p()(e[1]).format("ss"));b({...Y,dateFrom:t,monthFrom:s,yearFrom:r,hourFrom:n,minuteFrom:o,secondFrom:d,dateUntil:m,monthUntil:i,yearUntil:c,hourUntil:f,minuteUntil:u,secondUntil:x,dateStrings:a}),l(Y,w,j,y,M)}else l(void 0)};return t.jsx(t.Fragment,{children:(0,t.jsxs)("div",{className:"flex flex-col border-none mb-7 mt-2 ml-1",children:[t.jsx("span",{id:"subject",className:"mb-5 mt-1 text-[14px] font-bold",children:"Periode"}),(0,t.jsxs)("div",{className:"flex flex-wrap",children:[""===d?t.jsx(I,{allowClear:c,disabled:!!e||!!i,allowEmpty:[!0,!1],className:`${a} mb-3 lg:mr-3`,showTime:m,onChange:z,disabledDate:u}):"rangemonth"===d?t.jsx(I,{picker:"month",disabled:!!e||!!i,className:`${a} mb-3 lg:mr-3 sm:w-32`,onChange:z,disabledDate:u}):"triwulan"===d?t.jsx(I,{picker:"month",placeholder:["Start month","End month"],allowEmpty:[!0,!0],allowClear:!0,value:[F?p()(F,"YYYY-MM"):null,S?p()(S,"YYYY-MM"):null],disabled:[!!e||!!i,!0],onChange:(e,a)=>{if(e?.[0]){let t=parseInt(p()(e[0]).format("DD")),s=parseInt(p()(e[0]).format("MM")),r=parseInt(p()(e[0]).format("YYYY")),n=parseInt(p()(e[0]).format("HH")),o=parseInt(p()(e[0]).format("mm")),d=parseInt(p()(e[0]).format("ss")),m=parseInt(p()(e[0]).add(2,"month").format("DD")),i=parseInt(p()(e[0]).add(2,"month").format("MM")),c=parseInt(p()(e[0]).add(2,"month").format("YYYY")),f=parseInt(p()(e[0]).add(2,"month").format("hh")),u=parseInt(p()(e[0]).add(2,"month").format("mm")),x=parseInt(p()(e[0]).add(2,"month").format("ss")),h=p()(e[0]).locale("id").format("MMMM"),k=parseInt(p()(e[0]).format("M")),Z=parseInt(p()(e[0]).format("YYYY")),C=parseInt(p()(e[0]).format("DD"));T(p()(e?.[0]).format("YYYY-MM-DD")),O(p()(e?.[0]).add(2,"month").format("YYYY-MM-DD")),N(h),g(k),v(Z),D(C),b({...Y,dateFrom:t,monthFrom:s,yearFrom:r,hourFrom:n,minuteFrom:o,secondFrom:d,dateUntil:m,monthUntil:i,yearUntil:c,hourUntil:f,minuteUntil:u,secondUntil:x,month:k,monthNumber:k,year:Z,day:C,dateStrings:a}),l(Y,w,j,y,M)}else T(null),O(null),l(void 0)},disabledDate:u}):"rangepicker"===d?t.jsx(I,{allowClear:c,disabled:!!e||!!i,allowEmpty:[!0,!1],className:`${a} mb-3 lg:mr-3`,showTime:m,onChange:z,disabledDate:u}):"year"===d?t.jsx(Z.default,{disabled:!!e||!!i,className:`${a} mb-3 lg:mr-3 sm:w-[500px] w-96`,value:y?p()(y,"YYYY"):null,onChange:(e,a)=>{if(null===e)v(null),l(y);else{let t=p()(e).locale("id").format("MMMM"),s=parseInt(p()(e).format("M")),r=parseInt(p()(e).format("YYYY")),n=parseInt(p()(e).format("DD"));N(t),g(s),v(a),D(n),b({...Y,month:t,monthNumber:s,year:r,day:n}),l(Y,w,j,y,M)}},allowClear:!0,format:"YYYY",picker:"year",disabledDate:u}):t.jsx(Z.default,{disabled:!!e||!!i,className:`${a} mb-3 lg:mr-3 sm:w-[500px] w-96`,onChange:(e,a)=>{let t=p()(e).locale("id").format("MMMM"),s=parseInt(p()(e).format("M")),r=parseInt(p()(e).format("YYYY")),n=parseInt(p()(e).format("DD"));N(t),g(s),v(r),D(n),b({...Y,month:t,monthNumber:s,year:r,day:n}),l(Y,w,j,y,M)},picker:d||"month",disabledDate:u}),t.jsx(C.default,{disabled:!!e||!!i,showSearch:!0,defaultValue:"",className:`${n??"hidden"} sm:ml-2 md:w-32 sm-w-32 `,onChange:e=>{o&&o(e)},placeholder:"Select Distance",filterOption:(e,a)=>(a?.label||"").toLowerCase().includes((e??"").toLowerCase()),options:x.map((e,a)=>({value:e.value,label:`${e.label}`}))})]})]})})};var O=l(38815);function F({className:e,loadingBottom:a,loadingExport:l,childrenInput:c,enableSelect:h,onDistanceSelect:Y,typeLoading:b,type:w,codeDelete:N,onDelete:j,downloadPdf:g,downloadExcel:y,loading:v,dateChange:Z,children:C,data:I,loadingDisable:F,showTime:T,allowClear:U,warning:$,showModalWarn:z,onApprove:A,onChangeTri:E,disabledDate:P,downloadFalse:R,emptyFalse:B,noTheme:_,codeMenu:H}){(0,s.useContext)(f.Z);let[L,V]=(0,s.useState)(),[q,G]=(0,s.useState)(),[J,K]=(0,s.useState)(),Q=n.Z.useApp(),{message:W}=Q;(0,r.usePathname)();let X=async()=>{W.open({key:"approve_report",type:"loading",content:"Approveing...",duration:0});let e=await (0,k.Z)().post("report/approve",{code:N,codeMenu:H??null,month:2==q.length?Number(p()(q[0]).format("MM")):Number(p()(q).format("MM")),year:2==q.length?Number(p()(q[0]).format("YYYY")):Number(p()(q).format("YYYY"))});(0,D.Z)({res:e,app:Q,msgTrue:!0,key:"approve_report"})&&(K(new Date),A(!0))},ee=async()=>{W.open({key:"unapprove_report",type:"loading",content:"Unapproveing...",duration:0});let e=await (0,k.Z)().post("report/unapprove",{code:N,codeMenu:H??null,month:2==q.length?Number(p()(q[0]).format("MM")):Number(p()(q).format("MM")),year:2==q.length?Number(p()(q[0]).format("YYYY")):Number(p()(q).format("YYYY"))});(0,D.Z)({res:e,app:Q,msgTrue:!0,key:"unapprove_report"})&&(K(null),A(!1))},ea=async()=>{W.open({key:"delete_report",type:"loading",content:"Deleting...",duration:0});let e=await (0,k.Z)().post("report/delete",{code:N,codeMenu:H??null,month:2==q.length?Number(p()(q[0]).format("MM")):Number(p()(q).format("MM")),year:2==q.length?Number(p()(q[0]).format("YYYY")):Number(p()(q).format("YYYY"))});(0,D.Z)({res:e,app:Q,msgTrue:!0,key:"delete_report"})&&j(!0)},{systemTheme:el,theme:et}=(0,i.F)();return t.jsx(o.ZP,{theme:_?void 0:{components:{Table:"dark"===et?{borderColor:"#fff",headerBorderRadius:0,cellPaddingBlock:5}:"system"===et&&"dark"===el?{borderColor:"#fff",headerBorderRadius:0,cellPaddingBlock:5}:{headerBg:"#79c1eb",borderColor:"#000",headerBorderRadius:0,cellPaddingBlock:5}}},componentSize:"large",children:(0,t.jsxs)(u.Zb,{className:"border-none p-7 w-full shadow-md",children:[(0,t.jsxs)("div",{className:c?"flex flex-wrap mb-6":"flex flex-wrap mb-6 justify-between",children:[t.jsx(S,{allowClear:U,onDistanceSelect:Y??void 0,enableSelect:h,disabled:b?v:L??!1,typeDatePicker:"rangepicker"===w?"":"triwulan"===w?"triwulan":void 0===w?"month":w,disabledDate:P,className:c?"":"rangepicker"==w?"w-full lg:w-2/3 xl:w-3/4":"w-full md:w-3/4 lg:w-2/4",onDateSelect:e=>{""===e||isNaN(e?.monthNumber)?e?.dateStrings?(Z(e.dateStrings),G(e.dateStrings)):(Z(void 0),G(void 0)):"rangepicker"===w?e?.dateStrings&&(Z(e.dateStrings),G(e.dateStrings)):(Z(p()(e.year+"-"+e.monthNumber+"-01").format("YYYY-MM-DD")),G(p()(e.year+"-"+e.monthNumber+"-01").format("YYYY-MM-DD")))},loadingDisable:F,showTime:T,onChangeTri:E}),c,!!I?.length&&q&&!v&&(0,t.jsxs)("div",{className:c?"flex flex-row md:justify-end w-full sm:justify-start md:-mt-32 mt-3 ml-1":"flex flex-row",children:[$&&t.jsx(d.ZP,{className:"w-6 md:my-12 mr-2",onClick:()=>{z(!0)},icon:t.jsx(O.Z,{style:{fontSize:"25px",color:"#ebde34"}})}),t.jsx(M,{loadingExport:L,trueApprave:N,approve:J,onApprove:X,onUnapprove:ee,onDelete:ea,falseDelete:!N,title:N?.toLowerCase().replaceAll("_"," "),downloadFalse:R,date:"rangemonth"==w?q?.[0]===q?.[1]&&`${p()(q[0]).format("YYYY MMMM")}`:`${p()(q).format("YYYY MMMM")}`,downloadPdf:g,downloadExcel:y,loadingDisable:F})]})]}),q&&t.jsx(t.Fragment,{children:v?t.jsx(x.Z,{className:"-mt-6"}):t.jsx("div",{className:" md:-mt-6 overflow-auto w-full",children:I?.length||B?t.jsx("div",{className:e,children:C}):t.jsx(m.Z,{})})}),a]})})}p().locale("id")},7625:(e,a,l)=>{l.d(a,{Z:()=>r});var t=l(10326),s=l(86991);let r=({className:e})=>t.jsx("div",{className:`flex flex-col w-full  ${e}`,children:(0,t.jsxs)("div",{className:"bg-white dark:bg-zinc-950 p-6 rounded-2xl",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(s.O,{className:"h-8 md:w-40"}),t.jsx(s.O,{className:"h-6 md:w-96"})]}),t.jsx(s.O,{className:"h-10 w-36 rounded-2xl"})]}),(0,t.jsxs)("div",{className:"flex flex-col w-full",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center w-full mt-6 mb-4",children:[(0,t.jsxs)("div",{className:"space-x-2 flex",children:[t.jsx(s.O,{className:"h-6 md:w-64"}),t.jsx(s.O,{className:"h-6 w-28"})]}),t.jsx(s.O,{className:"h-6 w-28 rounded-2xl"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[t.jsx(s.O,{className:"h-6 w-full"}),t.jsx(s.O,{className:"h-6 w-full"}),t.jsx(s.O,{className:"h-6 w-full"}),t.jsx(s.O,{className:"h-6 w-full"}),t.jsx(s.O,{className:"h-6 w-full"}),t.jsx(s.O,{className:"h-6 w-full"}),t.jsx(s.O,{className:"h-6 w-full"}),t.jsx(s.O,{className:"h-6 w-full"})]})]})]})})}};